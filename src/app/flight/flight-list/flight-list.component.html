<section class="flight-area mt-150" *ngIf="!isMobile">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="travel-box mb-20" >
                    <form [formGroup]="flightDataModify" (ngSubmit)="flightSearch()">
                        <div class="travel-select-data-area" >
                            <div class="travel-select-trip">
                                <ul class="travel-select-trip-ul">
                                    <li>
                                        <span class="selectway ">Round Trip</span>
                                    </li>
                                    <li>
                                        <span class="selectway active">One Way</span>
                                    </li>
                                    <li>
                                        <span class="selectway">Multicity</span>
                                    </li>
                                    <li>
                                        <div class="Travellers-dropdown ms-3" appDropdown id="openTravellers">
                                            <div class="Travellers-dropdown-title">
                                                <h5>0{{totalPassenger}} Passengers <i class="fas fa-caret-down"></i></h5>
                                            </div>
                                            <ul class="Travellers-dropdown-data flight-from-hide dropdown">
                                                <li>
                                                    <p class="t-title">Travellers</p>
                                                </li>
                                                <li>
                                                    <div class="Travellers-passengers-data">
                                                        <div class="Travellers-name">
                                                            <h6>Adult</h6>
                                                            <p>12 years & above</p>
                                                        </div>
                                                        <div class="Travellers-qty">
                                                            <div class="quantity buttons_added">
                                                                <input type="button" (click)="decreaseAdult()"  value="-" class="qty-buttons minus" >
                                                                <input type="number" step="1" oninput="if(this.value.length > 1) this.value = this.value.substring(0,1)" min="1" max="9" name="quantity" value="0" title="Qty" class="input-text qty text quantity_adult1_events" [(ngModel)]="adultsVal" formControlName="adults" size="4" pattern="" inputmode="">
                                                                <input type="button" (click)="increaseAdult()" value="+" [disabled]="disableParent"  class="qty-buttons plus">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="Travellers-passengers-data">
                                                        <div class="Travellers-name">
                                                            <h6>Child</h6>
                                                            <p>2 - 11 years</p>
                                                        </div>
                                                        <div class="Travellers-qty">
                                                            <div class="quantity buttons_added">
                                                                <input type="button" (click)="decreaseChild()" value="-" class="qty-buttons minus" >
                                                                <input type="number" step="1" min="0" max="6" name="quantity" value="0" title="Qty" class="input-text qty text quantity_adult1_events" size="4" pattern="" inputmode=""  [(ngModel)]="childVal" formControlName="child">
                                                                <input type="button" (click)="increaseChild()" [disabled]="disablechildren" value="+" class="qty-buttons plus">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li>


                                                    <div class="Travellers-passengers-data">
                                                        <div class="Travellers-name">
                                                            <h6>Infant</h6>
                                                            <p>Under 2 years</p>
                                                        </div>
                                                        <div class="Travellers-qty">
                                                            <div class="quantity buttons_added">
                                                                <input type="button" (click)="decreaseInfant()" value="-" class="qty-buttons minus" >
                                                                <input type="number" step="1" min="0" max="6" name="quantity" value="0" title="Qty" class="input-text qty text quantity_adult1_events" size="4" pattern="" [(ngModel)]="infantsVal" formControlName="infants" inputmode="">
                                                                <input type="button" (click)="increaseInfant()" [disabled]="disableinfants" value="+" class="qty-buttons plus">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>

                                    </li>
                                    <li>
                                        <!-- <select name="" class="liothers class-select ms-4" value="B" [(ngModel)]="flightClassVal" aria-label="Default select example" formControlName="flightclass">
                                            <option selected="selected" value="B">Business Class</option>
                                            <option value="E">Economy Class</option>
                                            <option value="F">First Class</option>
                                            <option value="P">Premium Economy</option>
                                        </select> -->
                                        <mat-select class=" ms-4" [(ngModel)]="flightClassVal" formControlName="flightclass">
                                          <mat-option value="B">Business Class</mat-option>
                                          <mat-option value="E">Economy Class</mat-option>
                                          <mat-option value="F">First Class</mat-option>
                                          <mat-option value="P">Premium Economy</mat-option>
                                        </mat-select>
                                    </li>
                                </ul>
                            </div>
                            <div class="travel-data">
                                <div class="row g-2">
                                    <div class="col-lg-6">
                                        <div class="select-root-area">
                                            <div class="select-root-left" appDropdown>
                                                <span class="select-roottitle">FROM</span>
                                                <h5 class="fw_6 ">{{fromCityName}}</h5>
                                                <span class="select-roottitle">{{fromAirpotName}}</span>
                                                <div class="flight-from-data flight-from-hide dropdown">
                                                    <div class="flight-from-data-search">
                                                        <input type="text" autocomplete="off" name=""   class="w-100" id="fromCitySearch"   placeholder="Search City" (keyup)="fromList($event)">
                                                        <!-- <input type="hidden" name="" id="hdnFromCitySearch" formControlName="flightfrom" placeholder="Search City">
                                                        {{flightDataModify.value.flightfrom}} -->
                                                    </div>
                                                    <ul class="flight-from-data-ul" *ngIf="fromFlightList">
                                                        <li class="flight-from-ul-li">
                                                            <p class="flight-Results-text">Results</p>
                                                        </li>
                                                        <li class="flight-from-ul-li" *ngFor="let fromCity of cityList">
                                                            <a  class="flight-from-ul-li-a"  (click)="selectFromFlightList(fromCity._source)" >
                                                                <div class="flight-from-name"   >
                                                                    <h6>{{fromCity._source.city}}, {{fromCity._source.country}}</h6>
                                                                    <p>{{fromCity._source.airport_name}} </p>
                                                                </div>
                                                                <div class="flight-from-shortname" >
                                                                    <h6>{{fromCity._source.airport_code}}</h6>
                                                                </div>
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="select-root-icons" (click)="swap()">
                                                <img src="{{cdnUrl}}/images/icons/twoway.png" alt="">
                                            </div>
                                            <div class="select-root-right" appDropdown #toCityDiv id="toCityDiv">
                                                <span class="select-roottitle">TO</span>
                                                <h5 class="fw_6 ">{{toCityName}}</h5>
                                                <span class="select-roottitle">{{toAirpotName}}</span>

                                                <div class="flight-to-data flight-from-hide dropdown" >
                                                    <div class="flight-from-data-search">
                                                        <input type="text" name="" autocomplete="off" class="w-100" id="toCitySearch" placeholder="Search City"  (keyup)="toList($event)">
                                                    </div>
                                                    <ul class="flight-from-data-ul" *ngIf="toFlightList">
                                                        <li class="flight-from-ul-li">
                                                            <p class="flight-Results-text">Results</p>
                                                        </li>
                                                        <li class="flight-from-ul-li" *ngFor="let toCity of cityList">
                                                            <a  class="flight-from-ul-li-a" (click)="selectToFlightList(toCity._source)"  >
                                                                <div class="flight-from-name"  >
                                                                    <h6>{{toCity._source.city}}, {{toCity._source.country}}</h6>
                                                                    <p>{{toCity._source.airport_name}} </p>
                                                                </div>
                                                                <div class="flight-from-shortname"  >
                                                                    <h6>{{toCity._source.airport_code}}</h6>
                                                                </div>
                                                            </a>
                                                        </li>

                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="root-date">
                                            <div class="select-root-area">
                                                <div class="select-dep-ret">
                                                    <div class="area-root-departure" (click)="picker.open()" id="datePickerOpen" >
                                                        <div class="select-root-departure">
                                                            <span class="select-roottitle">DEPARTURE</span>
                                                            <h5 class=" ">{{departureDate | date:'dd MMM' }}</h5>
                                                            <span class="select-roottitle">{{departureDate | date:'EEEE' }}</span>
                                                        </div>
                                                        <div class="select-root-date" style="position: relative; left: 0;">
                                                            <i class="far fa-calendar-alt single-datepicker me-3 fs_22" ></i>
                                                            <mat-form-field  style="visibility:hidden;position: absolute;right: 0;bottom: 0;">
                                                              <input matInput [min]="minDate" [matDatepicker]="picker"  formControlName="departure" [(ngModel)]="departureDate" (dateChange)="currentPeriodClicked($event)">
                                                              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                                              <mat-datepicker #picker ></mat-datepicker>
                                                       </mat-form-field>
                                                            <!-- <input type="hidden" name="hdnDepartureDate" value={{departureDate}}  formControlName="departure"> -->
                                                        </div>
                                                    </div>
                                                    <!-- <div class="area-root-departure" (click)="picker.open()">
                                                        <div class="select-root-departure">
                                                            <span class="select-roottitle">DEPARTURE</span>
                                                            <h5 class=" ">{{departureDate | date:'dd MMM' }}</h5>
                                                            <span class="select-roottitle">{{departureDate | date:'EEEE' }}</span>
                                                        </div>
                                                        <div class="select-root-date">
                                                            <i class="far fa-calendar-alt single-datepicker me-3 fs_22" ></i>
                                                            <mat-form-field class="d-none">
                                                                <input matInput [matDatepicker]="picker"  formControlName="departure" [(ngModel)]="departureDate" >
                                                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                                                <mat-datepicker #picker hidden></mat-datepicker>
                                                         </mat-form-field>
                                                        </div>
                                                    </div> -->
                                                    <div class="area-root-reutrn">
                                                        <div class="select-root-reutrn">
                                                            <span class="select-roottitle">RETURN</span>
                                                            <!-- <h5 class="">29 May</h5> -->
                                                            <span class="select-roottitle d-block w-100">Tap to add a <br>  return date</span>
                                                        </div>
                                                        <div class="select-root-date">
                                                            <!-- <i class="far fa-calendar-alt daterange-right me-3 fs_22"></i> -->
                                                        </div>

                                                    </div>

                                                </div>

                                            </div>
                                            <div class="root-search">
                                                <button type="submit" class="searchbn">Search</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                    </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                  <div class="flight-partners">
                      <p>Compare &amp; Fly with our flight partners</p>
                      <ul class="list-inline ms-3">
                          <li class="list-inline-item">
                              <img src="{{cdnUrl}}/images/flight_partners/Cleartrip.png" alt="Cleartrip">
                          </li>
                          <li class="list-inline-item">
                              <img src="{{cdnUrl}}/images/flight_partners/Yatra.png" alt="Yatra">
                          </li>
                          <li class="list-inline-item">
                              <img src="{{cdnUrl}}/images/flight_partners/Easemytrip.png" alt="Easemytrip">
                          </li>
                      </ul>
                  </div>
              </div>
          </div>

            <div class="col-lg-12">
                <div class="layout-box">
                  <div class="layout-left">
                    <div class="filter-loaders animation-loader" *ngIf="loader">
                      <div class="filter-loader border-0" *ngFor="let dummy of dummyForLoader">
                          <div class="filter-loader-content ">
                              <span class="filter-box-title mt-0 w-50"><ngx-skeleton-loader *ngIf="loader" count="1" appearance="line" animation="pulse"
                                [theme]="{
                                  'border-radius': 0
                                }"></ngx-skeleton-loader></span>
                              <span class="filter-box-subtext "><ngx-skeleton-loader *ngIf="loader" count="1" appearance="line" animation="pulse"
                                [theme]="{
                                  'height':'8px',
                                  'border-radius': '3px'
                                }"></ngx-skeleton-loader></span>
                          </div>
                      </div>

                  </div>
                    <!-- <ngx-skeleton-loader *ngIf="loader" count="10" appearance="line" animation="pulse"
                        [theme]="{

                           height: '90px',
                          'border-radius': 0
                        }"></ngx-skeleton-loader> -->
                        <div [hidden]="loader">
                          <div class="Filterslayout d-flex justify-content-between align-items-center" >
                            <h6 class="fs_16">Filters</h6>
                            <a href="javascript:void(0)" class="fs_13 text-color" (click)="resetAllFilters()">Reset all</a>
                        </div>
                        <hr>
                        <div class="default-sidebar flight-sidebar" [hidden]="loader">
                            <div class="sidebar-widget search-widget">
                                <div class="widget-title">
                                    <h6 class="">Popular Filters</h6>
                                    <a href="javascript:void(0)" (click)="resetPopularFilter()">Reset</a>
                                </div>
                                <div class="widget-content">
                                    <ul class="category-list clearfix mt-2" id="popular-filters">

                                        <!-- <li class="custom-check-box" *ngFor="let popularItems of flight_PopularItems" [ngClass]="{'active': popularItems.active}">
                                            <div class="custom-controls-stacked">
                                                <label class="custom-control material-checkbox">
                                                    <input type="checkbox" class="material-control-input" value="{{popularItems.value}}" (change)="popularFilterFlightData()"/>
                                                    <span class="material-control-indicator"></span>
                                                    <span class="description">{{popularItems.value}} ({{RefundableFaresCount}})</span>
                                                </label>
                                            </div>
                                        </li> -->
                                        <li class="custom-check-box" *ngFor="let popularItems of flight_PopularItems" [ngClass]="{'active': popularItems.active}">
                                            <div class="custom-controls-stacked">
                                                <label class="custom-control material-checkbox">
                                                    <input type="checkbox" class="material-control-input" value="{{popularItems.value}}" [checked]="popularItems.active" (change)="FlightPopularFilterFlightData(popularItems)"/>
                                                    <span class="material-control-indicator"></span>
                                                    <span class="description" *ngIf="popularItems.name!='Meals_Included'">{{popularItems.value}} ({{popularItems.count}})</span>
                                                    <span class="description" *ngIf="popularItems.name=='Meals_Included'">{{popularItems.value}}</span>
                                                </label>
                                            </div>
                                        </li>
                                        <!-- <li class="custom-check-box" >
                                            <div class="custom-controls-stacked">
                                                <label class="custom-control material-checkbox">
                                                    <input type="checkbox" class="material-control-input" value="Refundable-Fares" (change)="popularFilterFlightData()"/>
                                                    <span class="material-control-indicator"></span>
                                                    <span class="description">Refundable Fares ({{RefundableFaresCount}})</span>
                                                </label>
                                            </div>
                                        </li>
                                        <li class="custom-check-box">
                                            <div class="custom-controls-stacked">
                                                <label class="custom-control material-checkbox">
                                                    <input type="checkbox" class="material-control-input" value="non-stop" (change)="popularFilterFlightData()"/>
                                                    <span class="material-control-indicator"></span>
                                                    <span class="description">Non-stop ({{nonStopCount}})</span>
                                                </label>
                                            </div>
                                        </li>
                                        <li class="custom-check-box">
                                            <div class="custom-controls-stacked">
                                                <label class="custom-control material-checkbox">
                                                    <input type="checkbox" class="material-control-input" value="Morning-Departures"  (change)="popularFilterFlightData()"/>
                                                    <span class="material-control-indicator"></span>
                                                    <span class="description">Morning Departures ({{morningDearptureCount}})</span>
                                                </label>
                                            </div>
                                        </li>
                                        <li class="custom-check-box">
                                            <div class="custom-controls-stacked">
                                                <label class="custom-control material-checkbox">
                                                    <input type="checkbox" class="material-control-input" value="Meals-Included"  (change)="popularFilterFlightData()"/>
                                                    <span class="material-control-indicator"></span>
                                                    <span class="description">Meals Included</span>
                                                </label>
                                            </div>
                                        </li> -->
                                    </ul>
                                </div>
                            </div>
                            <hr>
                            <div class="sidebar-widget flighttimings-widget" id="Flight_Timings">
                                <div class="widget-title">
                                    <h6 class="">Flight Timings</h6>
                                    <a href="javascript:void(0)" (click)="resetFlightTimingsFilter()">Reset</a>
                                </div>
                                <div class="widget-content">
                                    <p class="flighttimings-text">Departing flight ({{flightTimingfrom}}-{{flightTimingto}})</p>
                                    <div class="flighttiming-content flight-departing">
                                        <div class="flighttiming-list" *ngFor="let timingsItems of flight_Timingsitems" [ngClass]="{'active': timingsItems.active}"
                                        (click)="FlightTimingsFilterFlightData(timingsItems)">
                                            <img src="assets/images/icons/timings/{{timingsItems.image}}" alt="">
                                            <p [innerHTML]="timingsItems.value"></p>
                                        </div>
                                        <!-- <div class="Stops-list" *ngFor="let FlightStopitem of stopsFilteritems" [ngClass]="{'active': FlightStopitem.active}" (click)="FlightStopsFilterFlightData(FlightStopitem)" [innerHTML]="FlightStopitem.value">
                                        </div> -->
                                        <!-- <div class="flighttiming-list" value="0_6" (click)="FlightTimingsFilterFlightData('0_6')">
                                            <img src="assets/images/icons/timings/1.png" alt="">
                                            <p>00-06</p>
                                        </div>
                                        <div class="flighttiming-list " value="6_12" (click)="FlightTimingsFilterFlightData('6_12')">
                                            <img src="assets/images/icons/timings/2.png" alt="">
                                            <p>06-12</p>
                                        </div>
                                        <div class="flighttiming-list" value="12_18" (click)="FlightTimingsFilterFlightData('12_18')">
                                            <img src="assets/images/icons/timings/3.png" alt="">
                                            <p>12-18</p>
                                        </div>
                                        <div class="flighttiming-list" value="18_0" (click)="FlightTimingsFilterFlightData('18_0')">
                                            <img src="assets/images/icons/timings/4.png" alt="">
                                            <p>18-00</p>
                                        </div> -->
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <div class="sidebar-widget Price-widget" >
                                <div class="widget-title">
                                    <h6 class="">Price</h6>
                                    <a href="javascript:void(0)" (click)="resetPriceFilter()">Reset</a>
                                </div>
                                <div class="widget-content mt-10 mb-30 price-widget-content">
                                    <div style="margin:0 0 20px 0">
                                        <input type="number" min="0" [(ngModel)]="minPrice" [max]="resetMaxPrice"  id="min_price" class="price-range-field" />
                                        <span class="ms-3 me-3">-</span>
                                        <input type="number" min="0"  [(ngModel)]="maxPrice" [max]="resetMaxPrice"  id="max_price" class="price-range-field" />
                                    </div>
                                    <!-- <div id="slider-range" class="price-filter-range" name="rangeInput"></div> -->
                                    <!-- <mat-slider min="1" max="100" step="1" value="50"></mat-slider> -->
                                    <ngx-slider [(value)]="minPrice" [(highValue)]="maxPrice" [options]="options"
                                    (valueChange)="onMinValueChange($event)"
                                      (highValueChange)="onMaxValueChange($event)"
                                    ></ngx-slider>

                                </div>
                            </div>
                            <hr>
                            <div class="sidebar-widget stops-widget" id="Flight_Stops">
                                <div class="widget-title">
                                    <h6 class="">Stops</h6>
                                    <a href="javascript:void(0)" (click)="resetFlightStopsFilter()">Reset</a>
                                </div>
                                <div class="widget-content"  >
                                    <div class="Stops-content" >
                                        <div class="Stops-list" *ngFor="let FlightStopitem of stopsFilteritems" [ngClass]="{'active': FlightStopitem.active}" (click)="FlightStopsFilterFlightData(FlightStopitem)"
                                        [innerHTML]="FlightStopitem.value">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <div class="sidebar-widget Airlines-widget">
                                <div class="widget-title">
                                    <h6 class="">Airlines</h6>
                                    <a href="javascript:void(0)" (click)="resetAirlineFlightsFilter()">Reset</a>
                                </div>
                                <div class="widget-content" id="airline_list">
                                    <ul class="category-list clearfix mt-2" >
                                        <!-- <li class="custom-check-box" *ngFor="let airline of airlines ; let i = index ">
                                            <div class="custom-controls-stacked">
                                                <label class="custom-control material-checkbox" >
                                                    <input type="checkbox" class="material-control-input" value="{{airline.airlineName}}"  (change)="popularFilterFlightData()"/>
                                                    <span class="material-control-indicator"></span>
                                                    <span class="description">{{airline.airlineName}} ({{airline.flighCount}})</span>
                                                </label>
                                                <p>&#8377;{{airline.price|number}}</p>
                                            </div>
                                        </li> -->
                                        <li class="custom-check-box" *ngFor="let airlineItem of airlines ; let i = index " [ngClass]="{'active': airlineItem.active}">
                                            <div class="custom-controls-stacked">
                                                <label class="custom-control material-checkbox" >
                                                    <input type="checkbox" class="material-control-input" value="{{airlineItem.airlineName}}" [checked]="airlineItem.active" (change)="flightAirlineFilterFlightData(airlineItem)"/>
                                                    <span class="material-control-indicator"></span>
                                                    <span class="description">{{airlineItem.airlineName}} ({{airlineItem.flighCount}})</span>
                                                </label>
                                                <p>&#8377;{{airlineItem.price}}</p>
                                            </div>
                                        </li>
                                        <!-- <li class="custom-check-box" >
                                            <div class="custom-controls-stacked" >
                                                <label class="custom-control material-checkbox" >
                                                    <input type="checkbox" class="material-control-input" value="{{airline.airlineName}}"  (change)="popularFilterFlightData()"/>
                                                    <span class="material-control-indicator"></span>
                                                    <span class="description">{{airline.airlineName}} ({{airline.flighCount}})</span>
                                                </label>
                                                <p>&#8377;{{airline.price}}</p>
                                            </div>
                                        </li> -->
                                    </ul>
                                    <a href="javascript:void(0)" class="widget-content-more ml-20" (click)="showmoreAirline()">+2 more</a>
                                    <a href="javascript:void(0)" class="widget-content-more ml-20" ></a>
                                </div>
                            </div>
                            <hr>
                            <div class="sidebar-widget stopover-widget">
                                <div class="widget-title">
                                    <h6 class="">Stopover</h6>
                                    <a href="javascript:void(0)" (click)="resetStopOverFilter()">Reset</a>
                                </div>
                                <div class="widget-content mt-20 mb-20">
                                    <!-- <input type="text" class="js-range-slider" name="my_range" value="" /> -->

                                    <ngx-slider [(value)]="minStopOver" [(highValue)]="maxStopOver"
                                     [options]="optionsStopOver"
                                     (valueChange)="onMinStopOverChange($event)"
                                     (highValueChange)="onMaxStopOverChange($event)"
                                    ></ngx-slider>
                                    <!-- <div class="price-slider"></div> -->
                                    <div class="Stopover-value">
                                        <p class="price-value" >{{minStopOver}} hrs</p>
                                        <p class="price-value2">{{maxStopOver}} hrs</p>
                                    </div>
                                </div>
                            </div>
                            <hr>
    <!-- lay over airport list -->
                            <div class="sidebar-widget layover-airports-widget">
                                <div class="widget-title">
                                    <h6 class="">Layover Airports</h6>
                                    <a href="javascript:void(0)" (click)="resetLayOverFilter()">Reset</a>
                                </div>
                                <div class="widget-content" id="layover_airport">
                                    <ul class="category-list clearfix mt-2" >
                                        <!-- <li class="custom-check-box"  *ngFor="let layover of layOverFilterArr ; let i = index ">
                                            <div class="custom-controls-stacked">
                                                <label class="custom-control material-checkbox">
                                                    <input type="checkbox" class="material-control-input" value="{{layover.arrivalAirportCode}}"  (change)="popularFilterFlightData()"/>
                                                    <span class="material-control-indicator"></span>
                                                    <span class="description">{{layover.arrivalAirport}}</span>
                                                </label>
                                                <p>&#8377;{{layover.price|number}}</p>
                                            </div>
                                        </li> -->
                                        <li class="custom-check-box"  *ngFor="let layoverItem of layOverFilterArr ; let i = index " [ngClass]="{'active': layoverItem.active}">
                                            <div class="custom-controls-stacked">
                                                <label class="custom-control material-checkbox">
                                                    <input type="checkbox" class="material-control-input" value="{{layoverItem.arrivalAirportCode}}"  [checked]="layoverItem.active"  (change)="flightLayoverFilterFlightData(layoverItem)"/>
                                                    <span class="material-control-indicator"></span>
                                                    <span class="description">{{layoverItem.arrivalAirport}}</span>
                                                </label>
                                                <p>&#8377;{{layoverItem.price}}</p>
                                            </div>
                                        </li>
                                        <!-- <li class="custom-check-box" *ngIf="showMoreLayover">
                                            <div class="custom-controls-stacked" >
                                                <label class="custom-control material-checkbox">
                                                    <input type="checkbox" class="material-control-input" value="{{layover.arrivalAirportCode}}"  (change)="popularFilterFlightData()"/>
                                                    <span class="material-control-indicator"></span>
                                                    <span class="description">{{layover.arrivalAirport}}</span>
                                                </label>
                                                <p>&#8377;{{layover.price}}</p>
                                            </div>
                                        </li> -->
                                        <!-- <li class="custom-check-box">
                                            <div class="custom-controls-stacked">
                                                <label class="custom-control material-checkbox">
                                                    <input type="checkbox" class="material-control-input" checked="checked" />
                                                    <span class="material-control-indicator"></span>
                                                    <span class="description">Kempegowda Internat</span>
                                                </label>
                                                <p>&#8377;6,356</p>
                                            </div> -->
                                        <!-- </li>
                                        <li class="custom-check-box">
                                            <div class="custom-controls-stacked">
                                                <label class="custom-control material-checkbox">
                                                    <input type="checkbox" class="material-control-input" />
                                                    <span class="material-control-indicator"></span>
                                                    <span class="description">Jabalpur</span>
                                                </label>
                                                <p>&#8377;7,356</p>
                                            </div>
                                        </li>
                                        <li class="custom-check-box">
                                            <div class="custom-controls-stacked">
                                                <label class="custom-control material-checkbox">
                                                    <input type="checkbox" class="material-control-input" />
                                                    <span class="material-control-indicator"></span>
                                                    <span class="description">Chatrapati Shivaji</span>
                                                </label>
                                                <p>&#8377;9,356</p>
                                            </div>
                                        </li> -->
                                    </ul>
                                </div>
                            </div>

                        </div>
                        </div>


                </div>

                    <div class="layout-right">


                        <div class="flightsfound" [hidden]="loader">
                            <div class="flight-tosearch">
                                <h6>
                                    <img src="assets/images/icons/flight-listing.png" alt="">
                                    {{fromCityName}} to {{toCityName}}
                                    <!-- <small>Thu, 12 Mar</small> -->
                                    <small>{{departureDate | date:"EEE ,dd MMM"}}</small>
                                </h6>

                                <div class="flight-search-filters-right">
                                    <select name="" class="liothers selectpicker ms-4" aria-label="Default select example" id="priceAscDesc" (change)="flightAcsDescFilterFlightData($event)">
                                        <option [selected]="item.active" value="{{item.name}}" *ngFor="let item of priceSortingFilteritems">{{item.sortValue}} {{item.value}}</option>
                                        <!-- <option value="P_H_L">Price High to Low</option>
                                        <option value="P_D_E">Depart Ealry</option>
                                        <option value="P_D_L">Depart Late</option> -->
                                    </select>

                                    <div class="flight-search-filters-counts ms-3">
                                        <ul class="flight-counts">
                                            <li class="flight-counts-list" id="{{Items.name}}" *ngFor="let Items of toggleStopsFilteritems"
                                            value="{{Items.value}}" (click)="searchNonStop(Items)" [ngClass]="{'active': Items.active}">
                                                <p> <span *ngIf="Items.name=='no_stops'">{{nonStopCount}}</span> {{Items.value}}</p>
                                            </li>
                                            <!-- <li class="flight-counts-list " id="non_stop_Upper_filter" value="{{popularItems.value}}" (click)="searchNonStop('no_stops')">
                                                <p class=""> <span>{{nonStopCount}}</span> Non-Stop</p>
                                            </li> -->
                                            <!-- <li class="custom-check-box" *ngFor="let popularItems of flight_PopularItems" [ngClass]="{'active': popularItems.active}">
                                                <div class="custom-controls-stacked">
                                                    <label class="custom-control material-checkbox">
                                                        <input type="checkbox" class="material-control-input" value="{{popularItems.value}}" [checked]="popularItems.active" (change)="FlightPopularFilterFlightData(popularItems)"/>
                                                        <span class="material-control-indicator"></span>
                                                        <span class="description" *ngIf="popularItems.name!='Meals_Included'">{{popularItems.value}} ({{popularItems.count}})</span>
                                                        <span class="description" *ngIf="popularItems.name=='Meals_Included'">{{popularItems.value}}</span>
                                                    </label>
                                                </div>
                                            </li> -->
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="flight-search-filters">
                                <div class="flight-search-filters-left">
                                    <p *ngIf="flightList">{{flightList.length}} flights found</p>
                                </div>
                            </div>
                            <!-- <div class="search-date-slider">
                                <div class="owl-carousel carousel-search-date" data-nav-arrow="false" data-items="7" data-md-items="6" data-sm-items="5" data-xs-items="3" data-xx-items="2" data-space="0" data-autoheight="true">
                                    <div class="item">
                                        <div class="search-date-items">
                                            <p>Fri, Jul 08</p>
                                            <h6>&#8377; 6,474</h6>
                                        </div>
                                    </div>
                                    <div class="item">
                                        <div class="search-date-items">
                                            <p>Fri, Jul 08</p>
                                            <h6>&#8377; 6,474</h6>
                                        </div>
                                    </div>
                                    <div class="item">
                                        <div class="search-date-items">
                                            <p>Fri, Jul 08</p>
                                            <h6>&#8377; 6,474</h6>
                                        </div>
                                    </div>
                                    <div class="item">
                                        <div class="search-date-items active">
                                            <p>Fri, Jul 08</p>
                                            <h6>&#8377; 6,474</h6>
                                        </div>
                                    </div>
                                    <div class="item">
                                        <div class="search-date-items">
                                            <p>Fri, Jul 08</p>
                                            <h6>&#8377; 6,474</h6>
                                        </div>
                                    </div>
                                    <div class="item">
                                        <div class="search-date-items">
                                            <p>Fri, Jul 08</p>
                                            <h6>&#8377; 6,474</h6>
                                        </div>
                                    </div>
                                    <div class="item">
                                        <div class="search-date-items">
                                            <p>Fri, Jul 08</p>
                                            <h6>&#8377; 6,474</h6>
                                        </div>
                                    </div>
                                    <div class="item">
                                        <div class="search-date-items">
                                            <p>Fri, Jul 08</p>
                                            <h6>&#8377; 6,474</h6>
                                        </div>
                                    </div>
                                    <div class="item">
                                        <div class="search-date-items">
                                            <p>Fri, Jul 08</p>
                                            <h6>&#8377; 6,474</h6>
                                        </div>
                                    </div>
                                    <div class="item">
                                        <div class="search-date-items">
                                            <p>Fri, Jul 08</p>
                                            <h6>&#8377; 6,474</h6>
                                        </div>
                                    </div>
                                    <div class="item">
                                        <div class="search-date-items">
                                            <p>Fri, Jul 08</p>
                                            <h6>&#8377; 6,474</h6>
                                        </div>
                                    </div>
                                </div>
                            </div> -->
                        </div>
                        <div class="tabletitle-area" [hidden]="loader">
                            <div class="row">
                                <div class="col-md-2">
                                    <div class="tabletitle-content">
                                        <p>Airlines</p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="tabletitle-content tabletitle-departure">
                                        <p>Departure</p>
                                        <p>Arrival</p>
                                        <p>Duration</p>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="tabletitle-content">
                                        <p>Partner</p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="tabletitle-content">
                                        <p class="ml-10">Fare</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Listing -->
                        <div class="flight-listing-area" *ngIf="loader">
                          <div class="listing-loader animation-loader mt-2" *ngFor="let dummy of dummyForLoader">
                              <div class="listing-loader-thumb">
                                  <span class="loader-box-image"> <ngx-skeleton-loader *ngIf="loader" count="1" appearance="line" animation="pulse"
                                    [theme]="{
                                      'height':'100%',
                                      'border-radius': '8px'
                                    }"></ngx-skeleton-loader></span>
                              </div>
                              <div class="listing-loader-content">
                                  <span class="loader-box-title"> <ngx-skeleton-loader *ngIf="loader" count="1" appearance="line" animation="pulse"
                                    [theme]="{
                                      'height':'20px',
                                      'border-radius': '3px'
                                    }"></ngx-skeleton-loader></span>
                                  <span class="loader-box-subtext"> <ngx-skeleton-loader *ngIf="loader" count="1" appearance="line" animation="pulse"
                                    [theme]="{
                                      'height':'8px',
                                      'border-radius': '3px'
                                    }"></ngx-skeleton-loader></span>
                                  <span class="loader-box-subtext w-50"> <ngx-skeleton-loader *ngIf="loader" count="1" appearance="line" animation="pulse"
                                    [theme]="{
                                      'height':'8px',
                                      'border-radius': '3px'
                                    }"></ngx-skeleton-loader></span>
                              </div>
                          </div>
                        </div>

                        <div class="flight-listing-area">
                           <ng-container #itemsContainer></ng-container>
                        </div>
                         <ng-template #item let-item="item">  
                           <div  *ngFor="let list of item; let i = index" >
                            <div class="flight-listing"  *ngIf="list && list.flights.length > 0" id="flight_list_{{list.flightKey}}">
                                <div class="flight-listing-content"   >
                                    <div class="row">
                                        <div class="col-md-2">
                                            <div class="flight-radio">
                                                <div class="flight-radio-image" *ngIf="list.flights.length > 0">
                                                    <img src="{{cdnUrl}}/images/airlines/{{list.flights[0].airline}}.gif" alt="{{list.flights[0].airline}}" class="flight-image">
                                                </div>
                                                <div class="flight-radio-time" *ngIf="list.flights.length > 0">
                                                    <h6>{{list.flights[0].airlineName}}</h6>
                                                    <p>{{list.flights[0].airline}} {{list.flights[0].flightNumber}}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="flight-city-box" *ngIf="list.flights.length > 0">
                                                <div class="flight-listing-time">
                                                    <h6>{{list.flights[0].departureDateTime | date:'HH:mm'}} </h6>
                                                    <p>{{list.flights[0].departureAirport}}</p>
                                                    <img src="{{cdnUrl}}/images/icons/flight-right.png" alt="">
                                                </div>
                                                <div class="flight-listing-time">
                                                    <h6>{{list.flights[0].arrivalDateTime | date:'HH:mm'}}</h6>
                                                    <p>{{list.flights[0].arrivalAirport}}</p>
                                                </div>
                                                <div class="flight-listing-time" *ngIf="list.flights.length > 0">
                                                    <h6>{{ list.flights[0].duration | durationTime }}</h6>
                                                    <p *ngIf="list.flights.length > 0 && list.flights[0].stops==0">non stop</p>
                                                    <p *ngIf="list.flights.length > 0 && list.flights[0].stops!=0">{{list.flights[0].stops}} stop</p>
                                                </div>
                                            </div>
                                            <div class="text-center" *ngIf="list.flights.length < 0">No flights found</div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="flight-listing-pri">
                                                <div class="flight-listing-image" *ngIf="list.priceSummary.length > 0">
                                                  <img src="{{cdnUrl}}/images/flight_partners/{{list.priceSummary[0].partnerName}}.png" alt="{{list.priceSummary[0].partnerName}}"> 
                                                    <!--<p>{{list.priceSummary[0].partnerName}}</p>-->
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="flight-listing-pri">
                                                <div class="flight-listing-price" *ngIf="list.priceSummary.length > 0">
                                                    <span class="information-icon">
                                                     <h6>&#8377; {{list.priceSummary[0].totalFare}} <img src="assets/images/icons/info.png" class="ms-2" alt=""></h6>
                                                        <!-- <img src="assets/images/icons/info.png" class="ms-2" alt=""> -->
                                                        <div class="hover-popover">
                                                            <div class="hover-popover-title">
                                                                <h6>Price Breakdown</h6>
                                                            </div>
                                                            <div class="hover-popover-content">
                                                                <div class="hover-popover-content-list">
                                                                    <p>Base Fare</p>
                                                                    <p>&#8377;{{list.priceSummary[0].baseFare|number}}</p>
                                                                </div>
                                                                <div class="hover-popover-content-list">
                                                                    <p>Charges</p>
                                                                    <p>&#8377;{{list.priceSummary[0].totalFare - list.priceSummary[0].baseFare |number}}</p>
                                                                </div>
                                                                <hr class="m-0" />
                                                                <div class="hover-popover-content-list popover-total">
                                                                    <p>Total</p>
                                                                    <p>&#8377;{{list.priceSummary[0].totalFare|number}}</p>
                                                                </div>
                                                            </div>
                                                            <div class="hover-popover-footer">
                                                                <p>*Partner Convenience Fee is applicable</p>
                                                            </div>
                                                        </div>
                                                    </span>
                                                    <a href="javascript:void(0)" class="moreview" *ngIf="list.priceSummary.length > 1">+{{list.priceSummary.length - 1}} more </a>
                                                </div>
                                                <div class="flight-listing-viewfares">
                                                    <a href="javascript:void(0)" class="button-style viewfares" id="viewfares_{{list.flightKey}}" (click)="HideShowCompareToFly(list.flightKey,'fare-details',0)"> VIEW FARES</a>
                                                    <a href="javascript:void(0)" class="button-style hidefares d-none " id="hidefares_{{list.flightKey}}" (click)="hideFarebutton(list.flightKey,'fare-details',0)"> HIDE FARES</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                    <!-- <div class="flight-info-box">
                                <p><img src="{{cdnUrl}}/images/icons/price.png" alt=""> Book return Indigo flight to get &#8377; 1500 off on SmartBuy</p> 
                                    <p><img src="{{cdnUrl}}/images/icons/price.png" alt=""> Book return Indigo flight to get &#8377; 1500 off on SmartBuy</p>-->
                                    <!-- <p></p>
                                    <a href="javascript:void(0)"  class="flight-details-click viewflight_details" id="viewflight_details_{{list.flightKey}}" (click)="HideShowCompareToFly(i,'flight-details')" >Flight Details <img src="{{cdnUrl}}/images/icons/down.png" alt=""></a>
                                    <a href="javascript:void(0)"  class="flight-details-click d-none hideflight_details" id="hideflight_details_{{list.flightKey}}" (click)="hideFarebutton(i,'flight-details')" >Flight Details <img src="{{cdnUrl}}/images/icons/down.png" alt=""></a> 
                                </div>-->
                                <div class="flight-details-box viewfaresbox flight-details-box-hide" id="CompareToFly_{{list.flightKey}}" >
                                  <div class="flight-options-box" id="FareDetails_{{list.flightKey}}">
                                    <div class="flight-options-box-list" *ngFor="let item of list.priceSummary; let j = index">
                                        <div class="flight-options-list">
                                            <div class="flight-options-list-left">
                                                <div class="flight-options-logo">
                                                 <img src="{{cdnUrl}}/images/flight_partners/small/{{item.partnerName}}.png" alt="{{item.partnerName}}" width="20" height="20"> 
                                                  {{item.partnerName}}
                                                    <!-- <img src="{{cdnUrl}}/images/flights/1.png" alt="" /> -->
                                                </div>
                                                <div class="flight-options-text">
                                                  <p class="text-green" *ngIf="item.refundStatus == 1">Refundable</p>
                                                  <p class="text-red" *ngIf="item.refundStatus != 1">Non-Refundable</p>
                                                </div>
                                            </div>
                                            <div class="flight-options-list-right">
                                                <div class="emi-options" *ngIf="item.totalFare > EMIAvailableLimit">
                                                    <p>EMI starts at &#8377; {{calculateEMI(item.totalFare)|number}} per month</p>
                                                </div>
                                                <div class="flight-options-price d-flex align-items-center">
                                                    <p>&#8377;{{item.totalFare |number}}</p>
                                                    <span class="information-icon">
                                                        <img src="assets/images/icons/info.png" class="ms-2" alt="">
                                                        <div class="hover-popover">
                                                            <div class="hover-popover-title">
                                                                <h6>Price Breakdown</h6>
                                                            </div>
                                                            <div class="hover-popover-content">
                                                                <div class="hover-popover-content-list">
                                                                    <p>Base Fare</p>
                                                                    <p>&#8377;{{item.baseFare | number}}</p>
                                                                </div>
                                                                <div class="hover-popover-content-list">
                                                                    <p>Charges</p>
                                                                    <p>&#8377;{{item.totalFare - item.baseFare |number}}</p>
                                                                </div>
                                                                <hr class="m-0" />
                                                                <div class="hover-popover-content-list popover-total">
                                                                    <p>Total</p>
                                                                    <p>&#8377;{{item.totalFare |number}}</p>
                                                                </div>
                                                            </div>
                                                            <div class="hover-popover-footer">
                                                                <p>*Partner Convenience Fee is applicable</p>
                                                            </div>
                                                        </div>
                                                    </span>
                                                </div>
                                                <div class="flight-options-book">
                                                  <!-- <a href="" class="button-style" data-bs-toggle="modal" data-bs-target="#bookingprocess" (click)="bookingSummary(list.flights,item)">Book</a> -->
                                                  <a href="javascript:void(0);" class="button-style" (click)="bookingSummary(list.flights,item,list.flightKey)">Book</a>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flight-info-box ">
                                          <ul class="extra-tabs-right-ul">
                                                <!-- <li class="ms-0">
                                                    <p>
                                                        <img src="{{cdnUrl}}/images/icons/details/1.png" alt="">
                                                    </p>
                                                    <div class="hover-popover">
                                                        <div class="hover-popover-content">
                                                            <p>Extra Baggage</p>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <p><img src="{{cdnUrl}}/images/icons/details/2.png" alt=""></p>
                                                    <div class="hover-popover">
                                                        <div class="hover-popover-content">
                                                            <p>Meals Selection</p>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <p><img src="{{cdnUrl}}/images/icons/details/3.png" alt=""></p>
                                                    <div class="hover-popover">
                                                        <div class="hover-popover-content">
                                                            <p>Seats Selection</p>
                                                        </div>
                                                    </div>
                                                </li>-->
                                            </ul>
                                            <!-- <a href="javascript:void(0);" class="flight-details-click">Flight Details <img src="{{cdnUrl}}/images/icons/down.png" class="ms-1"  alt=""></a> -->
                                            <a href="javascript:void(0)"  class="flight-details-click viewflight_details" id="viewflight_details_{{list.flightKey}}_{{j}}" (click)="HideShowCompareToFly(list.flightKey,'flight-details',j)" >Flight Details <img src="{{cdnUrl}}/images/icons/down.png" alt=""></a>
                                            <a href="javascript:void(0)"  class="flight-details-click d-none hideflight_details" id="hideflight_details_{{list.flightKey}}_{{j}}" (click)="hideFarebutton(list.flightKey,'flight-details',j)" >Flight Details <img src="{{cdnUrl}}/images/icons/down.png" alt=""></a>
                                        </div>
                                        <div class="flight-details-box flightfaresbox flight-details-box-hide" id="FlightDetails_{{list.flightKey}}_{{j}}">
                                            <div class="flight-extra-details">
                                                <ul class="list-unstyled flight-extra-tabs">
                                                    <li>
                                                        <a href="javascript:void(0); " class="flight-extra-tabs-active" data-bind="FlightDetailsS_{{list.flightKey}}_{{j}}">Flight Details</a>
                                                    </li>
                                                    <!-- <li>
                                                        <a href="javascript:void(0);" data-bind="CancellationDetails"> Cancellation Details</a>
                                                    </li>
                                                    <li>
                                                        <a href="javascript:void(0);" data-bind="DateChange"> Date Change</a>
                                                    </li>
                                                    <li>
                                                        <a href="javascript:void(0);" data-bind="Fare"> Fare Rules </a>
                                                    </li>
                                                    <li>
                                                        <a href="javascript:void(0);" data-bind="Cancellation"> Cancellation Protection </a>
                                                    </li> -->
                                                </ul>
                                                <div class="extra-tabs-ara" *ngIf="flightList.length>0" >
                                                    <div id="FlightDetailsS_{{list.flightKey}}_{{j}}" class="flight-extra-content extra-active">
                                                        <div class="extra-tabs-details FlightDetails-box">
                                                            <div class="extra-tabs-details-top">
                                                                <div class="extra-tabs-left">
                                                                    <p>Depart <span class="ms-2 me-2">|</span>{{fromCityName}} to {{toCityName}}</p>
                                                                </div>

                                                            </div>
                                                            <div class="extra-tabs-details-bottom">
                                                                <div class="tabs-depart-box" *ngFor="let details of list.flights;let i=index;">
                                                                    <div class="tabs-depart-one" >
                                                                        <p class="depart-one-image"><img src="{{cdnUrl}}/images/airlines/{{list.flights[0].airline}}.gif" width="22px" class="me-2" alt="">IndiGo {{list.flights[0].airline}} {{list.flights[0].flightNumber}}</p>
                                                                        <div class="tabs-depart-left">
                                                                            <div class="tabs-depart-times">
                                                                                <h5 class="mb-1 fw_7">{{details.departureDateTime | date:'HH:mm'}}</h5>
                                                                                <p>{{details.departureDateTime | date:"EEE, MMM dd"}}</p>
                                                                                <p class="mt-1 opacity_05" *ngIf="airportsNameJson">{{this.airportsNameJson[details.departureAirport].airport_name}} ({{details.departureAirport}})</p>
                                                                            </div>
                                                                            <div class="tabs-depart-total">
                                                                                <p>{{details.duration | durationTime}}</p>
                                                                            </div>
                                                                            <div class="tabs-depart-times">
                                                                                <h5 class="mb-1 fw_7">{{details.arrivalDateTime | date:'HH:mm'}}</h5>
                                                                                <p>{{details.arrivalDateTime | date:"EEE ,MMM dd"}}</p>
                                                                                <p class="mt-1 opacity_05" *ngIf="airportsNameJson">{{this.airportsNameJson[details.arrivalAirport].airport_name}} ({{details.arrivalAirport}})</p>
                                                                            </div>
                                                                        </div>
                                                                        <div class="tabs-depart-right">
                                                                            <div class="Baggage">
                                                                                <h5>Baggage</h5>
                                                                                <p>Adult</p>
                                                                            </div>
                                                                            <div class="departCheck">
                                                                                <h5>Check-in</h5>
                                                                                <p>15 Kgs <span class="opacity_05">(1 piece only)</span></p>
                                                                            </div>
                                                                            <div class="Cabin">
                                                                                <h5>Cabin</h5>
                                                                                <p>7 Kgs <span class="opacity_05">(1 plece only)</span></p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="tabs-depart-two" *ngIf="this.airportsNameJson && list.flights[i]  && list.flights[i+1] && getLayoverHour(list.flights[i],list.flights[i+1])">
 <p>Change of planes・{{getLayoverHour(list.flights[i],list.flights[i+1]) | durationTime}} Layover in {{this.airportsNameJson[details.arrivalAirport].airport_name}}</p>
                                                                  </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--<div id="CancellationDetails" id="CancellationDetails_{{list.flightKey}}" class="flight-extra-content">
                                                        <div class="extra-tabs-details CancellationDetails-box">
                                                            <div class="extra-tabs-details-top">
                                                                <div class="extra-tabs-left">
                                                                    <p>Depart <span class="ms-2 me-2">|</span>Mumbai to Hyderabad</p>
                                                                </div>
                                                                <div class="extra-tabs-right"></div>
                                                            </div>
                                                            <div class="extra-tabs-details-bottom">
                                                                <table class="table-bordered table-content w-100">
                                                                    <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="fw_6 fs_13">Time Frame</p>
                                                                                <p class="opacity_05">(From Scheduled flight departure)</p>
                                                                            </td>
                                                                            <td>
                                                                                <p class="fw_6 fs_13">Airline Fee</p>
                                                                                <p class="opacity_05">(Per passenger)</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="opacity_05">0 hours to 2 hours*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="opacity_05">2 hours to 3 days*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="opacity_05">3 days to 365 days*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                                <p class="oth-text mt-10">*From the date of Departure</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div id="DateChange" id="DateChange_{{list.flightKey}}" class="flight-extra-content">
                                                        <div class="extra-tabs-details DateChange-box">
                                                            <div class="extra-tabs-details-top">
                                                                <div class="extra-tabs-left">
                                                                    <p>Depart <span class="ms-2 me-2">|</span>Mumbai to Hyderabad</p>
                                                                </div>
                                                                <div class="extra-tabs-right"></div>
                                                            </div>
                                                            <div class="extra-tabs-details-bottom">
                                                                <table class="table-bordered table-content w-100">
                                                                    <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="fw_6 fs_13">Time Frame</p>
                                                                                <p class="opacity_05">(From Scheduled flight departure)</p>
                                                                            </td>
                                                                            <td>
                                                                                <p class="fw_6 fs_13">Airline Fee</p>
                                                                                <p class="opacity_05">(Per passenger)</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="opacity_05">0 hours to 2 hours*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="opacity_05">2 hours to 3 days*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="opacity_05">3 days to 365 days*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                                <p class="oth-text mt-10">*From the date of Departure</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div id="Fare" id="Fare_{{list.flightKey}}" class="flight-extra-content">
                                                        <div class="extra-tabs-details Fare-box">
                                                            <div class="extra-tabs-details-top">
                                                                <div class="extra-tabs-left">
                                                                    <p>Depart <span class="ms-2 me-2">|</span>Mumbai to Hyderabad</p>
                                                                </div>
                                                                <div class="extra-tabs-right"></div>
                                                            </div>
                                                            <div class="extra-tabs-details-bottom">
                                                                <table class="table-bordered table-content w-100">
                                                                    <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="fw_6 fs_13">Time Frame</p>
                                                                                <p class="opacity_05">(From Scheduled flight departure)</p>
                                                                            </td>
                                                                            <td>
                                                                                <p class="fw_6 fs_13">Airline Fee</p>
                                                                                <p class="opacity_05">(Per passenger)</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="opacity_05">0 hours to 2 hours*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="opacity_05">2 hours to 3 days*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="opacity_05">3 days to 365 days*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                                <p class="oth-text mt-10">*From the date of Departure</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div id="Cancellation" id="Cancellation_{{list.flightKey}}" class="flight-extra-content">
                                                        <div class="extra-tabs-details Cancellation-box">
                                                            <div class="extra-tabs-details-top">
                                                                <div class="extra-tabs-left">
                                                                    <p>Depart <span class="ms-2 me-2">|</span>Mumbai to Hyderabad</p>
                                                                </div>
                                                                <div class="extra-tabs-right"></div>
                                                            </div>
                                                            <div class="extra-tabs-details-bottom">
                                                                <ul class="m-0 tabs-list-data">
                                                                    <li><p>While Booking your flight ticket, select 'Cancellation Protection' option and pay a nominal cancellation premium and enjoy ZERO penalty in case you wish to cancel the booking.</p></li>
                                                                    <li><p>Cancellation Protection is applicable on select one way domestic flights and starts at only Rs.149</p></li>
                                                                    <li><p>Cancellation Protection is applicable on select one way domestic flights</p></li>
                                                                    <li><p>Tickets should be cancelled 25 hrs prior to scheduled departure of the flight to avail this feature.</p></li>
                                                                    <li><p>Cancellation should be done ONLY on airlines for the cancellation charges to be void.</p></li>
                                                                    <li><p>Waiver is valid only for FULL cancellations (cancellations of all flights of a particular passenger, booked in an itinerary) for any or all passengers in a booking.</p></li>
                                                                    <li><p>In case of partial cancellation (cancelation of only some flights booked in an itinerary), waiver will not be given & normal cancelation penalties will be charged.</p></li>
                                                                    <li><p>ZERO Cancellation service is valid only on complete cancellation of itinerary and not on date change of itinerary.</p></li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>-->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                </div>
                            </div>
                             </div>
                             
                          </ng-template>
                         <div id="endOfPage" (click)="loadData()"></div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="mob-flights-listing" *ngIf="isMobile">
  <div class="container">
      <div class="row">
          <div class="col-md-12 p-0">
              <div class="mob-listing-header">
                  <div class="mob-listing-header-left">
                      <a href="index.html" >
                          <img src="{{cdnUrl}}/images/icons/left.png" alt="" />
                      </a>
                  </div>
                  <div class="mob-listing-header-center">
                      <h6>{{fromCityName}} - {{toCityName}}</h6>
                      <p>{{departureDate | date:'EEE, dd MMM' }} | {{totalPassenger}} Travellers | <span *ngIf="flightClassVal == 'B'">Business</span>
                        <span *ngIf="flightClassVal == 'E'">Economy</span>
                        <span *ngIf="flightClassVal == 'F'">First</span>
                        <span *ngIf="flightClassVal == 'P'">Premium</span>
                      </p>
                  </div>
                  <div class="mob-listing-header-right">
                      <a href="index.html" >
                          <img src="{{cdnUrl}}/images/icons/edit.png" alt="" />
                      </a>
                  </div>
              </div>
          </div>
          <div class="col-md-12">
              <div class="mob-listing-fiters">
                  <h6>{{flightList.length}} Flights Found</h6>
                  <a href="javascript:void(0)" (click)="openMobileFilterSection()">
                      <img src="{{cdnUrl}}/images/icons/filter.png" alt="">
                      <span>Sort/Filters</span>
                  </a>
              </div>
          </div>

          

          <div class="col-md-12">
              <div class="mob-all-flight">
                  <ul>
                      <li id="{{Items.name}}" *ngFor="let Items of toggleStopsFilteritems"  value="{{Items.value}}" >
                          <a href="javascript:void(0)" (click)="searchNonStop(Items)" [ngClass]="{'active': Items.active}">
                              <span *ngIf="Items.name!='no_stops'">{{flightList.length}}</span>
                              {{Items.value}}
                          </a>
                      </li>
                  </ul>
              </div>
          </div>

          <div class="col-md-12">
            <ng-container #itemsContainer></ng-container>
            
                <ng-template #item let-item="item">  
                <div  *ngFor="let list of item; let i = index" >
              <div class="mob-list-area" (click)="OpenPartner(list.flightKey)" id="flight_list_{{list.flightKey}}">
                  <div class="mob-list-items">
                      <div class="mob-list-items-name">
                          <div class="mob-list-items-name-top">
                              <div class="mob-list-items-image">
                                  <img src="{{cdnUrl}}/images/airlines/{{list.flights[0].airline}}.gif" alt="{{list.flights[0].airline}}">
                                  <div class="mob-list-flight-name"  *ngIf="list.flights.length > 0">
                                      <h6>{{list.flights[0].airlineName}}</h6>
                                      <p>{{list.flights[0].airline}} {{list.flights[0].flightNumber}}</p>
                                  </div>
                              </div>
                              <div class="mob-list-items-price" *ngIf="list.priceSummary.length > 0">
                                  <h6>₹ {{list.priceSummary[0].totalFare}}</h6>
                                  <p  *ngIf="list.priceSummary.length > 1">+{{list.priceSummary.length - 1}} more</p>
                              </div>
                          </div>
                          
                          
                          <div class="mob-list-items-name-bottom">
                              <div class="name-bottom-top">
                                  <div class="name-bottom-top-left">
                                      <h6>{{list.flights[0].departureDateTime | date:'HH:mm'}}</h6>
                                      <p>{{list.flights[0].departureAirport}}</p>
                                  </div>
                                  <div class="name-bottom-top-center">
                                      <p>{{ list.flights[0].duration | durationTime }}</p>
                                      <img src="/assets/images/icons/mob-flight.png" alt="" />
                                      <p *ngIf="list.flights.length > 0 && list.flights[0].stops==0">non stop</p>
                                      <p *ngIf="list.flights.length > 0 && list.flights[0].stops!=0">{{list.flights[0].stops}} stop</p>
                                  </div>
                                  <div class="name-bottom-top-right">
                                      <h6>{{list.flights[0].arrivalDateTime | date:'HH:mm'}}</h6>
                                      <p>{{list.flights[0].arrivalAirport}}</p>
                                  </div>
                              </div>
                              <!--<div class="name-bottom-bottom">
                                  <p><img src="{{cdnUrl}}/images/icons/price.png" alt=""> Book return Indigo flight to get ₹ 1500 off on SmartBuy</p>
                              </div>-->
                          </div>
                      </div>
                      
                      
                      <div class="mob-items-book-list" id="CompareToFly_{{list.flightKey}}">
                          <div class="mob-items-book-list-items" *ngFor="let item of list.priceSummary; let j = index">
                              <div class="mob-book-list-top">
                                  <div class="mob-booking-image">
                                     <img src="{{cdnUrl}}/images/flight_partners/small/{{item.partnerName}}.png" alt="{{item.partnerName}}" width="40" > 
                                      <!-- <img src="{{cdnUrl}}/images/flights/1.png" alt="" /> -->
                                  </div>
                                  <div class="mob-booking-price">
                                      <h6>₹ {{item.totalFare |number}}</h6>
                                      <p *ngIf="item.totalFare > EMIAvailableLimit">EMI @ ₹ {{calculateEMI(item.totalFare)|number}}/month</p>
                                  </div>
                                  <div class="mob-booking">
                                      <a href="javascript:void(0)"  data-bs-toggle="modal" data-bs-target="#bookingprocess" (click)="bookingSummary(list.flights,item,list.flightKey)">
                                          Book
                                      </a>
                                  </div>
                              </div>
                              <div class="mob-book-list-bottom">
                                  <div class="mob-extra">
                                      <ul>
                                        <!-- <li>
                                              <img src="{{cdnUrl}}/images/icons/details/1.png" alt="" />
                                          </li>
                                          <li>
                                              <img src="{{cdnUrl}}/images/icons/details/2.png" alt="" />
                                          </li>
                                          <li>
                                              <img src="{{cdnUrl}}/images/icons/details/3.png" alt="" />
                                          </li>-->
                                      </ul>
                                  </div>
                                  <div class="mob-details">
                                      <a href="javascript:void(0)" (click)="openFlightDetailMobile(list.flightKey,'flightdetail')">Flight Details <img src="{{cdnUrl}}/images/icons/mob-down.png" alt="" /> </a>
                                  </div>
                              </div>
                          </div>
                      </div>
                      
                      
                      
                                      <!-- flight detail for mobile  -->
                        <div class="mob-fd-area"  id="flightDetailMobile_{{list.flightKey}}">
                            <div class="mob-fd-box"> 
                                <div class="mob-title">
                                    <h3>Flight Details</h3>
                                    <a href="javascript:void(0)" (click)="closeFlightDetailMobile(list.flightKey)" class="mob-close mob-ff-from-close">
                                        <img src="./assets/images/icons/close.png" alt="">
                                    </a>
                                </div> 
                                <div class="mob-fd-filters d-block">
                                    <div class="mob-fd-accordion">
                                        <div class="accordion" id="accordionExample">
                                            <div class="accordion-item">
                                                <h2 class="accordion-header" id="headingOne-fd">
                                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne-fd"
                                                        aria-expanded="true" aria-controls="collapseOne-fd" >
                                                        Flight Details
                                                    </button>
                                                </h2>
                                                <div id="collapseOne-fd" class="accordion-collapse collapse show" aria-labelledby="headingOne-fd"
                                                    data-bs-parent="#accordionExample">
                                                    <div class="accordion-body">
                                                        <div class="extra-tabs-details FlightDetails-box">
                                                            <div class="extra-tabs-details-top">
                                                                <div class="extra-tabs-left">
                                                                    <p>{{fromCityName}} to {{toCityName}} <br> Depart</p>
                                                                </div>
                                                            </div>
                                                            <div class="extra-tabs-details-bottom p-0">
                                                                <div class="tabs-depart-box" *ngFor="let details of list.flights;let i=index;">
                                                                    <div class="tabs-depart-one">
                                                                        <p class="depart-one-image" *ngIf="flightIcons"><img src="{{this.flightIcons[list.flights[0].airline].logo}}" width="22px" class="me-2" alt="">{{list.flights[i].airline}} {{list.flights[i].flightNumber}}</p>
                                                                        <!-- <p class="depart-one-image"><img src="./assets/images/flights/flight-1.png" width="22px" class="me-2" alt="">IndiGo 6E 5334</p> -->
                                                                        <div class="tabs-depart-left">
                                                                            <div class="tabs-depart-times">
                                                                                <h5 class="mb-1 fw_7">{{details.departureDateTime | date:'HH:mm'}}</h5>
                                                                                <p>{{details.departureDateTime | date:"EEE, MMM dd"}}</p>
                                                                                <p class="mt-1 opacity_05" *ngIf="airportsNameJson">{{this.airportsNameJson[details.departureAirport].airport_name}} ({{details.departureAirport}})</p>
                                                                            </div>
                                                                            <div class="tabs-depart-total">
                                                                                <p>{{details.duration | durationTime}}</p>
                                                                            </div>
                                                                            <div class="tabs-depart-times">
                                                                                <h5 class="mb-1 fw_7">{{details.arrivalDateTime | date:'HH:mm'}}</h5>
                                                                                <p>{{details.arrivalDateTime | date:"EEE ,MMM dd"}}</p>
                                                                                <p class="mt-1 opacity_05"  *ngIf="airportsNameJson">{{this.airportsNameJson[details.arrivalAirport].airport_name}} ({{details.arrivalAirport}})</p>
                                                                            </div>
                                                                        </div>
                                                                        <div class="tabs-depart-right">
                                                                            <div class="Baggage">
                                                                                <h5>Baggage</h5>
                                                                                <p>Adult</p>
                                                                            </div>
                                                                            <div class="departCheck">
                                                                                <h5>Check-in</h5>
                                                                                <p>15 Kgs <span class="opacity_05">(1 piece only)</span></p>
                                                                            </div>
                                                                            <div class="Cabin">
                                                                                <h5>Cabin</h5>
                                                                                <p>7 Kgs <span class="opacity_05">(1 plece only)</span></p>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="tabs-depart-two" *ngIf="getLayoverHour(list.flights[i],list.flights[i+1])">
                                                                        <!-- <p>Change of planes・3h 0m Layover in Nagpur</p> -->
                                                                        <p>Change of planes・{{getLayoverHour(list.flights[i],list.flights[i+1]) | durationTime}} Layover in {{this.airportsNameJson[details.arrivalAirport].airport_name}}</p>
                                                                    </div> 
                                                                    <!-- <div class="tabs-depart-three">
                                                                        <p class="depart-one-image"><img src="./assets/images/flights/flight-1.png" width="22px" class="me-2" alt="">IndiGo 6E 5334</p>
                                                                        <div class="tabs-depart-left">
                                                                            <div class="tabs-depart-times">
                                                                                <h5 class="mb-1 fw_7">08:05</h5>
                                                                                <p>Mon, Jul 11</p>
                                                                                <p class="mt-1 opacity_05">Mumbai Chhatrapati <br> Shivaji Intl (BOM)</p>
                                                                            </div>
                                                                            <div class="tabs-depart-total">
                                                                                <p>01h 30m</p>
                                                                            </div>
                                                                            <div class="tabs-depart-times">
                                                                                <h5 class="mb-1 fw_7">08:05</h5>
                                                                                <p>Mon, Jul 11</p>
                                                                                <p class="mt-1 opacity_05">Mumbai Chhatrapati <br> Shivaji Intl (BOM)</p>
                                                                            </div>
                                                                        </div>
                                                                        <div class="tabs-depart-right">
                                                                            <div class="Baggage">
                                                                                <h5>Baggage</h5>
                                                                                <p>Adult</p>
                                                                            </div>
                                                                            <div class="departCheck">
                                                                                <h5>Check-in</h5>
                                                                                <p>15 Kgs <span class="opacity_05">(1 piece only)</span></p>
                                                                            </div>
                                                                            <div class="Cabin">
                                                                                <h5>Cabin</h5>
                                                                                <p>7 Kgs <span class="opacity_05">(1 plece only)</span></p>
                                                                            </div>
                                                                        </div>
                                                                    </div> -->
                                                                </div>                                 
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="accordion-item">
                                                <h2 class="accordion-header" id="headingTwo-fd">
                                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                         aria-expanded="false" aria-controls="collapseTwo-fd" (click)="openFlightDetailMobile(list.flightKey,'cancellation')">
                                                        Cancellation Details
                                                    </button>
                                                </h2>   
                                                <div id="collapseTwo-fd_{{list.flightKey}}" class="accordion-collapse collapse" aria-labelledby="headingTwo-fd"
                                                    data-bs-parent="#accordionExample" >
                                                    <div class="accordion-body">
                                                        <div class="extra-tabs-details Fare-box"> 
                                                            <div class="extra-tabs-details-bottom p-0">
                                                                <table class="table-bordered table-content w-100"> 
                                                                    <tbody>
                                                                        <tr> 
                                                                            <td>
                                                                                <p class="fw_6 fs_13">Time Frame</p>
                                                                                <p class="opacity_05">(From Scheduled flight departure)</p>
                                                                            </td>
                                                                            <td>
                                                                                <p class="fw_6 fs_13">Airline Fee</p>
                                                                                <p class="opacity_05">(Per passenger)</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr> 
                                                                            <td>
                                                                                <p class="opacity_05">0 hours to 2 hours*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr> 
                                                                            <td>
                                                                                <p class="opacity_05">2 hours to 3 days*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr> 
                                                                            <td>
                                                                                <p class="opacity_05">3 days to 365 days*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                                <p class="oth-text mt-10">*From the date of Departure</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="accordion-item">
                                                <h2 class="accordion-header" id="headingThree-fd">
                                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                        data-bs-target="#collapseThree-fd" aria-expanded="false" aria-controls="collapseThree-fd" (click)="openFlightDetailMobile(list.flightKey,'baggagepolicy')">
                                                        Baggage Policy
                                                    </button>
                                                </h2>
                                                <div id="collapseThree-fd_{{list.flightKey}}" class="accordion-collapse collapse" aria-labelledby="headingThree-fd"
                                                    data-bs-parent="#accordionExample">
                                                    <div class="accordion-body" >
                                                        <div class="" *ngIf="list.flights.length > 0">
                                                            <div class="rules-flight" >
                                                                <div class="rules-flight-items" *ngFor="let flightItem of list.flights">
                                                                    <div class="rules-flight-thumbe">
                                                                        <img *ngIf="flightIcons" src="{{this.flightIcons[list.flights[0].airline].logo}}" alt="">    
                                                                    </div>
                                                                    <div class="rules-flight-content" >
                                                                        <h6 >
                                                                            {{flightItem.departureAirport}}
                                                                            <img src="./assets/images/icons/flight-right.png" alt="">    
                                                                            {{flightItem.arrivalAirport}}
                                                                        </h6>
                                                                    </div>                                                
                                                                </div>
                                                                <!-- <div class="rules-flight-items opacity_05">
                                                                    <div class="rules-flight-thumbe">
                                                                        <img *ngIf="flightIcons" src="{{this.flightIcons[list.flights[0].airline].logo}}" alt="">    
                                                                    </div>
                                                                    <div class="rules-flight-content">
                                                                        <h6>
                                                                            NAG
                                                                            <img src="./assets/images/icons/flight-right.png" alt="">    
                                                                            HYD
                                                                        </h6>
                                                                    </div>                                                
                                                                </div> -->
                                                            </div>
                                                        </div>
                                                        <div class="extra-tabs-details-bottom p-0">
                                                            <table class="table-bordered table-content w-100"> 
                                                                <tbody>
                                                                    <tr> 
                                                                        <td>
                                                                            <p class="fw_6 fs_13">Baggage</p> 
                                                                        </td>
                                                                        <td>
                                                                            <p class="fw_6 fs_13">Check-in Baggage</p>
                                                                            <p class="opacity_05">(Per passenger)</p>
                                                                        </td>
                                                                        <td>
                                                                            <p class="fw_6 fs_13">Cabin Baggage</p>
                                                                            <p class="opacity_05">(Per passenger)</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr> 
                                                                        <td>
                                                                            <p class=" ">Adult</p>
                                                                        </td>
                                                                        <td>
                                                                            <p class="fw_6 fs_13">15 Kgs</p>
                                                                            <p class="opacity_05">(1 piece only)</p> 
                                                                        </td>
                                                                        <td>
                                                                            <p class="fw_6 fs_13">7 Kgs</p>
                                                                            <p class="opacity_05">(1 piece only)</p> 
                                                                        </td>
                                                                    </tr>
                                                                    <tr> 
                                                                        <td>
                                                                            <p class=" ">Child</p>
                                                                        </td>
                                                                        <td>
                                                                            <p class="fw_6 fs_13">15 Kgs</p>
                                                                            <p class="opacity_05">(1 piece only)</p> 
                                                                        </td>
                                                                        <td>
                                                                            <p class="fw_6 fs_13">7 Kgs</p>
                                                                            <p class="opacity_05">(1 piece only)</p> 
                                                                        </td>
                                                                    </tr>
                                                                    <tr> 
                                                                        <td>
                                                                            <p class=" ">Infant</p>
                                                                        </td>
                                                                        <td>
                                                                            <p class="fw_6 fs_13">Cabin bag only</p> 
                                                                        </td>
                                                                        <td>
                                                                            <p class="fw_6 fs_13">7 Kgs</p>
                                                                            <p class="opacity_05">(1 piece only)</p> 
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <p class="oth-text mt-10">*From the date of Departure</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="accordion-item">
                                                <h2 class="accordion-header" id="headingfour-fd">
                                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                        data-bs-target="#collapsefour-fd" aria-expanded="false" aria-controls="collapsefour-fd" (click)="openFlightDetailMobile(list.flightKey,'farerules')">
                                                        Fare Rules
                                                    </button>
                                                </h2>
                                                <div id="collapsefour-fd_{{list.flightKey}}" class="accordion-collapse collapse" aria-labelledby="headingfour-fd"
                                                    data-bs-parent="#accordionExample">
                                                    <div class="accordion-body stops-widget">
                                                        <div class="extra-tabs-details Fare-box"> 
                                                            <div class="extra-tabs-details-bottom p-0">
                                                                <table class="table-bordered table-content w-100"> 
                                                                    <tbody>
                                                                        <tr> 
                                                                            <td>
                                                                                <p class="fw_6 fs_13">Time Frame</p>
                                                                                <p class="opacity_05">(From Scheduled flight departure)</p>
                                                                            </td>
                                                                            <td>
                                                                                <p class="fw_6 fs_13">Airline Fee</p>
                                                                                <p class="opacity_05">(Per passenger)</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr> 
                                                                            <td>
                                                                                <p class="opacity_05">0 hours to 2 hours*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr> 
                                                                            <td>
                                                                                <p class="opacity_05">2 hours to 3 days*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr> 
                                                                            <td>
                                                                                <p class="opacity_05">3 days to 365 days*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                                <p class="oth-text mt-10">*From the date of Departure</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div> 
                                        </div>
                                    </div>
                                    <div class="mob-sf-btns">
                                        <a href="">Apply</a>
                                    </div>
                                </div> 
                            </div>
                          </div> 

                      
                      
                      
                      
                      
                      
                      
                  </div>
              </div>
              </div>
              
            </ng-template>  
               <div id="endOfPage" (click)="loadData()"></div>
          </div>
          


 <!-- ------------------------------
            >>> mobile Sort Filters
        ---------------------------------->
        <div class="mob-sf-area" id="sortMobileFilter" *ngIf="isMobile">
           
          <div class="mob-sf-box">
              <div class="mob-title">
                  <h3>Sort & Filters</h3>
                  <a href="javascript:void(0)" (click)="CloseSortingSection()" class="mob-close mob-ff-from-close">
                      <img src="{{cdnUrl}}/images/icons/close.png" alt="">
                  </a>
              </div>
              <div class="mob-sf-tabs">
                  <ul class="nav nav-tabs">
                      <li>
                          <a class="active" href="#Sort" role="tab" aria-controls="Sort" data-bs-toggle="tab">Sort by</a>
                      </li>
                      <li class="nav-item">
                          <a href="#Filters" role="tab" aria-controls="Filters" data-bs-toggle="tab">Filters</a>
                      </li>
                  </ul>
                  <div class="tab-content clearfix">
                      <div class="tab-pane active" id="Sort" role="tabpanel" aria-labelledby="Sort-tab">
                          <div class="mob-sf-sort">
                              <div class="mob-sf-sort-by">
                                  <div class="mob-sf-sort-by-items" *ngFor="let item of priceSortingFilteritems" [ngClass]="{'active': item.active == true}" (click)="flightSortingMobile(item.name)">
                                      <p >
                                          <img [src]="item.image" alt="" />
                                          <span><strong>{{item.sortValue}}</strong> <br> {{item.value}}</span>
                                      </p>
                                  </div>
                              </div>
                          </div>
                          <div class="mob-sf-btns">
                              <a href="javascript:void(0)" (click)="applySortingMobile()">Apply</a>
                          </div>
                      </div>
                      <div class="tab-pane" id="Filters" role="tabpanel" aria-labelledby="Filters-tab">
                          <div class="mob-sf-filters">
                              <div class="mob-sf-accordion">
                                  <div class="accordion" id="accordionExample">
                                      <div class="accordion-item">
                                          <h2 class="accordion-header" id="headingOne">
                                              <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
                                                  aria-expanded="true" aria-controls="collapseOne">
                                                  Popular Filters
                                              </button>
                                          </h2>
                                          <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                                              >
                                              <div class="accordion-body">
                                                  <ul class="category-list clearfix ">
                                                      <li class="custom-check-box" *ngFor="let popularItems of flight_PopularItems" [ngClass]="{'active': popularItems.active}">
                                                          <div class="custom-controls-stacked">
                                                              <label class="custom-control material-checkbox">
                                                                  <input type="checkbox" class="material-control-input" value="{{popularItems.value}}" [checked]="popularItems.active" (change)="FlightPopularFilterFlightData(popularItems)">
                                                                  <span class="material-control-indicator"></span>
                                                                  <span class="description" *ngIf="popularItems.name!='Meals_Included'">{{popularItems.value}} ({{popularItems.count}})</span>
                                                                  <span class="description" *ngIf="popularItems.name=='Meals_Included'">{{popularItems.value}}</span>
                                                              </label>
                                                          </div>
                                                      </li>
                                                  </ul>
                                                  <div class="mob-reset text-end">
                                                      <a href="javascript:void(0)" (click)="resetPopularFilter()">Reset</a>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                      <div class="accordion-item">
                                          <h2 class="accordion-header" id="headingTwo">
                                              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                  data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                  Flight Timings
                                              </button>
                                          </h2>
                                          <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                                             >
                                              <div class="accordion-body">
                                                  <p class="flighttimings-text">Departing flight ({{flightTimingfrom}}-{{flightTimingto}})</p>
                                                  <div class="flighttiming-content flight-departing">
                                                      <div class="flighttiming-list" *ngFor="let timingsItems of flight_Timingsitems" [ngClass]="{'active': timingsItems.active}"
                                                      (click)="FlightTimingsFilterFlightData(timingsItems)" >
                                                          <img src="assets/images/icons/timings/{{timingsItems.image}}" alt="">
                                                          <p [innerHTML]="timingsItems.value"></p>
                                                      </div>
                                                  </div>
                                                  <div class="mob-reset text-end">
                                                      <a href="javascript:void(0)" (click)="resetFlightTimingsFilter()">Reset</a>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                      <div class="accordion-item">
                                          <h2 class="accordion-header" id="headingThree">
                                              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                  data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                                  Price
                                              </button>
                                          </h2>
                                          <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                                              >
                                              <div class="accordion-body">

                                                  <div class="widget-content mt-10 mb-30 price-widget-content">
                                                      <div style="margin:0 0 20px 0">
                                                        <input type="number" min="0" [(ngModel)]="minPrice" [max]="resetMaxPrice"  id="min_price" class="price-range-field" />
                                                        <span class="ms-3 me-3">-</span>
                                                        <input type="number" min="0"  [(ngModel)]="maxPrice" [max]="resetMaxPrice"  id="max_price" class="price-range-field" />
                                                      </div>
                                                      <ngx-slider [(value)]="minPrice" [(highValue)]="maxPrice" [options]="options"
                                                      (valueChange)="onMinValueChange($event)"
                                                        (highValueChange)="onMaxValueChange($event)"
                                                      ></ngx-slider>
                                                  </div>

                                                  <div class="mob-reset text-end">
                                                      <a href="javascript:void(0)" (click)="resetPriceFilter()">Reset</a>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                      <div class="accordion-item">
                                          <h2 class="accordion-header" id="headingfour">
                                              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                  data-bs-target="#collapsefour" aria-expanded="false" aria-controls="collapsefour">
                                                  Stops
                                              </button>
                                          </h2>
                                          <div id="collapsefour" class="accordion-collapse collapse" aria-labelledby="headingfour"
                                              >
                                              <div class="accordion-body stops-widget">
                                                  <div class="Stops-content mt-0">
                                                    <div class="Stops-list" *ngFor="let FlightStopitem of stopsFilteritems" [ngClass]="{'active': FlightStopitem.active}" (click)="FlightStopsFilterFlightData(FlightStopitem)"
                                                    [innerHTML]="FlightStopitem.value">
                                                    </div>
                                                  </div>
                                                  <div class="mob-reset text-end">
                                                      <a href="javascript:void(0)" (click)="resetFlightStopsFilter()">Reset</a>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>

                                      <div class="accordion-item">
                                          <h2 class="accordion-header" id="headingfive">
                                              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                  data-bs-target="#collapsefive" aria-expanded="false" aria-controls="collapsefive">
                                                  Airlines
                                              </button>
                                          </h2>
                                          <div id="collapsefive" class="accordion-collapse collapse" aria-labelledby="headingfive"
                                              >
                                              <div class="accordion-body">
                                                  <div class="default-sidebar">
                                                      <ul class="category-list clearfix mt-2">
                                                          <li class="custom-check-box" *ngFor="let airlineItem of airlines ; let i = index " [ngClass]="{'active': airlineItem.active}">
                                                              <div class="custom-controls-stacked">
                                                                  <label class="custom-control material-checkbox">
                                                                      <input type="checkbox" class="material-control-input" value="{{airlineItem.airlineName}}" [checked]="airlineItem.active"
                                                                      (change)="flightAirlineFilterFlightData(airlineItem)">
                                                                      <span class="material-control-indicator"></span>
                                                                      <span class="description">{{airlineItem.airlineName}} ({{airlineItem.flighCount}})</span>
                                                                  </label>
                                                                  <p>₹{{airlineItem.price}}</p>
                                                              </div>
                                                          </li>
                                                      </ul>

                                                      <div class="d-flex justify-content-between mt-2">
                                                          <a href="javascript:void(0)" class="widget-content-more ml-20" (click)="showmoreAirline()">+2 more</a>
                                                          <a href="javascript:void(0)" class="widget-content-more"  (click)="resetAirlineFlightsFilter()">Reset</a>
                                                      </div>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                      <div class="accordion-item">
                                          <h2 class="accordion-header" id="headingsix">
                                              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                  data-bs-target="#collapsesix" aria-expanded="false" aria-controls="collapsesix">
                                                  Stopover
                                              </button>
                                          </h2>
                                          <div id="collapsesix" class="accordion-collapse collapse" aria-labelledby="headingsix"
                                              >
                                              <div class="accordion-body">
                                                  <div class="mt-3">
                                                    <ngx-slider [(value)]="minStopOver" [(highValue)]="maxStopOver"
                                                    [options]="optionsStopOver"
                                                    (valueChange)="onMinStopOverChange($event)"
                                                    (highValueChange)="onMaxStopOverChange($event)"
                                                   ></ngx-slider>
                                                      <div class="Stopover-value">
                                                        <p class="price-value" >{{minStopOver}} hrs</p>
                                        <p class="price-value2">{{maxStopOver}} hrs</p>
                                                      </div>
                                                  </div>
                                                  <div class="mob-reset text-end mt-2">
                                                      <a href="javascript:void(0)" (click)="resetStopOverFilter()">Reset</a>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                      <div class="accordion-item">
                                          <h2 class="accordion-header" id="headingseven">
                                              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                  data-bs-target="#collapseseven" aria-expanded="false" aria-controls="collapseseven">
                                                  Layover Airports
                                              </button>
                                          </h2>
                                          <div id="collapseseven" class="accordion-collapse collapse" aria-labelledby="headingseven"
                                              >
                                              <div class="accordion-body">
                                                  <div class="default-sidebar">
                                                      <ul class="category-list clearfix mt-2">
                                                          <li class="custom-check-box" *ngFor="let layoverItem of layOverFilterArr ; let i = index " [ngClass]="{'active': layoverItem.active}"
                                                          (change)="flightLayoverFilterFlightData(layoverItem)">
                                                              <div class="custom-controls-stacked">
                                                                  <label class="custom-control material-checkbox">
                                                                      <input type="checkbox" class="material-control-input" value="{{layoverItem.arrivalAirportCode}}"  [checked]="layoverItem.active" >
                                                                      <span class="material-control-indicator"></span>
                                                                      <span class="description">{{layoverItem.arrivalAirport}}</span>
                                                                  </label>
                                                                  <p>₹{{layoverItem.price}}</p>
                                                              </div>
                                                          </li>
                                                      </ul>

                                                      <div class="d-flex justify-content-between mt-2">
                                                          <!-- <a href="#" class="widget-content-more ml-20">+2 more</a> -->
                                                          <a  class="widget-content-more" href="javascript:void(0)" (click)="resetLayOverFilter()">Reset</a>
                                                      </div>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>


                                  </div>
                              </div>
                              <div class="mob-sf-btns">
                                  <a href="javascript:void(0)" (click)="onApplyFilter()">Apply</a>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
        <!-- ------------------------------
            >>> Modal bookingprocess
        ---------------------------------->
        <div class="modal bookingprocess" id="bookingprocess">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-body " style="padding: 25px;">
                        <div class="bookingprocess-items">
                            <div class="bookingprocess-title text-center mb-30">
                                <h5><strong>We are processing your booking. <br> Please wait...</strong></h5>
                            </div>
                            <div class="bookingprocess-content">
                                <div class="bookingprocess-flight">
                                    <h6>{{queryFlightData.fromCity}},{{queryFlightData.fromContry}} ({{queryFlightData.flightfrom}})</h6>
                                    <p class="mt-10">{{queryFlightData.departure | date:'dd.MM.yyyy'}} - <span>{{queryFlightData.adults}} Adult,</span> <span *ngIf="queryFlightData.child != '0'">{{queryFlightData.child}} Child,</span> <span *ngIf="queryFlightData.infants != '0'">{{queryFlightData.infants}} Infants,</span> {{queryFlightData.flightclass == "B" ? "Business":null || queryFlightData.flightclass == "E" ? "Economy":null || queryFlightData.flightclass == "F" ? "First":null  || queryFlightData.flightclass == "P" ? "Premium":null}}</p>
                                    <h6>{{queryFlightData.toCity}},{{queryFlightData.toContry}} ({{queryFlightData.flightto}})</h6>
                                </div>
                                <div class="bookingprocess-processbar">
                                    <div class="progress">
                                        <div class="progress-bar" role="progressbar" attr.aria-valuenow="{{loaderValue}}" aria-valuemin="0" aria-valuemax="100"  [ngStyle]="{'max-width':loaderValue +'%'}" >
                                            <span class="title"> &nbsp; </span>
                                        </div>
                                      </div>
                                </div>
                            </div>
                            <div class="refresh-text text-center pt-2">
                                <p>Please don't click or refresh the page</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


<!-- loader -->

<!-- <div class="loader-box" *ngIf="loader">
    <div class="loader-round"></div>
</div> -->

    <a href="javascript:void(0)"  (click)="gotoTop()"  class="scrollToTop" >
        <i class="far fa-dot-circle"></i>
        <span>Top</span>
    </a>





