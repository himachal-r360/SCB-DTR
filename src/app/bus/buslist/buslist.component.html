<section class="flight-area mt-150" *ngIf="!isMobile">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="travel-box mb-20" >
                    <app-bus-search modifySearch="true"  isViewPartner="false"></app-bus-search>
                 </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                  <div class="flight-partners">
                      <p>Powered By:</p>
                      <ul class="list-inline ms-3">
                          <li class="list-inline-item" >
                              <img src="{{cdnUrl}}/images/smartbuy/partner/svg/redbus.svg" width="50" alt="redbus">
                          </li>

                      </ul>
                  </div>
              </div>
          </div>

            <div class="col-lg-12">
                <div class="layout-box">
                  <div class="layout-left">
                    <div class="filter-loaders animation-loader" *ngIf="loader">
                      <div class="filter-loader border-0" *ngFor="let dummy of dummyForLoader">
                          <div class="filter-loader-content ">
                             <ngx-skeleton-loader [theme]="{   'border-radius': '0',height: '10px', width:'25%',  'margin-bottom': '10px'  }"></ngx-skeleton-loader>
                             <ngx-skeleton-loader [theme]="{   'border-radius': '0',height: '15px', width:'50%', 'margin-bottom': '10px'  }"></ngx-skeleton-loader>
                             <ngx-skeleton-loader [theme]="{   'border-radius': '0',height: '25px', width:'100%', 'margin-bottom': '10px'  }"></ngx-skeleton-loader>
                          </div>
                      </div>

                  </div>

                        <div [hidden]="loader">
                        <ng-container *ngIf="busResults">
                        <app-filter [busResults]="busResults" (childEvent)="updateDeparture($event)" (arrivalFilterEvent)="updateArrival($event)" [boardingpoints] = "boardingpoints" (boardingfilterEvent)="updateBoardingFilter($event)"
                        [droppingpoints] = "droppingpoints" (droppingfilterEvent)="updateDroppingFilter($event)"
                        [availableClasses] = "availableClasses" (classesfilterEvent)="updateClassesFilter($event)"
                        [operators] = "operators" (operatorsfilterEvent)="updateOperatorsFilter($event)"
                        (removeallfilters) = "clearSelectionAll()"
                        [departureTimeFilter] = "departureTimeFilter"
                        [arrivalTimeFilter]="arrivalTimeFilter"
                        [amenities] = "amenities" (amenitiesfilterEvent)="updateamenitiesFilter($event)"
                        (applyFilter) = "onFilter()"
                        (searchboard) = "searchboarding($event)"
                        ></app-filter>
                        </ng-container>
                        </div>

                </div>

                    <div class="layout-right">


                        <div class="flightsfound" [hidden]="loader">
                            <div class="flight-tosearch">
                                <h6>
                                   <i class="fa fa-bus"></i>
                                    {{busfrom}} to {{busto}}
                                    <small>{{departure | date:"EEE ,dd MMM"}}</small>
                                </h6>

                                <div class="flight-search-filters-right">
                                <mat-form-field>
                                <mat-select [(value)]="selected" placeholder={{Sortby}} [ngClass]="{showSortbuy: showSortbuy}">
                                <mat-option value="Price (Low to High)" selected (click)="orderBy('rating')">Rating</mat-option>
                                <mat-option value="Price (Low to High)" (click)="orderBy('price-low-high')">Price (Low to High)</mat-option>
                                <mat-option value="Price (High to Low)" (click)="orderBy('price-high-low')">Price (High to Low)</mat-option>
                                <mat-option value="Leave Early" (click)="orderBy('leave-early')">Leave Early</mat-option>
                                <mat-option value="Leave Late" (click)="orderBy('leave-late')">Leave Late</mat-option>
                                <mat-option value="Seats Availability" (click)="orderBy('seats-availability')">Seats Availability</mat-option>
                                </mat-select>
                                </mat-form-field>
                                </div>
                            </div>
                            <div class="flight-search-filters">
                                <div class="flight-search-filters-left">
                                    <p *ngIf="busResults">{{(busResults | busfilter:minSeletedPriceValue:maxSeletedPriceValue:filterDeparture:filterArrival:filterboardingpoints:filterdroppingpoints:filterClasses:filterOperators:filteramenities:sortBy).length}} bus found</p>
                                </div>
                            </div>
       
                           </div>
                        <div class="tabletitle-area" [hidden]="loader">
                            <div class="row">
                                <div class="col-md-2">
                                    <div class="tabletitle-content">
                                        <p>Airlines</p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="tabletitle-content tabletitle-departure">
                                        <p>Departure</p>
                                        <p>Arrival</p>
                                        <p>Duration</p>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="tabletitle-content">
                                        <p>Partner</p>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="tabletitle-content">
                                        <p class="ml-10">Fare</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Listing -->
                        <div class="flight-listing-area" *ngIf="loader" >
                          <div class="listing-loader animation-loader mt-2" *ngFor="let dummy of dummyForLoader">
                                <div class="filter-loader-content w-100">
                                <span style="width:15%;"><ngx-skeleton-loader  [theme]="{ width: '100px', height: '100px' }"></ngx-skeleton-loader></span>
                                <span class="float-right" style="width:85%;" >
                                <ngx-skeleton-loader [theme]="{   'border-radius': '0',height: '10px',width: '50%',  'margin-bottom': '10px'  }"></ngx-skeleton-loader>
                                <ngx-skeleton-loader [theme]="{ 'border-radius': '0',height: '20px',width: '75%',  'margin-bottom': '10px'  }">  </ngx-skeleton-loader>
                                <ngx-skeleton-loader [theme]="{ 'border-radius': '0',height: '30px',width: '100%',  'margin-bottom': '10px'  }">  </ngx-skeleton-loader>
                                </span>
                                </div>
                          </div>
                        </div>

                        <div class="flight-listing-area" *ngIf="!loader && busResults.length > 0">
                                <span *ngIf="(busResults | busfilter:minSeletedPriceValue:maxSeletedPriceValue:filterDeparture:filterArrival:filterboardingpoints:filterdroppingpoints:filterClasses:filterOperators:filteramenities:sortBy).length>0" >  
                                <list-component *ngFor="let bus of rtc | busfilter:minSeletedPriceValue:maxSeletedPriceValue:filterDeparture:filterArrival:filterboardingpoints:filterdroppingpoints:filterClasses:filterOperators:filteramenities:sortBy ; let busrow = index;"
                                [parentSubject]="parentSubject" [bus]="bus" [tag]="tag" [params]="params" [rowvalue] = "busrow" [isrtc]="rtctotal[rtc[0].lowercase]" 
                                (seatSelected)="seatSelected($event)" ></list-component> 
                                </span>
                                <span *ngIf="(busResults | busfilter:minSeletedPriceValue:maxSeletedPriceValue:filterDeparture:filterArrival:filterboardingpoints:filterdroppingpoints:filterClasses:filterOperators:filteramenities:sortBy).length>0" >  
                                <list-component *ngFor="let bus of busResults | busfilter:minSeletedPriceValue:maxSeletedPriceValue:filterDeparture:filterArrival:filterboardingpoints:filterdroppingpoints:filterClasses:filterOperators:filteramenities:sortBy ; let busrow = index;"
                                [parentSubject]="parentSubject" [bus]="bus" [tag]="tag" [params]="params" [rowvalue] = "busrow" [isrtc]="isrtc"  (seatSelected)="seatSelected($event)"></list-component>
                                </span>

                        </div>
                         <div class="text-center" *ngIf="!loader && busResults.length < 1">No bus found</div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!--Mobile Screen starts-->

<section class="mob-flights-listing" *ngIf="isMobile">
  <div class="container">
      <div class="row">
          <div class="col-md-12 p-0 fixed-top"  >
              <div class="mob-listing-header">
                  <div class="mob-listing-header-left">
                      <a href="javascript:;" routerLink="/compare-fly" >
                          <img src="{{cdnUrl}}/images/icons/left.png" alt="" />
                      </a>
                  </div>
                  <div class="mob-listing-header-center">
                      <h6>{{fromCityName}} - {{toCityName}}</h6>
                      <p>{{departureDate | date:'EEE, dd MMM' }} | {{totalPassenger}} Travellers | <span *ngIf="flightClassVal == 'B'">Business</span>
                        <span *ngIf="flightClassVal == 'E'">Economy</span>
                        <span *ngIf="flightClassVal == 'F'">First</span>
                        <span *ngIf="flightClassVal == 'P'">Premium</span>
                      </p>
                  </div>
                  <div class="mob-listing-header-right">
                      <a href="javascript:;" routerLink="/compare-fly" >
                          <img src="{{cdnUrl}}/images/icons/edit.png" alt="" />
                      </a>
                  </div>
              </div>
          </div>
          <div class="col-md-12 mt-70" *ngIf="!loader">
              <div class="mob-listing-fiters">
                  <h6>{{flightList.length}} Flights Found</h6>
                  <a href="javascript:void(0)" (click)="openMobileFilterSection()">
                      <img src="{{cdnUrl}}/images/icons/filter.png" alt="">
                      <span>Sort/Filters</span>
                  </a>
              </div>
          </div>



          <div class="col-md-12" *ngIf="!loader">
              <div class="mob-all-flight">
                  <ul>
                      <li id="{{Items.name}}" *ngFor="let Items of toggleStopsFilteritems"  value="{{Items.value}}" >
                          <a href="javascript:void(0)" (click)="searchNonStop(Items)" [ngClass]="{'active': Items.active}">
                              <span *ngIf="Items.name!='no_stops' && Items.active">{{flightList.length}}</span>
                              <span *ngIf="Items.name!='All_Flights' && Items.active">{{flightList.length}}</span>
                              {{Items.value}}
                          </a>
                      </li>
                  </ul>
              </div>
          </div>

          <div class="col-md-12">
            <ng-container #itemsContainer></ng-container>
            <div *ngIf="loader">
              <div  class="filter-loader border-0" *ngFor="let dummy of dummyForLoader">
                          <div class="filter-loader-content w-100">
                              <span class=" w-25"><ngx-skeleton-loader  [theme]="{ width: '80px', height: '80px' }"></ngx-skeleton-loader></span>
                              <span class="w-75 float-right">
                             <ngx-skeleton-loader [theme]="{   'border-radius': '0',height: '10px',width: '50%',  'margin-bottom': '10px'  }"></ngx-skeleton-loader>
                                <ngx-skeleton-loader [theme]="{ 'border-radius': '0',height: '15px',width: '75%',  'margin-bottom': '10px'  }">  </ngx-skeleton-loader>
                                <ngx-skeleton-loader [theme]="{ 'border-radius': '0',height: '20px',width: '100%',  'margin-bottom': '10px'  }">  </ngx-skeleton-loader>
                               </span>
                          </div>
                      </div>
                 </div>
                  <div class="text-center" *ngIf="!loader && flightList.length < 1">No flights found</div>
                <ng-template #item let-item="item">
                <div  *ngFor="let list of item; let i = index" >
              <div class="mob-list-area" *ngIf="list.flightKey" (click)="OpenPartner(list.flightKey)" id="flight_list_{{list.flightKey}}">
                  <div class="mob-list-items">
                      <div class="mob-list-items-name">
                          <div class="mob-list-items-name-top">
                              <div class="mob-list-items-image">
                                  <img src="{{cdnUrl}}/images/airlines/{{list.flights[0].airline}}.gif" alt="{{list.flights[0].airline}}"  class="flight-image">
                                  <div class="mob-list-flight-name"  *ngIf="list.flights.length > 0">
                                      <h6>{{list.flights[0].airlineName}}</h6>
                                      <p>{{list.flights[0].airline}} {{list.flights[0].flightNumber}}</p>
                                  </div>
                              </div>
                              <div class="mob-list-items-price" *ngIf="list.priceSummary.length > 0">
                                  <h6>₹ {{list.priceSummary[0].totalFare |number}}</h6>
                                  <p  *ngIf="list.priceSummary.length > 1">+{{list.priceSummary.length - 1}} more</p>
                              </div>
                          </div>


                          <div class="mob-list-items-name-bottom">
                              <div class="name-bottom-top">
                                  <div class="name-bottom-top-left">
                                      <h6>{{list.flights[0].departureDateTime | date:'HH:mm'}}</h6>
                                      <p>{{list.flights[0].departureAirport}}</p>
                                  </div>
                                  <div class="name-bottom-top-center">
                                      <p>{{ list.flights[0].duration | durationTime }}</p>
                                      <img src="/{{cdnUrl}}/images/icons/mob-flight.png" alt="" />
                                      <p *ngIf="list.flights.length > 0 && list.flights[0].stops==0">non stop</p>
                                      <p *ngIf="list.flights.length > 0 && list.flights[0].stops!=0">{{list.flights[0].stops}} stop</p>
                                  </div>
                                  <div class="name-bottom-top-right">
                                      <h6>{{list.flights[list.flights.length-1].arrivalDateTime | date:'HH:mm'}}</h6>
                                      <p>{{list.flights[list.flights.length-1].arrivalAirport}}</p>
                                  </div>
                              </div>

                                     <div class="name-bottom-bottom" *ngIf="list.priceSummary[0].totalFare|couponDiplay:flightCoupons:list.priceSummary[0].partnerName">
                                <p><img src="{{cdnUrl}}/images/icons/price.png" alt=""> {{list.priceSummary[0].totalFare|couponDiplay:flightCoupons:list.priceSummary[0].partnerName}}</p>
                                </div>
                          </div>
                      </div>


                      <div class="mob-items-book-list" style="display:none;"  id="CompareToFly_{{list.flightKey}}">
                          <div class="mob-items-book-list-items" *ngFor="let item of list.priceSummary; let j = index">
                              <div class="mob-book-list-top">
                                  <div class="mob-booking-image">
                                     <img src="{{cdnUrl}}/images/flight_partners/small/{{item.partnerName}}.png" alt="{{item.partnerName}}" width="40" >
                                     <span>{{item.partnerName}}</span>
                                  </div>
                                  <div class="mob-booking-price">
                                      <h6>₹ {{item.totalFare |number}}</h6>
                                      <p *ngIf="item.totalFare > EMIAvailableLimit">EMI @ ₹ {{calculateEMI(item.totalFare)|number}}/month</p>
                                  </div>
                                  <div class="mob-booking">
                                      <a href="javascript:void(0)"  (click)="bookingSummary(list.flights,item,list.flightKey)">
                                          Book
                                      </a>
                                  </div>
                              </div>

                             <div class="name-bottom-bottom" *ngIf="item.totalFare|couponDiplay:flightCoupons:item.partnerName">
                                <p><img src="{{cdnUrl}}/images/icons/price.png" alt=""> {{item.totalFare|couponDiplay:flightCoupons:item.partnerName}}</p>
                                </div>
                              <div class="mob-book-list-bottom">
                                  <div class="mob-extra">
                                      <ul>
                                        <!-- <li>
                                              <img src="{{cdnUrl}}/images/icons/details/1.png" alt="" />
                                          </li>
                                          <li>
                                              <img src="{{cdnUrl}}/images/icons/details/2.png" alt="" />
                                          </li>
                                          <li>
                                              <img src="{{cdnUrl}}/images/icons/details/3.png" alt="" />
                                          </li>-->
                                      </ul>
                                  </div>
                                  <div class="mob-details">
                                      <a href="javascript:void(0)" (click)="openFlightDetailMobile(list.flightKey,'flightdetail')">Flight Details <img src="{{cdnUrl}}/images/icons/mob-down.png" alt="" /> </a>
                                  </div>
                              </div>
                          </div>
                      </div>

                  </div>
              </div>



               <!-- flight detail for mobile  -->
                        <div class="mob-fd-area"  id="flightDetailMobile_{{list.flightKey}}">
                            <div class="mob-fd-box">
                                <div class="mob-title">
                                    <h3>Flight Details</h3>
                                    <a href="javascript:void(0)" (click)="closeFlightDetailMobile(list.flightKey)" class="mob-close mob-ff-from-close">
                                        <img src="{{cdnUrl}}/images/icons/close.png" alt="">
                                    </a>
                                </div>
                                <div class="mob-fd-filters d-block">
                                    <div class="mob-fd-accordion">
                                        <div class="accordion" id="accordionExample">
                                            <div class="accordion-item">
                                                <!--<h2 class="accordion-header" id="headingOne-fd">
                                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne-fd"
                                                        aria-expanded="true" aria-controls="collapseOne-fd" >
                                                        Flight Details
                                                    </button>
                                                </h2>-->
                                                <div id="collapseOne-fd" class="accordion-collapse collapse show" aria-labelledby="headingOne-fd"
                                                    data-bs-parent="#accordionExample">
                                                    <div class="accordion-body">
                                                        <div class="extra-tabs-details FlightDetails-box">
                                                            <div class="extra-tabs-details-top">
                                                                <div class="extra-tabs-left">
                                                                    <p>{{fromCityName}} to {{toCityName}} <br> Depart</p>
                                                                </div>
                                                            </div>
                                                            <div class="extra-tabs-details-bottom ">
                                                                <div class="tabs-depart-box" *ngFor="let details of list.flights;let i=index;">
                                                                    <div class="tabs-depart-one">
                                                                        <p class="depart-one-image" ><img src="{{cdnUrl}}/images/airlines/{{list.flights[0].airline}}.gif"  class="flight-image me-2" alt="">{{list.flights[i].airline}} {{list.flights[i].flightNumber}}</p>
                                                                        <!-- <p class="depart-one-image"><img src="{{cdnUrl}}/images/flights/flight-1.png" width="22px" class="me-2" alt="">IndiGo 6E 5334</p> -->
                                                                        <div class="tabs-depart-left float-none justify-content-between w-100">
                                                                            <div class="tabs-depart-times">
                                                                                <h5 class="mb-1 fw_7">{{details.departureDateTime | date:'HH:mm'}}</h5>
                                                                                <p>{{details.departureDateTime | date:"EEE, MMM dd"}}</p>
                                                                                <p class="mt-1 opacity_05" *ngIf="airportsNameJson">{{this.airportsNameJson[details.departureAirport].airport_name}} ({{details.departureAirport}})</p>
                                                                            </div>
                                                                            <div class="tabs-depart-total">
                                                                                <p>{{details.duration | durationTime}}</p>
                                                                            </div>
                                                                            <div class="tabs-depart-times">
                                                                                <h5 class="mb-1 fw_7">{{details.arrivalDateTime | date:'HH:mm'}}</h5>
                                                                                <p>{{details.arrivalDateTime | date:"EEE ,MMM dd"}}</p>
                                                                                <p class="mt-1 opacity_05"  *ngIf="airportsNameJson">{{this.airportsNameJson[details.arrivalAirport].airport_name}} ({{details.arrivalAirport}})</p>
                                                                            </div>
                                                                        </div>
                                                                        <!--<div class="tabs-depart-right">
                                                                            <div class="Baggage">
                                                                                <h5>Baggage</h5>
                                                                                <p>Adult</p>
                                                                            </div>
                                                                            <div class="departCheck">
                                                                                <h5>Check-in</h5>
                                                                                <p>15 Kgs <span class="opacity_05">(1 piece only)</span></p>
                                                                            </div>
                                                                            <div class="Cabin">
                                                                                <h5>Cabin</h5>
                                                                                <p>7 Kgs <span class="opacity_05">(1 plece only)</span></p>
                                                                            </div>
                                                                        </div>-->
                                                                    </div>
                                                                    <div class="operated_by" *ngIf="details.operatingAirline && details.airline != details.operatingAirline">
                                        Operated by  <b *ngIf="details.operatingAirline && airlinesNameJson[details.operatingAirline]">{{airlinesNameJson[details.operatingAirline].name}}</b>
                                        <b   *ngIf="details.operatingAirline && !airlinesNameJson[details.operatingAirline]">{{details.operatingAirline}}</b>
                                        </div>
                                                                    <div class="tabs-depart-two" *ngIf="getLayoverHour(list.flights[i],list.flights[i+1])">
                                                                        <!-- <p>Change of planes・3h 0m Layover in Nagpur</p> -->
                                                                        <p>Change of planes・{{getLayoverHour(list.flights[i],list.flights[i+1]) | durationTime}} Layover in {{this.airportsNameJson[details.arrivalAirport].airport_name}}</p>
                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                           <!-- <div class="accordion-item">
                                                <h2 class="accordion-header" id="headingTwo-fd">
                                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                         aria-expanded="false" aria-controls="collapseTwo-fd" (click)="openFlightDetailMobile(list.flightKey,'cancellation')">
                                                        Cancellation Details
                                                    </button>
                                                </h2>
                                                <div id="collapseTwo-fd_{{list.flightKey}}" class="accordion-collapse collapse" aria-labelledby="headingTwo-fd"
                                                    data-bs-parent="#accordionExample" >
                                                    <div class="accordion-body">
                                                        <div class="extra-tabs-details Fare-box">
                                                            <div class="extra-tabs-details-bottom p-0">
                                                                <table class="table-bordered table-content w-100">
                                                                    <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="fw_6 fs_13">Time Frame</p>
                                                                                <p class="opacity_05">(From Scheduled flight departure)</p>
                                                                            </td>
                                                                            <td>
                                                                                <p class="fw_6 fs_13">Airline Fee</p>
                                                                                <p class="opacity_05">(Per passenger)</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="opacity_05">0 hours to 2 hours*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="opacity_05">2 hours to 3 days*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="opacity_05">3 days to 365 days*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                                <p class="oth-text mt-10">*From the date of Departure</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="accordion-item">
                                                <h2 class="accordion-header" id="headingThree-fd">
                                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                        data-bs-target="#collapseThree-fd" aria-expanded="false" aria-controls="collapseThree-fd" (click)="openFlightDetailMobile(list.flightKey,'baggagepolicy')">
                                                        Baggage Policy
                                                    </button>
                                                </h2>
                                                <div id="collapseThree-fd_{{list.flightKey}}" class="accordion-collapse collapse" aria-labelledby="headingThree-fd"
                                                    data-bs-parent="#accordionExample">
                                                    <div class="accordion-body" >
                                                        <div class="" *ngIf="list.flights.length > 0">
                                                            <div class="rules-flight" >
                                                                <div class="rules-flight-items" *ngFor="let flightItem of list.flights">
                                                                    <div class="rules-flight-thumbe">
                                                                        <img src="{{cdnUrl}}/images/airlines/{{list.flights[0].airline}}.gif" alt="">
                                                                    </div>
                                                                    <div class="rules-flight-content" >
                                                                        <h6 >
                                                                            {{flightItem.departureAirport}}
                                                                            <img src="{{cdnUrl}}/images/icons/flight-right.png" alt="">
                                                                            {{flightItem.arrivalAirport}}
                                                                        </h6>
                                                                    </div>
                                                                </div>
                                                                <!-- <div class="rules-flight-items opacity_05">
                                                                    <div class="rules-flight-thumbe">
                                                                        <img  src="{{cdnUrl}}/images/airlines/{{list.flights[0].airline}}.gif" alt="">
                                                                    </div>
                                                                    <div class="rules-flight-content">
                                                                        <h6>
                                                                            NAG
                                                                            <img src="{{cdnUrl}}/images/icons/flight-right.png" alt="">
                                                                            HYD
                                                                        </h6>
                                                                    </div>
                                                                </div> -->
                                                            <!--</div>
                                                        </div>
                                                        <div class="extra-tabs-details-bottom p-0">
                                                            <table class="table-bordered table-content w-100">
                                                                <tbody>
                                                                    <tr>
                                                                        <td>
                                                                            <p class="fw_6 fs_13">Baggage</p>
                                                                        </td>
                                                                        <td>
                                                                            <p class="fw_6 fs_13">Check-in Baggage</p>
                                                                            <p class="opacity_05">(Per passenger)</p>
                                                                        </td>
                                                                        <td>
                                                                            <p class="fw_6 fs_13">Cabin Baggage</p>
                                                                            <p class="opacity_05">(Per passenger)</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <p class=" ">Adult</p>
                                                                        </td>
                                                                        <td>
                                                                            <p class="fw_6 fs_13">15 Kgs</p>
                                                                            <p class="opacity_05">(1 piece only)</p>
                                                                        </td>
                                                                        <td>
                                                                            <p class="fw_6 fs_13">7 Kgs</p>
                                                                            <p class="opacity_05">(1 piece only)</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <p class=" ">Child</p>
                                                                        </td>
                                                                        <td>
                                                                            <p class="fw_6 fs_13">15 Kgs</p>
                                                                            <p class="opacity_05">(1 piece only)</p>
                                                                        </td>
                                                                        <td>
                                                                            <p class="fw_6 fs_13">7 Kgs</p>
                                                                            <p class="opacity_05">(1 piece only)</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <p class=" ">Infant</p>
                                                                        </td>
                                                                        <td>
                                                                            <p class="fw_6 fs_13">Cabin bag only</p>
                                                                        </td>
                                                                        <td>
                                                                            <p class="fw_6 fs_13">7 Kgs</p>
                                                                            <p class="opacity_05">(1 piece only)</p>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                            <p class="oth-text mt-10">*From the date of Departure</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>-->

                                           <!--
                                            <div class="accordion-item">
                                                <h2 class="accordion-header" id="headingfour-fd">
                                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                        data-bs-target="#collapsefour-fd" aria-expanded="false" aria-controls="collapsefour-fd" (click)="openFlightDetailMobile(list.flightKey,'farerules')">
                                                        Fare Rules
                                                    </button>
                                                </h2>
                                                <div id="collapsefour-fd_{{list.flightKey}}" class="accordion-collapse collapse" aria-labelledby="headingfour-fd"
                                                    data-bs-parent="#accordionExample">
                                                    <div class="accordion-body stops-widget">
                                                        <div class="extra-tabs-details Fare-box">
                                                            <div class="extra-tabs-details-bottom p-0">
                                                                <table class="table-bordered table-content w-100">
                                                                    <tbody>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="fw_6 fs_13">Time Frame</p>
                                                                                <p class="opacity_05">(From Scheduled flight departure)</p>
                                                                            </td>
                                                                            <td>
                                                                                <p class="fw_6 fs_13">Airline Fee</p>
                                                                                <p class="opacity_05">(Per passenger)</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="opacity_05">0 hours to 2 hours*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="opacity_05">2 hours to 3 days*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td>
                                                                                <p class="opacity_05">3 days to 365 days*</p>
                                                                            </td>
                                                                            <td>
                                                                                <p>Adult : Non refundable</p>
                                                                                <p>Child : Non refundable</p>
                                                                                <p>Infant : Non refundable</p>
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                                <p class="oth-text mt-10">*From the date of Departure</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div> -->
                                        </div>
                                    </div>
                                    <!--<div class="mob-sf-btns">
                                        <a href="javascript:void(0)" (click)="closeFlightDetailMobile(list.flightKey)">Close</a>
                                    </div>-->
                                </div>
                            </div>
                          </div>



              </div>

            </ng-template>
               <div id="endOfPage" (click)="loadData()"></div>
          </div>



 <!-- ------------------------------
            >>> mobile Sort Filters
        ---------------------------------->
        <div class="mob-sf-area" id="sortMobileFilter" *ngIf="isMobile">

          <div class="mob-sf-box">
              <div class="mob-title">
                  <h3>Sort & Filters</h3>
                  <a href="javascript:void(0)" (click)="CloseSortingSection()" class="mob-close mob-ff-from-close">
                      <img src="{{cdnUrl}}/images/icons/close.png" alt="">
                  </a>
              </div>
              <div class="mob-sf-tabs">
                  <ul class="nav nav-tabs">
                      <li>
                          <a class="active" href="#Sort" role="tab" aria-controls="Sort" data-bs-toggle="tab">Sort by</a>
                      </li>
                      <li class="nav-item">
                          <a href="#Filters" role="tab" aria-controls="Filters" data-bs-toggle="tab">Filters</a>
                      </li>
                  </ul>
                  <div class="tab-content clearfix">
                      <div class="tab-pane active" id="Sort" role="tabpanel" aria-labelledby="Sort-tab">
                          <div class="mob-sf-sort">
                              <div class="mob-sf-sort-by">
                                  <div class="mob-sf-sort-by-items" *ngFor="let item of priceSortingFilteritems" [ngClass]="{'active': item.active == true}" (click)="flightSortingMobile(item.name)">
                                      <p >
                                          <img [src]="item.image" alt="" />
                                          <span><strong>{{item.sortValue}}</strong> <br> {{item.value}}</span>
                                      </p>
                                  </div>
                              </div>
                          </div>
                          <div class="mob-sf-btns">
                              <a href="javascript:void(0)" (click)="applySortingMobile()">Apply</a>
                          </div>
                      </div>
                      <div class="tab-pane" id="Filters" role="tabpanel" aria-labelledby="Filters-tab">
                          <div class="mob-sf-filters">
                              <div class="mob-sf-accordion">
                                  <div class="accordion" id="accordionExample">
                                      <div class="accordion-item">
                                          <h2 class="accordion-header" id="headingOne">
                                              <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
                                                  aria-expanded="true" aria-controls="collapseOne">
                                                  Popular Filters
                                              </button>
                                          </h2>
                                          <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                                              >
                                              <div class="accordion-body">
                                                  <ul class="category-list clearfix ">
                                                      <li class="custom-check-box" *ngFor="let popularItems of flight_PopularItems" [ngClass]="{'active': popularItems.active}">
                                                          <div class="custom-controls-stacked">
                                                              <label class="custom-control material-checkbox">
                                                                  <input type="checkbox" class="material-control-input" value="{{popularItems.value}}" [checked]="popularItems.active" (change)="FlightPopularFilterFlightData(popularItems)">
                                                                  <span class="material-control-indicator"></span>
                                                                  <span class="description" *ngIf="popularItems.name!='Meals_Included'">{{popularItems.value}} ({{popularItems.count}})</span>
                                                                  <span class="description" *ngIf="popularItems.name=='Meals_Included'">{{popularItems.value}}</span>
                                                              </label>
                                                          </div>
                                                      </li>
                                                  </ul>
                                                  <div class="mob-reset text-end">
                                                      <a href="javascript:void(0)" (click)="resetPopularFilter()">Reset</a>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                     <div class="accordion-item">
                                        <h2 class="accordion-header" id="headingeight">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                data-bs-target="#collapseeight" aria-expanded="false" aria-controls="collapseeight">
                                                Partners
                                            </button>
                                        </h2>
                                        <div id="collapseeight" class="accordion-collapse collapse" aria-labelledby="headingeight">
                                            <div class="accordion-body">
                                                <div class="default-sidebar">
                                                    <ul class="category-list clearfix mt-2">
                                                        <li class="custom-check-box" *ngFor="let partnerItem of partnerFilterArr| slice:0:5 ; let i = index " [ngClass]="{'active': partnerItem.active}">
                                                            <div class="custom-controls-stacked">
                                                                <label class="custom-control material-checkbox">
                                                                    <input type="checkbox" class="material-control-input" value="{{partnerItem.partnerName}}" [checked]="partnerItem.active"
                                                                    (change)="flightPartnerFilterFlightData(partnerItem)">
                                                                    <span class="material-control-indicator"></span>
                                                                    <span class="description">{{partnerItem.partnerName}}</span>
                                                                </label>
                                                            </div>
                                                        </li>
                                                        <ng-container *ngIf="show_airline_more">
                                                            <li class="custom-check-box" *ngFor="let partnerItem of airlines| slice:5 ; let i = index "
                                                                [ngClass]="{'active': partnerItem.active}">
                                                                <div class="custom-controls-stacked">
                                                                    <label class="custom-control material-checkbox">
                                                                        <input type="checkbox" class="material-control-input" value="{{partnerItem.partnerItem}}"
                                                                            [checked]="partnerItem.active" (change)="flightPartnerFilterFlightData(partnerItem)">
                                                                        <span class="material-control-indicator"></span>
                                                                        <span class="description">{{partnerItem.partnerName}}</span>
                                                                    </label>
                                                                </div>
                                                            </li>
                                                        </ng-container>
                                                    </ul>

                                                    <div class="mob-reset text-end">
                                                         <!-- <a href="javascript:void(0)" class="widget-content-more ml-20" (click)="showmoreAirline()" *ngIf="!show_airline_more && airlines && airlines.length>4">+{{airlines.length-5}} more</a> -->
                                                        <a href="javascript:void(0)" class="widget-content-more"  (click)="resetPartnerFlightsFilter()">Reset</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                     </div>
                                      <div class="accordion-item">
                                          <h2 class="accordion-header" id="headingTwo">
                                              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                  data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                  Flight Timings
                                              </button>
                                          </h2>
                                          <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                                             >
                                              <div class="accordion-body">
                                                  <p class="flighttimings-text">Departing flight ({{flightTimingfrom}}-{{flightTimingto}})</p>
                                                  <div class="flighttiming-content flight-departing">
                                                      <div class="flighttiming-list" *ngFor="let timingsItems of flight_Timingsitems" [ngClass]="{'active': timingsItems.active}"
                                                      (click)="FlightTimingsFilterFlightData(timingsItems)" >
                                                          <img src="{{cdnUrl}}/images/icons/timings/{{timingsItems.image}}" alt="">
                                                          <p [innerHTML]="timingsItems.value"></p>
                                                      </div>
                                                  </div>
                                                  <div class="mob-reset text-end">
                                                      <a href="javascript:void(0)" (click)="resetFlightTimingsFilter()">Reset</a>
                                                  </div>
                                              </div>
                                          </div>
                                    </div>
                                      <div class="accordion-item">
                                          <h2 class="accordion-header" id="headingThree">
                                              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                  data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                                  Price
                                              </button>
                                          </h2>
                                          <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                                              >
                                              <div class="accordion-body">

                                                  <div class="widget-content mt-10 mb-30 price-widget-content">
                                                      <div style="margin:0 0 20px 0">
                                                        <input type="number" min="0" [(ngModel)]="minPrice" [max]="resetMaxPrice"  id="min_price" class="price-range-field" />
                                                        <span class="ms-3 me-3">-</span>
                                                        <input type="number" min="0"  [(ngModel)]="maxPrice" [max]="resetMaxPrice"  id="max_price" class="price-range-field" />
                                                      </div>
                                                      <ngx-slider [(value)]="minPrice" [(highValue)]="maxPrice" [options]="options"
                                                      (valueChange)="onMinValueChange($event)"
                                                        (highValueChange)="onMaxValueChange($event)"
                                                      ></ngx-slider>
                                                  </div>

                                                  <div class="mob-reset text-end">
                                                      <a href="javascript:void(0)" (click)="resetPriceFilter()">Reset</a>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                      <div class="accordion-item">
                                          <h2 class="accordion-header" id="headingfour">
                                              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                  data-bs-target="#collapsefour" aria-expanded="false" aria-controls="collapsefour">
                                                  Stops
                                              </button>
                                          </h2>
                                          <div id="collapsefour" class="accordion-collapse collapse" aria-labelledby="headingfour"
                                              >
                                              <div class="accordion-body stops-widget">
                                                  <div class="Stops-content mt-0">
                                                    <div class="Stops-list" *ngFor="let FlightStopitem of stopsFilteritems" [ngClass]="{'active': FlightStopitem.active}" (click)="FlightStopsFilterFlightData(FlightStopitem)"
                                                    [innerHTML]="FlightStopitem.value">
                                                    </div>
                                                  </div>
                                                  <div class="mob-reset text-end">
                                                      <a href="javascript:void(0)" (click)="resetFlightStopsFilter()">Reset</a>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>

                                      <div class="accordion-item">
                                          <h2 class="accordion-header" id="headingfive">
                                              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                  data-bs-target="#collapsefive" aria-expanded="false" aria-controls="collapsefive">
                                                  Airlines
                                              </button>
                                          </h2>
                                          <div id="collapsefive" class="accordion-collapse collapse" aria-labelledby="headingfive"
                                              >
                                              <div class="accordion-body">
                                                  <div class="default-sidebar">
                                                      <ul class="category-list clearfix mt-2">

                                                          <li class="custom-check-box" *ngFor="let airlineItem of airlines| slice:0:5 ; let i = index " [ngClass]="{'active': airlineItem.active}">
                                                              <div class="custom-controls-stacked">
                                                                  <label class="custom-control material-checkbox">
                                                                      <input type="checkbox" class="material-control-input" value="{{airlineItem.airlineName}}" [checked]="airlineItem.active"
                                                                      (change)="flightAirlineFilterFlightData(airlineItem)">
                                                                      <span class="material-control-indicator"></span>
                                                                      <span class="description">{{airlineItem.airlineName}} ({{airlineItem.flighCount}})</span>
                                                                  </label>
                                                                  <p>₹{{airlineItem.price}}</p>
                                                              </div>
                                                          </li>

                                                              <ng-container *ngIf="show_airline_more" >
                                                                          <li class="custom-check-box" *ngFor="let airlineItem of airlines| slice:5 ; let i = index " [ngClass]="{'active': airlineItem.active}">
                                                              <div class="custom-controls-stacked">
                                                                  <label class="custom-control material-checkbox">
                                                                      <input type="checkbox" class="material-control-input" value="{{airlineItem.airlineName}}" [checked]="airlineItem.active"
                                                                      (change)="flightAirlineFilterFlightData(airlineItem)">
                                                                      <span class="material-control-indicator"></span>
                                                                      <span class="description">{{airlineItem.airlineName}} ({{airlineItem.flighCount}})</span>
                                                                  </label>
                                                                  <p>₹{{airlineItem.price}}</p>
                                                              </div>
                                                          </li>
                                                          </ng-container>
                                                      </ul>

                                                      <div class="d-flex justify-content-between mt-2">
                                                           <a href="javascript:void(0)" class="widget-content-more ml-20" (click)="showmoreAirline()" *ngIf="!show_airline_more && airlines && airlines.length>5">+{{airlines.length-5}} more</a>
                                                          <a href="javascript:void(0)" class="widget-content-more"  (click)="resetAirlineFlightsFilter()">Reset</a>
                                                      </div>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>

                                      <div class="accordion-item">
                                          <h2 class="accordion-header" id="headingsix">
                                              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                  data-bs-target="#collapsesix" aria-expanded="false" aria-controls="collapsesix">
                                                  Stopover
                                              </button>
                                          </h2>
                                          <div id="collapsesix" class="accordion-collapse collapse" aria-labelledby="headingsix"
                                              >
                                              <div class="accordion-body">
                                                  <div class="mt-3">
                                                    <ngx-slider [(value)]="minStopOver" [(highValue)]="maxStopOver"
                                                    [options]="optionsStopOver"
                                                    (valueChange)="onMinStopOverChange($event)"
                                                    (highValueChange)="onMaxStopOverChange($event)"
                                                   ></ngx-slider>
                                                      <div class="Stopover-value">
                                                        <p class="price-value" >{{minStopOver}} hrs</p>
                                        <p class="price-value2">{{maxStopOver}} hrs</p>
                                                      </div>
                                                  </div>
                                                  <div class="mob-reset text-end mt-2">
                                                      <a href="javascript:void(0)" (click)="resetStopOverFilter()">Reset</a>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                      <div class="accordion-item">
                                          <h2 class="accordion-header" id="headingseven">
                                              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                                  data-bs-target="#collapseseven" aria-expanded="false" aria-controls="collapseseven">
                                                  Layover Airports
                                              </button>
                                          </h2>
                                          <div id="collapseseven" class="accordion-collapse collapse" aria-labelledby="headingseven"
                                              >
                                              <div class="accordion-body">
                                                  <div class="default-sidebar">
                                                      <ul class="category-list clearfix mt-2">
                                                          <li class="custom-check-box" *ngFor="let layoverItem of layOverFilterArr| slice:0:5 ; let i = index " [ngClass]="{'active': layoverItem.active}"
                                                          (change)="flightLayoverFilterFlightData(layoverItem)">
                                                              <div class="custom-controls-stacked">
                                                                  <label class="custom-control material-checkbox">
                                                                      <input type="checkbox" class="material-control-input" value="{{layoverItem.arrivalAirportCode}}"  [checked]="layoverItem.active" >
                                                                      <span class="material-control-indicator"></span>
                                                                      <span class="description">{{layoverItem.arrivalAirport}}</span>
                                                                  </label>
                                                                  <p>₹{{layoverItem.price}}</p>
                                                              </div>
                                                          </li>
                                                          <ng-container *ngIf="show_layover_more" >
                                                                      <li class="custom-check-box" *ngFor="let layoverItem of layOverFilterArr| slice:5; let i = index " [ngClass]="{'active': layoverItem.active}"
                                                          (change)="flightLayoverFilterFlightData(layoverItem)">
                                                              <div class="custom-controls-stacked">
                                                                  <label class="custom-control material-checkbox">
                                                                      <input type="checkbox" class="material-control-input" value="{{layoverItem.arrivalAirportCode}}"  [checked]="layoverItem.active" >
                                                                      <span class="material-control-indicator"></span>
                                                                      <span class="description">{{layoverItem.arrivalAirport}}</span>
                                                                  </label>
                                                                  <p>₹{{layoverItem.price}}</p>
                                                              </div>
                                                          </li>
                                                          </ng-container>

                                                      </ul>

                                                      <div class="d-flex justify-content-between mt-2">
                                                       <a href="javascript:void(0)" class="widget-content-more ml-20" (click)="showmoreLayover()" *ngIf="!show_layover_more && layOverFilterArr && layOverFilterArr.length>5">+{{layOverFilterArr.length-5}} more</a>
                                                          <!-- <a href="#" class="widget-content-more ml-20">+2 more</a> -->
                                                          <a  class="widget-content-more" href="javascript:void(0)" (click)="resetLayOverFilter()">Reset</a>
                                                      </div>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>


                                  </div>
                              </div>
                              <div class="mob-sf-btns">
                                  <a href="javascript:void(0)" (click)="onApplyFilter()">Apply</a>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
       </div>
      </div>
</section>
<!--Mobile Screen ends-->



    <a href="javascript:void(0)"  (click)="gotoTop()"  class="scrollToTop" >
        <i class="far fa-dot-circle"></i>
        <span>Top</span>
    </a>





