<div class="flight_mlite_process"  *ngIf="REWARD_CUSTOMERID !='0000'">
  <section class="mob-flights-listing" *ngIf="searchData && isMobile">
      <div class="container">
        <div class="row">
          <div class="col-md-12 p-0">
            <div class="mob-listing-header">
              <div class="mob-listing-header-left">
                <a href="javascript:;" (click)="triggerBack()">
                  <img src="{{cdnUrl}}/images/icons/left.png" alt="" />
                </a>
              </div>
              <div class="mob-listing-header-center">
                <h6>{{searchData.fromCity}} - {{searchData.toCity}} <span *ngIf="searchData && searchData.flightdefault=='R'"> | {{searchData.toCity}} - {{searchData.fromCity}}</span></h6>
               
              </div>
              <div class="mob-listing-header-right">

              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="details-steps-area mb-40" [ngClass]="{'mt-140': !isMobile , 'mt-4':isMobile }">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-md-6">
              <div class="details-steps-box">
                <ul class="m-0 details-steps-ul">
                  <li>
                    <a href="javascript:void(0)" [ngClass]="{'active1': completedSteps > 1 , 'active':steps==1 }"
                      (click)="moveTab(1)">
                      <span class="steps-icons"><img src="{{cdnUrl}}/images/flights_details/flight.png" alt="" /></span>
                      <span class="steps-text">Train Details</span>
                    </a>
                  </li>
                  <li>
                    <a href="javascript:void(0)" [ngClass]="{'active1': completedSteps >2  , 'active':steps==2 }"
                      (click)="moveTab(2)">
                      <span class="steps-icons"><img src="{{cdnUrl}}/images/flights_details/user.png" alt="" /></span>
                      <span class="steps-text">Traveller Details</span>
                    </a>
                  </li>
                 
                  <li>
                    <a href="javascript:void(0)" [ngClass]="{'active1': completedSteps > 3 , 'active':steps==3 }"
                      (click)="moveTab(3)">
                      <span class="steps-icons"><img src="{{cdnUrl}}/images/flights_details/review.png" alt="" /></span>
                      <span class="steps-text">Review Booking</span>
                    </a>
                  </li>
                  <li>
                    <a href="javascript:void(0)" [ngClass]="{'active1': completedSteps== 4 , 'active':steps==4 }"
                      (click)="moveTab(4)">
                      <span class="steps-icons"><img src="{{cdnUrl}}/images/flights_details/payment.png" alt="" /></span>
                      <span class="steps-text">Payment</span>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>
</div>
<main class="site-main" *ngIf="REWARD_CUSTOMERID !='0000'" >
<section class="flight-details-area mt-10">
  <!-- Mlite Sesssion Timer Code -->
  <div class="d-block d-sm-none">
    <div class="sidebar-widget session-expires-widget text-center">
      <p><img src="{{cdnUrl}}/images/icons/sestion.png" class="me-2" alt="">Booking Expires in <strong>
          <countdown [config]="{ leftTime: 900, format: 'mm:ss'}" (event)="bookingSessionExpires($event)"></countdown>
          min
        </strong></p>
    </div>
  </div>
  <input *ngIf="searchData" type="hidden" id="journery_date" value='{{searchData.departure | date:"YYYY-MM-dd"}}' />
  <div class="container">
    <div class="row">

      <!--Steps 1-->
      <div class="col-md-8" *ngIf="steps==1">
        <div class="booking-process-content" *ngIf="flightOnwardDetails">
          <div class="booking-title-box">
            <h4>Train Details</h4>
          </div>

          <div class="booking-inner-box from-to-box">
            <div class="booking-inner-title">
              <div class="booking-inner-title-left" *ngIf="searchData">
                <h6>
                  {{searchData.fromCity}}
                  <img src="{{cdnUrl}}/images/icons/flight-right.png" class="ms-2 me-2" alt="">
                  {{searchData.toCity}}
                </h6>
                <p> {{searchData.departure | date:"EEE,dd MMM"}} | {{totalOnwardStops_data}} |
                  {{totalOnwardDuration + dateOnwardHour| durationTime}}</p>
              </div>
            </div>

          </div>
          
          
          
          
          
        </div>
      </div>
      <!--Steps 1 Ends-->

      <!--Steps 2 Starts-->
      <div class="col-md-8" [ngClass]="{'showTab':steps==2 , 'hide':steps !=2}">
       <!-- <form [formGroup]="passengerForm" name="passengerForm" ngxScrollToFirstInvalid>
          <div class="booking-process-content">
            <div class="booking-title-box">
              <h4>Traveller Details           </h4>
            </div>
            <div class="booking-inner-box traveller-person-box">
              <div class="traveller-person-title add-traveller-title">
                <div class="traveller-person-left">
                  <h6>Add Travellers</h6>
                </div>
                <div class="traveller-person-right">
                  <p class="text-color">Name should be same as in Government ID proof</p>
                </div>
              </div>

              <div class="traveller-addbox traveller-adults">
                <div class="traveller-addbox-title">
                  <h6>Adult (12 yrs+) <span class="opacity_05"><span
                        class="fw_7 opacity_1">{{adultsArray.length}}/{{travelerDetails.adults}}</span> added</span>
                  </h6>
                </div>
                <div class="traveller-addbox-details traveller-adults-details">
                  <div class="traveller-adults-ul">
                    <ul class="add-search-ul" *ngIf="adultTravellerList">
                      <li class="custom-check-box" *ngFor="let passenger of adultTravellerList | slice:0:3; ">
                        <div class="custom-controls-stacked">
                          <label class="custom-control material-checkbox">
                            <input type="checkbox" class="material-control-input pass_checkBox"
                              id="travelPassenger_{{passenger.id}}" type="checkbox" name="travellerlist"
                              (change)="clickPassenger($event,passenger,passenger.id)">
                            <span class="material-control-indicator"></span>
                            <span class="description fs_14 text-black fw_7 mr-10"><span
                                *ngIf="passenger.title">{{passenger.title}}.</span> {{passenger.firstName}}
                              {{passenger.lastName}} </span>
                            <span class="description fw_5 "> {{passenger.gender}}</span>
                          </label>
                        </div>

                        <div>
                          <div class="mt-3 hide" id="passengerBox_{{passenger.id}}">
                            <ng-container
                              *ngIf="passenger && passenger.age > 12 && saveAdultTravellerId[passenger.id] > 0">
                              <input type="hidden" value="{{saveAdultTravellerId[passenger.id]}}"
                                id="passengerBoxId_{{passenger.id}}" />
                              <div>
                                <div class="row">
                                  <div class="col-xl-2 col-lg-2 col-md-6">
                                    <mat-form-field appearance="outline" class="w-100">
                                      <mat-label>Title</mat-label>
                                      <mat-select formControlName="adult_title{{saveAdultTravellerId[passenger.id]}}">
                                        <mat-option value=""> Select </mat-option>
                                        <mat-option value="Mr"> Mr </mat-option>
                                        <mat-option value="Mrs">Mrs</mat-option>
                                        <mat-option value="Ms">Ms</mat-option>
                                      </mat-select>
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('required','adult_title'+saveAdultTravellerId[passenger.id])">
                                        Select title</mat-error>
                                    </mat-form-field>
                                  </div>

                                  <div class="col-xl-4 col-lg-4 col-md-6">
                                    <mat-form-field appearance="outline" class="w-100">
                                      <mat-label>First Name</mat-label>
                                      <input matInput placeholder="First Name" name="adult_first_name"
                                        formControlName="adult_first_name{{saveAdultTravellerId[passenger.id]}}">
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('required','adult_first_name'+saveAdultTravellerId[passenger.id])">
                                        Please enter first name</mat-error>
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('pattern','adult_first_name'+saveAdultTravellerId[passenger.id])">
                                        Please enter valid first name</mat-error>
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('minlength','adult_first_name'+saveAdultTravellerId[passenger.id])">
                                        Please enter atleast 2 character</mat-error>
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('maxlength','adult_first_name'+saveAdultTravellerId[passenger.id])">
                                        Please enter maximum 26 character</mat-error>
                                    </mat-form-field>
                                  </div>
                                  <div class="col-xl-3 col-lg-3 col-md-6">
                                    <mat-form-field appearance="outline" class="w-100">
                                      <mat-label>Last Name</mat-label>
                                      <input matInput placeholder="Last Name"
                                        formControlName="adult_last_name{{saveAdultTravellerId[passenger.id]}}">
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('required','adult_last_name'+saveAdultTravellerId[passenger.id])">
                                        Please enter first name</mat-error>
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('pattern','adult_last_name'+saveAdultTravellerId[passenger.id])">
                                        Please enter valid first name</mat-error>
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('minlength','adult_last_name'+saveAdultTravellerId[passenger.id])">
                                        Please enter atleast 2 character</mat-error>
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('maxlength','adult_last_name'+saveAdultTravellerId[passenger.id])">
                                        Please enter maximum 26 character</mat-error>
                                    </mat-form-field>
                                  </div>
                                  <div class="col-xl-3 col-lg-3 col-md-6">
                                    <div class="form-group">
                                      <mat-form-field appearance="outline" class="w-100">
                                        <mat-label>Date Of Birth</mat-label>
                                        <input matInput [inputMask]="dateInputMask"
                                          formControlName="adult_dob{{saveAdultTravellerId[passenger.id]}}"
                                          placeholder="Date Of Birth" name="dateOfBirth">
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('required','adult_dob'+saveAdultTravellerId[passenger.id])">
                                          Please enter dob</mat-error>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('validateAdultAge','adult_dob'+saveAdultTravellerId[passenger.id])">
                                          Adult age should be above 12 years.</mat-error>
                                          <mat-error class="error-flight-checkout" *ngIf="passengerForm.get('adult_dob'+saveAdultTravellerId[passenger.id]).touched && passengerForm.get('adult_dob'+saveAdultTravellerId[passenger.id]).getError('younger')">
                                            Please Enter Valid DOB
                                          </mat-error>
                                      </mat-form-field>


                                    </div>
                                  </div>


                                  <ng-container *ngIf="searchData.travel=='INT'">
                                    <div class="row">
                                      <div class="col-xl-4 col-lg-4 col-md-6">
                                        <mat-form-field appearance="outline" class="w-100">
                                          <mat-label>Passport Number</mat-label>
                                          <input matInput
                                            formControlName="adult_passport_num{{saveAdultTravellerId[passenger.id]}}"
                                            placeholder="Passport Number" name="PassportNumber">
                                          <mat-error class="error-flight-checkout"
                                            *ngIf="passengerForm.hasError('required','adult_passport_num'+saveAdultTravellerId[passenger.id])">
                                            Please enter passport number</mat-error>

                                            <mat-error class="error-flight-checkout"
                                            *ngIf="passengerForm.hasError('minlength','adult_passport_num'+saveAdultTravellerId[passenger.id])">
                                            Please enter atleast 8 digits.</mat-error>

                                            <mat-error class="error-flight-checkout"
                                            *ngIf="passengerForm.hasError('maxlength','adult_passport_num'+saveAdultTravellerId[passenger.id])">
                                            Cannot exceed more than 12 characters.</mat-error>

                                            <mat-error class="error-flight-checkout"
                                            *ngIf="passengerForm.hasError('pattern','adult_passport_num'+saveAdultTravellerId[passenger.id])">
                                            This field must contain only letters</mat-error>

                                        </mat-form-field>

                                      </div>

                                      <div class="col-xl-4 col-lg-4 col-md-6">
                                        <mat-form-field appearance="outline" class="w-100">
                                          <mat-label>Passport Expiry Date</mat-label>
                                          <input matInput [inputMask]="dateInputMask"
                                            formControlName="adult_passport_expiry_date{{saveAdultTravellerId[passenger.id]}}"
                                            placeholder="Passport Expiry Date" name="PassportExpiryDate">
                                          <mat-error class="error-flight-checkout"
                                            *ngIf="passengerForm.hasError('required','adult_passport_expiry_date'+saveAdultTravellerId[passenger.id])">
                                            Please enter passport issue date</mat-error>
                                <mat-error class="error-flight-checkout"
                                *ngIf="passengerForm.hasError('validatePassportExp','adult_passport_expiry_date'+saveAdultTravellerId[passenger.id])">
                                Please enter a valid expiry date</mat-error>
                                        </mat-form-field>
                                      </div>


                                      <div class="col-xl-4 col-lg-4 col-md-6">
                                        <mat-form-field appearance="outline" class="w-100">
                                          <mat-label>Passport Issue Date</mat-label>
                                          <input matInput [inputMask]="dateInputMask"
                                            formControlName="adult_passport_issue_date{{saveAdultTravellerId[passenger.id]}}"
                                            placeholder="Passport Issue Date" name="PassportIssueDate">
                                          <mat-error class="error-flight-checkout"
                                            *ngIf="passengerForm.hasError('required','adult_passport_issue_date'+saveAdultTravellerId[passenger.id])">
                                            Please enter passport issue date</mat-error>

                                            <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('validatePassportIssue','adult_passport_issue_date'+saveAdultTravellerId[passenger.id])">
                                              Please enter a valid issued date.</mat-error>
                                        </mat-form-field>
                                      </div>

                                      <div class="row">
                                        <div class="col-xl-4 col-lg-4 col-md-6">
                                          <mat-form-field appearance="outline" class="w-100">
                                            <mat-label>Passport Issuing Country</mat-label>
                                            <mat-select
                                              formControlName="adult_passport_issuing_country{{saveAdultTravellerId[passenger.id]}}">
                                              <mat-option value=""> Select </mat-option>
                                              <mat-option *ngFor="let country of countryJson;"
                                                value="{{country.countryCode}}"> {{country.country}} </mat-option>
                                            </mat-select>
                                            <mat-error class="error-flight-checkout"
                                              *ngIf="passengerForm.hasError('required','adult_passport_issuing_country'+saveAdultTravellerId[passenger.id])">
                                              Select passport issuing country</mat-error>
                                          </mat-form-field>
                                        </div>


                                        <div class="col-xl-4 col-lg-4 col-md-6">
                                          <mat-form-field appearance="outline" class="w-100">
                                            <mat-label>PAX Nationality</mat-label>
                                            <mat-select
                                              formControlName="adult_pax_nationality{{saveAdultTravellerId[passenger.id]}}">
                                              <mat-option value=""> Select </mat-option>
                                              <mat-option *ngFor="let country of countryJson;"
                                                value="{{country.countryCode}}"> {{country.country}} </mat-option>
                                            </mat-select>
                                            <mat-error class="error-flight-checkout"
                                              *ngIf="passengerForm.hasError('required','adult_pax_nationality'+saveAdultTravellerId[passenger.id])">
                                              Select nationality</mat-error>
                                          </mat-form-field>
                                        </div>
                                      </div>

                                    </div>
                                  </ng-container>



                                </div>
                              </div>

                            </ng-container>
                          </div>
                        </div>

                      </li>
                      <ng-container *ngIf="adultTravellerList && adultTravellerList.length >3 && isAdultExpanded ">
                        <li class="custom-check-box" *ngFor="let passenger of adultTravellerList | slice:3; ">
                          <div class="custom-controls-stacked">
                            <label class="custom-control material-checkbox">
                              <input type="checkbox" class="material-control-input pass_checkBox"
                                id="travelPassenger_{{passenger.id}}" type="checkbox" name="travellerlist"
                                (change)="clickPassenger($event,passenger,passenger.id)">
                              <span class="material-control-indicator"></span>
                              <span class="description fs_14 text-black fw_7 mr-10"><span
                                  *ngIf="passenger.title">{{passenger.title}}.</span> {{passenger.firstName}}
                                {{passenger.lastName}} </span>
                              <span class="description fw_5"> {{passenger.gender}}</span>
                            </label>
                          </div>



                          <div>
                            <div class="mt-3 hide" id="passengerBox_{{passenger.id}}">
                              <ng-container
                                *ngIf="passenger && passenger.age > 12 && saveAdultTravellerId[passenger.id] > 0">
                                <input type="hidden" value="{{saveAdultTravellerId[passenger.id]}}"
                                  id="passengerBoxId_{{passenger.id}}" />
                                <div>
                                  <div class="row">
                                    <div class="col-xl-2 col-lg-2  col-md-6">
                                      <mat-form-field appearance="outline" class="w-100">
                                        <mat-label>Title</mat-label>
                                        <mat-select
                                          formControlName="adult_title{{saveAdultTravellerId[passenger.id]}}">
                                          <mat-option value=""> Select </mat-option>
                                          <mat-option value="Mr"> Mr </mat-option>
                                          <mat-option value="Mrs">Mrs</mat-option>
                                          <mat-option value="Ms">Ms</mat-option>
                                        </mat-select>

                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('required','adult_title'+saveAdultTravellerId[passenger.id])">
                                          Select title</mat-error>

                                      </mat-form-field>
                                    </div>

                                    <div class="col-xl-4 col-lg-4 col-md-6">
                                      <mat-form-field appearance="outline" class="w-100">
                                        <mat-label>First Name</mat-label>
                                        <input matInput placeholder="First Name" name="adult_first_name"
                                          formControlName="adult_first_name{{saveAdultTravellerId[passenger.id]}}">
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('required','adult_first_name'+saveAdultTravellerId[passenger.id])">
                                          Please enter first name</mat-error>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('pattern','adult_first_name'+saveAdultTravellerId[passenger.id])">
                                          Please enter valid first name</mat-error>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('minlength','adult_first_name'+saveAdultTravellerId[passenger.id])">
                                          Please enter atleast 2 character</mat-error>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('maxlength','adult_first_name'+saveAdultTravellerId[passenger.id])">
                                          Please enter maximum 26 character</mat-error>
                                      </mat-form-field>
                                    </div>
                                    <div class="col-xl-3 col-lg-3 col-md-6">
                                      <mat-form-field appearance="outline" class="w-100">
                                        <mat-label>Last Name</mat-label>
                                        <input matInput placeholder="Last Name"
                                          formControlName="adult_last_name{{saveAdultTravellerId[passenger.id]}}">
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('required','adult_last_name'+saveAdultTravellerId[passenger.id])">
                                          Please enter first name</mat-error>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('pattern','adult_last_name'+saveAdultTravellerId[passenger.id])">
                                          Please enter valid first name</mat-error>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('minlength','adult_last_name'+saveAdultTravellerId[passenger.id])">
                                          Please enter atleast 2 character</mat-error>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('maxlength','adult_last_name'+saveAdultTravellerId[passenger.id])">
                                          Please enter maximum 26 character</mat-error>
                                      </mat-form-field>
                                    </div>
                                    <div class="col-xl-3 col-lg-3 col-md-6">
                                      <div class="form-group">
                                        <mat-form-field appearance="outline" class="w-100">
                                          <mat-label>Date Of Birth</mat-label>
                                          <input matInput [inputMask]="dateInputMask"
                                            formControlName="adult_dob{{saveAdultTravellerId[passenger.id]}}"
                                            placeholder="Date Of Birth" name="dateOfBirth">

                                          <mat-error class="error-flight-checkout"
                                            *ngIf="passengerForm.hasError('required','adult_dob'+saveAdultTravellerId[passenger.id])">
                                            Please enter dob</mat-error>
                                          <mat-error class="error-flight-checkout"
                                            *ngIf="passengerForm.hasError('validateAdultAge','adult_dob'+saveAdultTravellerId[passenger.id])">
                                            Adult age should be above 12 years.</mat-error>
                                            <mat-error class="error-flight-checkout" *ngIf="passengerForm.get('adult_dob'+saveAdultTravellerId[passenger.id]).touched && passengerForm.get('adult_dob'+saveAdultTravellerId[passenger.id]).getError('younger')">
                                              Please Enter Valid DOB
                                            </mat-error>
                                        </mat-form-field>
                                      </div>
                                    </div>

                                    <ng-container *ngIf="searchData.travel=='INT'">
                                      <div class="row">
                                        <div class="col-xl-4 col-lg-4 col-md-6">
                                          <mat-form-field appearance="outline" class="w-100">
                                            <mat-label>Passport Number</mat-label>
                                            <input matInput
                                              formControlName="adult_passport_num{{saveAdultTravellerId[passenger.id]}}"
                                              placeholder="Passport Number" name="PassportNumber">
                                            <mat-error class="error-flight-checkout"
                                              *ngIf="passengerForm.hasError('required','adult_passport_num'+saveAdultTravellerId[passenger.id])">
                                              Please enter passport number</mat-error>

                                              <mat-error class="error-flight-checkout"
                                              *ngIf="passengerForm.hasError('minlength','adult_passport_num'+saveAdultTravellerId[passenger.id])">
                                              Please enter atleast 8 digits.</mat-error>

                                              <mat-error class="error-flight-checkout"
                                              *ngIf="passengerForm.hasError('maxlength','adult_passport_num'+saveAdultTravellerId[passenger.id])">
                                              Cannot exceed more than 12 characters.</mat-error>

                                              <mat-error class="error-flight-checkout"
                                              *ngIf="passengerForm.hasError('pattern','adult_passport_num'+saveAdultTravellerId[passenger.id])">
                                              This field must contain only letters</mat-error>

                                          </mat-form-field>

                                        </div>

                                        <div class="col-xl-4 col-lg-4 col-md-6">
                                          <mat-form-field appearance="outline" class="w-100">
                                            <mat-label>Passport Expiry Date</mat-label>
                                            <input matInput [inputMask]="dateInputMask"
                                              formControlName="adult_passport_expiry_date{{saveAdultTravellerId[passenger.id]}}"
                                              placeholder="Passport Expiry Date" name="PassportExpiryDate">
                                            <mat-error class="error-flight-checkout"
                                              *ngIf="passengerForm.hasError('required','adult_passport_expiry_date'+saveAdultTravellerId[passenger.id])">
                                              Please enter passport issue date</mat-error>
                                              <mat-error class="error-flight-checkout"
*ngIf="passengerForm.hasError('validatePassportExp','adult_passport_expiry_date'+saveAdultTravellerId[passenger.id])">
Please enter a valid expiry date</mat-error>
                                          </mat-form-field>
                                        </div>


                                        <div class="col-xl-4 col-lg-4 col-md-6">
                                          <mat-form-field appearance="outline" class="w-100">
                                            <mat-label>Passport Issue Date</mat-label>
                                            <input matInput [inputMask]="dateInputMask"
                                              formControlName="adult_passport_issue_date{{saveAdultTravellerId[passenger.id]}}"
                                              placeholder="Passport Issue Date" name="PassportIssueDate">
                                            <mat-error class="error-flight-checkout"
                                              *ngIf="passengerForm.hasError('required','adult_passport_issue_date'+saveAdultTravellerId[passenger.id])">
                                              Please enter passport issue date</mat-error>
                                              <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('validatePassportIssue','adult_passport_issue_date'+saveAdultTravellerId[passenger.id])">
                                                Please enter a valid issued date.</mat-error>
                                          </mat-form-field>
                                        </div>

                                        <div class="row">
                                          <div class="col-xl-4 col-lg-4 col-md-6">
                                            <mat-form-field appearance="outline" class="w-100">
                                              <mat-label>Passport Issuing Country</mat-label>
                                              <mat-select
                                                formControlName="adult_passport_issuing_country{{saveAdultTravellerId[passenger.id]}}">
                                                <mat-option value=""> Select </mat-option>
                                                <mat-option *ngFor="let country of countryJson;"
                                                  value="{{country.countryCode}}"> {{country.country}} </mat-option>
                                              </mat-select>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('required','adult_passport_issuing_country'+saveAdultTravellerId[passenger.id])">
                                                Select passport issuing country</mat-error>
                                            </mat-form-field>
                                          </div>


                                          <div class="col-xl-4 col-lg-4 col-md-6">
                                            <mat-form-field appearance="outline" class="w-100">
                                              <mat-label>PAX Nationality</mat-label>
                                              <mat-select
                                                formControlName="adult_pax_nationality{{saveAdultTravellerId[passenger.id]}}">
                                                <mat-option value=""> Select </mat-option>
                                                <mat-option *ngFor="let country of countryJson;"
                                                  value="{{country.countryCode}}"> {{country.country}} </mat-option>
                                              </mat-select>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('required','adult_pax_nationality'+saveAdultTravellerId[passenger.id])">
                                                Select nationality</mat-error>
                                            </mat-form-field>
                                          </div>
                                        </div>

                                      </div>
                                    </ng-container>



                                  </div>
                                </div>

                              </ng-container>
                            </div>

                          </div>

                        </li>
                      </ng-container>
                    </ul>
                    <p class="view_more_btn othertraveller"
                      *ngIf="!isAdultExpanded && adultTravellerList && adultTravellerList.length >3 "><a
                        href="javascript:;" (click)="expandItemsAdult()">View More</a></p>
                    <div class=" add_new_traveler p-20" *ngIf="!isMobile && adultsArrayM.length>0 ">
                      <div *ngIf="adultsArrayM.length>0">
                        <ng-container
                          *ngFor="let traveller of adultsArrayM; index as i; trackBy: trackByTraveller;let last = last;">
                          <p class="my-2">Adult {{i+1}}
                            <span class="remove-traveller float-right text-right" (click)="removeAdult(traveller,-1)"
                              *ngIf="adultsArray.length > 0"><i class="material-icons"
                                style="color: #007bff;position: relative;top: -7px;">close</i> </span>
                          </p>

                          <div>
                            <div class="row">
                              <div class="col-xl-2 col-lg-2 col-md-6">
                                <mat-form-field appearance="outline" class="w-100">
                                  <mat-label>Title</mat-label>
                                  <mat-select formControlName="adult_title{{traveller}}">
                                    <mat-option value=""> Select </mat-option>
                                    <mat-option value="Mr"> Mr </mat-option>
                                    <mat-option value="Mrs">Mrs</mat-option>
                                    <mat-option value="Ms">Ms</mat-option>
                                  </mat-select>
                                  <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('required','adult_title'+traveller)">Select title</mat-error>
                                </mat-form-field>
                              </div>

                              <div class="col-xl-4 col-lg-4 col-md-6">
                                <mat-form-field appearance="outline" class="w-100">
                                  <mat-label>First Name</mat-label>
                                  <input matInput placeholder="First Name" name="adult_first_name"
                                    formControlName="adult_first_name{{traveller}}">
                                  <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('required','adult_first_name'+traveller)">
                                    Please enter first name</mat-error>
                                  <mat-error class="error-flight-checkout"  *ngIf="passengerForm.hasError('pattern','adult_first_name'+traveller) && !passengerForm.hasError('required','adult_first_name'+traveller)">
                                    Please enter valid first name</mat-error>
                                  <mat-error class="error-flight-checkout"  *ngIf="passengerForm.hasError('minlength','adult_first_name'+traveller) && !passengerForm.hasError('pattern','adult_first_name'+traveller)">
                                    Please enter atleast 2 character</mat-error>
                                  <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('maxlength','adult_first_name'+traveller) && !passengerForm.hasError('pattern','adult_first_name'+traveller)">
                                    Please enter maximum 26 character</mat-error>
                                </mat-form-field>

                              </div>
                              <div class="col-xl-3 col-lg-3 col-md-6">
                                <mat-form-field appearance="outline" class="w-100">
                                  <mat-label>Last Name</mat-label>
                                  <input matInput placeholder="Last Name"
                                    formControlName="adult_last_name{{traveller}}">
                                  <mat-error class="error-flight-checkout"  *ngIf="passengerForm.hasError('required','adult_last_name'+traveller)">
                                    Please enter first name</mat-error>
                                  <mat-error class="error-flight-checkout"  *ngIf="passengerForm.hasError('pattern','adult_last_name'+traveller) && !passengerForm.hasError('required','adult_last_name'+traveller)">
                                    Please enter valid first name</mat-error>
                                  <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('minlength','adult_last_name'+traveller) && !passengerForm.hasError('pattern','adult_last_name'+traveller)">
                                    Please enter atleast 2 character</mat-error>
                                  <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('maxlength','adult_last_name'+traveller)">
                                    Please enter maximum 26 character</mat-error>

                                </mat-form-field>
                              </div>
                              <div class="col-xl-3 col-lg-3 col-md-6">
                                <div class="form-group">
                                  <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Date Of Birth</mat-label>
                                    <input matInput [inputMask]="dateInputMask"
                                      formControlName="adult_dob{{traveller}}" placeholder="Date Of Birth"
                                      name="dateOfBirth">

                                    <mat-error class="error-flight-checkout"  *ngIf="passengerForm.hasError('required','adult_dob'+traveller)">Please
                                      enter dob</mat-error>
                                    <mat-error class="error-flight-checkout"
                                      *ngIf="passengerForm.hasError('validateAdultAge','adult_dob'+traveller)">Adult
                                      age should be above 12 years.</mat-error>

                                      <mat-error class="error-flight-checkout"  *ngIf="passengerForm.get('adult_dob'+traveller).touched && passengerForm.get('adult_dob'+traveller).getError('younger')">
                                        Please Enter Valid DOB
                                      </mat-error>

                                  </mat-form-field>

                                </div>
                              </div>

                              <ng-container *ngIf="searchData.travel=='INT'">
                                <div class="row">
                                  <div class="col-xl-4 col-lg-4 col-md-6">
                                    <mat-form-field appearance="outline" class="w-100">
                                      <mat-label>Passport Number</mat-label>
                                      <input matInput formControlName="adult_passport_num{{traveller}}"
                                        placeholder="Passport Number" name="PassportNumber">
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('required','adult_passport_num'+traveller)">
                                        Please enter passport number</mat-error>

                                        <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('minlength','adult_passport_num'+traveller)">
                                        Please enter atleast 8 digits.</mat-error>

                                        <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('maxlength','adult_passport_num'+traveller)">
                                        Cannot exceed more than 12 characters.</mat-error>

                                        <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('pattern','adult_passport_num'+traveller)">
                                        This field must contain only letters</mat-error>

                                    </mat-form-field>

                                  </div>

                                  <div class="col-xl-4 col-lg-4 col-md-6">
                                    <mat-form-field appearance="outline" class="w-100">
                                      <mat-label>Passport Expiry Date</mat-label>
                                      <input matInput [inputMask]="dateInputMask"
                                        formControlName="adult_passport_expiry_date{{traveller}}"
                                        placeholder="Passport Expiry Date" name="PassportExpiryDate">
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('required','adult_passport_expiry_date'+traveller)">
                                        Please enter passport issue date</mat-error>
                                        <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('validatePassportExp','adult_passport_expiry_date'+traveller)">
                                        Please enter a valid expiry date</mat-error>
                                    </mat-form-field>
                                  </div>


                                  <div class="col-xl-4 col-lg-4 col-md-6">
                                    <mat-form-field appearance="outline" class="w-100">
                                      <mat-label>Passport Issue Date</mat-label>
                                      <input matInput [inputMask]="dateInputMask"
                                        formControlName="adult_passport_issue_date{{traveller}}"
                                        placeholder="Passport Issue Date" name="PassportIssueDate">
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('required','adult_passport_issue_date'+traveller)">
                                        Please enter passport issue date</mat-error>

                                    <mat-error class="error-flight-checkout"  *ngIf="passengerForm.hasError('validatePassportIssue','adult_passport_issue_date'+traveller) && !passengerForm.hasError('required','adult_passport_issue_date'+traveller)">
                                        Please enter a valid issued date.</mat-error>

                                    </mat-form-field>
                                  </div>

                                  <div class="row">
                                    <div class="col-xl-4 col-lg-4 col-md-6">
                                      <mat-form-field appearance="outline" class="w-100">
                                        <mat-label>Passport Issuing Country</mat-label>
                                        <mat-select formControlName="adult_passport_issuing_country{{traveller}}">
                                          <mat-option value=""> Select </mat-option>
                                          <mat-option *ngFor="let country of countryJson;"
                                            value="{{country.countryCode}}"> {{country.country}} </mat-option>
                                        </mat-select>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('required','adult_passport_issuing_country'+traveller)">
                                          Select passport issuing country</mat-error>
                                      </mat-form-field>
                                    </div>


                                    <div class="col-xl-4 col-lg-4 col-md-6">
                                      <mat-form-field appearance="outline" class="w-100">
                                        <mat-label>PAX Nationality</mat-label>
                                        <mat-select formControlName="adult_pax_nationality{{traveller}}">
                                          <mat-option value=""> Select </mat-option>
                                          <mat-option *ngFor="let country of countryJson;"
                                            value="{{country.countryCode}}"> {{country.country}} </mat-option>
                                        </mat-select>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('required','adult_pax_nationality'+traveller)">
                                          Select nationality</mat-error>
                                      </mat-form-field>
                                    </div>
                                  </div>

                                </div>
                              </ng-container>



                            </div>
                          </div>

                        </ng-container>
                      </div>
                    </div>
                    <div *ngIf="isMobile">
                      <div class=" modal coupon_mlite_popup" id="addTraveller_mlite" tabindex="-1"
                        aria-labelledby="addTraveller_mlite" aria-hidden="true" data-bs-backdrop="static"
                        data-bs-keyboard="false">
                        <div class="modal-dialog">
                          <div class="modal-content">
                            <div class="add_new_traveler pt-0" *ngIf="adultsArrayM.length>0 ">
                              <div *ngIf="adultsArrayM.length>0">
                                <ng-container
                                  *ngFor="let traveller of adultsArrayM; index as i; trackBy: trackByTraveller;let last = last;">
                                  <div class="modal-header">
                                    <h5 class="modal-title">Add New Adult</h5>
                                    <button type="button" class="btn-close"
                                      (click)="removeMobileAdult(traveller,-1)"></button>
                                  </div>
                                  <div class="modal-body pt-0">
                                    <div>
                                      <div>
                                        <div class="row">
                                          <div class="col-12">
                                            <mat-form-field appearance="outline" class="w-100">
                                              <mat-label>Title</mat-label>
                                              <mat-select formControlName="adult_title{{traveller}}">
                                                <mat-option value=""> Select </mat-option>
                                                <mat-option value="Mr"> Mr </mat-option>
                                                <mat-option value="Mrs">Mrs</mat-option>
                                                <mat-option value="Ms">Ms</mat-option>
                                              </mat-select>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('required','adult_title'+traveller)">
                                                Select title</mat-error>
                                            </mat-form-field>
                                          </div>

                                          <div class="col-12">
                                            <mat-form-field appearance="outline" class="w-100">
                                              <mat-label>First Name</mat-label>
                                              <input matInput placeholder="First Name" name="adult_first_name"
                                                formControlName="adult_first_name{{traveller}}">
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('required','adult_first_name'+traveller)">
                                                Please enter first name</mat-error>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('pattern','adult_first_name'+traveller)">
                                                Please enter valid first name</mat-error>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('minlength','adult_first_name'+traveller)">
                                                Please enter atleast 2 character</mat-error>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('maxlength','adult_first_name'+traveller)">
                                                Please enter maximum 26 character</mat-error>
                                            </mat-form-field>

                                          </div>
                                          <div class="col-xl-3 col-lg-3 col-md-6">
                                            <mat-form-field appearance="outline" class="w-100">
                                              <mat-label>Last Name</mat-label>
                                              <input matInput placeholder="Last Name"
                                                formControlName="adult_last_name{{traveller}}">
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('required','adult_last_name'+traveller)">
                                                Please enter first name</mat-error>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('pattern','adult_last_name'+traveller)">
                                                Please enter valid first name</mat-error>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('minlength','adult_last_name'+traveller)">
                                                Please enter atleast 2 character</mat-error>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('maxlength','adult_last_name'+traveller)">
                                                Please enter maximum 26 character</mat-error>

                                            </mat-form-field>
                                          </div>
                                          <div class="col-12">
                                            <div class="form-group">
                                              <mat-form-field appearance="outline" class="w-100">
                                                <mat-label>Date Of Birth</mat-label>
                                                <input matInput [inputMask]="dateInputMask"
                                                  formControlName="adult_dob{{traveller}}" placeholder="Date Of Birth"
                                                  name="dateOfBirth">

                                                <mat-error class="error-flight-checkout"
                                                  *ngIf="passengerForm.hasError('required','adult_dob'+traveller)">
                                                  Please enter dob</mat-error>
                                                <mat-error class="error-flight-checkout"
                                                  *ngIf="passengerForm.hasError('validateAdultAge','adult_dob'+traveller)">
                                                  Adult age should be above 12 years.</mat-error>

                                                  <mat-error class="error-flight-checkout" *ngIf="passengerForm.get('adult_dob'+traveller).touched && passengerForm.get('adult_dob'+traveller).getError('younger')">
                                                    Please Enter Valid DOB
                                                  </mat-error>

                                              </mat-form-field>

                                            </div>
                                          </div>




                                          <div> <button class="btn btn-primary w-100"
                                              (click)="validateMliteForm('adult',traveller)">Add</button> </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </ng-container>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div *ngIf="isMobile && adultsArrayM.length>0 ">
                      <table class="table  traveller_table">
                        <thead>
                          <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Date of Birth</th>
                            <th scope="col">Gender</th>
                            <th scope="col"></th>
                          </tr>
                        </thead>
                        <tbody>
                          <ng-container *ngFor="let traveller of adultsArrayM;">
                            <tr>
                              <td>{{passengerForm.value['adult_title' + traveller]}}
                                {{passengerForm.value['adult_first_name' + traveller]}}
                                {{passengerForm.value['adult_last_name' + traveller]}}</td>
                              <td>{{passengerForm.value['adult_dob' + traveller] | date:'dd-MM-YYYY'}}</td>
                              <td>
                                <div [ngSwitch]="passengerForm.value['adult_title' + traveller]">
                                  <ng-template [ngSwitchCase]="'Mr'">Male</ng-template>
                                  <ng-template [ngSwitchCase]="'Mrs'">Female</ng-template>
                                  <ng-template [ngSwitchCase]="'Ms'">Female</ng-template>
                                  <ng-template ngSwitchDefault></ng-template>
                                </div>
                              </td>
                              <td>
                                  <span><button type="button" class="btn-close"
                                      (click)="removeMobileAdult(traveller,-1)"></button></span>
                              </td>
                            </tr>
                          </ng-container>
                        </tbody>
                      </table>
                    </div>

                    <div class="add-traveller-btn" *ngIf="adultsArray.length < travelerDetails.adults">
                      <div class="d-none d-sm-block"><a href="javascript:void(0);" class="Addnew-Adult-btn"
                          (click)="manualAdultTraveller(1)">+ Add New Adult</a></div>
                      <div class="d-block d-sm-none"><a href="javascript:void(0);" class="Addnew-Adult-btn"
                          (click)="manualMobileAdultTraveller(1)">+ Add New Adult</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>-->
              <!--Adult Part ends-->

            

              <!--Infant starts-->
             <!-- <div class="traveller-addbox traveller-adults" *ngIf="maxInfants > 0">
                <div class="traveller-addbox-title">
                  <h6>Infant (Below 2 yrs+) <span class="opacity_05"><span
                        class="fw_7 opacity_1">{{infantArray.length}}/{{travelerDetails.infants}}</span> added</span>
                  </h6>
                </div>
                <div class="traveller-addbox-details traveller-adults-details">
                  <div class="traveller-adults-ul">
                    <ul class="add-search-ul" *ngIf="infantTravellerList">
                      <li class="custom-check-box" *ngFor="let passenger of infantTravellerList | slice:0:3; ">
                        <div class="custom-controls-stacked">
                          <label class="custom-control material-checkbox">
                            <input type="checkbox" class="material-control-input pass_checkBox"
                              id="travelPassenger_{{passenger.id}}" type="checkbox" name="travellerlist"
                              (change)="clickPassenger($event,passenger,passenger.id)">
                            <span class="material-control-indicator"></span>
                            <span class="description fs_14 text-black fw_7 mr-10"><span
                                *ngIf="passenger.title">{{passenger.title}}.</span> {{passenger.firstName}}
                              {{passenger.lastName}} </span>
                            <span class="description fw_5"> {{passenger.gender}}</span>
                          </label>
                        </div>

                        <div>
                          <div class="mt-3 hide" id="passengerBox_{{passenger.id}}">
                            <ng-container *ngIf="passenger &&  saveInfantTravellerId[passenger.id] > 0">
                              <input type="hidden" value="{{saveInfantTravellerId[passenger.id]}}"
                                id="passengerBoxId_{{passenger.id}}" />
                              <div>
                                <div class="row">
                                  <div class="col-xl-2 col-lg-2 col-md-6">
                                    <mat-form-field appearance="outline" class="w-100">
                                      <mat-label>Title</mat-label>
                                      <mat-select
                                        formControlName="infant_title{{saveInfantTravellerId[passenger.id]}}">
                                        <mat-option value=""> Select </mat-option>
                                        <mat-option value="Mstr"> Mstr </mat-option>
                                        <mat-option value="Miss">Miss</mat-option>
                                      </mat-select>

                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('required','infant_title'+saveInfantTravellerId[passenger.id])">
                                        Select title</mat-error>

                                    </mat-form-field>
                                  </div>

                                  <div class="col-xl-4 col-lg-4 col-md-6">
                                    <mat-form-field appearance="outline" class="w-100">
                                      <mat-label>First Name</mat-label>
                                      <input matInput placeholder="First Name" name="infant_first_name"
                                        formControlName="infant_first_name{{saveInfantTravellerId[passenger.id]}}">
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('required','infant_first_name'+saveInfantTravellerId[passenger.id])">
                                        Please enter first name</mat-error>
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('pattern','infant_first_name'+saveInfantTravellerId[passenger.id])">
                                        Please enter valid first name</mat-error>
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('minlength','infant_first_name'+saveInfantTravellerId[passenger.id])">
                                        Please enter atleast 2 character</mat-error>
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('maxlength','infant_first_name'+saveInfantTravellerId[passenger.id])">
                                        Please enter maximum 26 character</mat-error>
                                    </mat-form-field>
                                  </div>
                                  <div class="col-xl-3 col-lg-3 col-md-6">
                                    <mat-form-field appearance="outline" class="w-100">
                                      <mat-label>Last Name</mat-label>
                                      <input matInput placeholder="Last Name"
                                        formControlName="infant_last_name{{saveInfantTravellerId[passenger.id]}}">
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('required','infant_last_name'+saveInfantTravellerId[passenger.id])">
                                        Please enter first name</mat-error>
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('pattern','infant_last_name'+saveInfantTravellerId[passenger.id])">
                                        Please enter valid first name</mat-error>
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('minlength','infant_last_name'+saveInfantTravellerId[passenger.id])">
                                        Please enter atleast 2 character</mat-error>
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('maxlength','infant_last_name'+saveInfantTravellerId[passenger.id])">
                                        Please enter maximum 26 character</mat-error>
                                    </mat-form-field>
                                  </div>
                                  <div class="col-xl-3 col-lg-3 col-md-6">
                                    <div class="form-group">
                                      <mat-form-field appearance="outline" class="w-100">
                                        <mat-label>Date Of Birth</mat-label>
                                        <input matInput [inputMask]="dateInputMask"
                                          formControlName="infant_dob{{saveInfantTravellerId[passenger.id]}}"
                                          placeholder="Date Of Birth" name="dateOfBirth">

                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('required','infant_dob'+saveInfantTravellerId[passenger.id])">
                                          Please enter dob</mat-error>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('validateInfantAge','infant_dob'+saveChildTravellerId[passenger.id])">
                                          Infant age should be between 0 - 2 years.</mat-error>
                                      </mat-form-field>
                                    </div>
                                  </div>

                                  <ng-container *ngIf="searchData.travel=='INT'">
                                    <div class="row">
                                      <div class="col-xl-4 col-lg-4 col-md-6">
                                        <mat-form-field appearance="outline" class="w-100">
                                          <mat-label>Passport Number</mat-label>
                                          <input matInput
                                            formControlName="infant_passport_num{{saveInfantTravellerId[passenger.id]}}"
                                            placeholder="Passport Number" name="PassportNumber">
                                          <mat-error class="error-flight-checkout"
                                            *ngIf="passengerForm.hasError('required','infant_passport_num'+saveInfantTravellerId[passenger.id])">
                                            Please enter passport number</mat-error>

                                        <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('minlength','infant_passport_num'+saveInfantTravellerId[passenger.id])">
                                        Please enter atleast 8 digits.</mat-error>

                                        <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('maxlength','infant_passport_num'+saveInfantTravellerId[passenger.id])">
                                        Cannot exceed more than 12 characters.</mat-error>

                                        <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('pattern','infant_passport_num'+saveInfantTravellerId[passenger.id])">
                                        This field must contain only letters</mat-error>

                                        </mat-form-field>

                                      </div>

                                      <div class="col-xl-4 col-lg-4 col-md-6">
                                        <mat-form-field appearance="outline" class="w-100">
                                          <mat-label>Passport Expiry Date</mat-label>
                                          <input matInput [inputMask]="dateInputMask"
                                            formControlName="infant_passport_expiry_date{{saveInfantTravellerId[passenger.id]}}"
                                            placeholder="Passport Expiry Date" name="PassportExpiryDate">
                                          <mat-error class="error-flight-checkout"
                                            *ngIf="passengerForm.hasError('required','infant_passport_expiry_date'+saveInfantTravellerId[passenger.id])">
                                            Please enter passport issue date</mat-error>
                                            <mat-error class="error-flight-checkout"
*ngIf="passengerForm.hasError('validatePassportExp','infant_passport_expiry_date'+saveInfantTravellerId[passenger.id])">
Please enter a valid expiry date</mat-error>
                                        </mat-form-field>
                                      </div>


                                      <div class="col-xl-4 col-lg-4 col-md-6">
                                        <mat-form-field appearance="outline" class="w-100">
                                          <mat-label>Passport Issue Date</mat-label>
                                          <input matInput [inputMask]="dateInputMask"
                                            formControlName="infant_passport_issue_date{{saveInfantTravellerId[passenger.id]}}"
                                            placeholder="Passport Issue Date" name="PassportIssueDate">
                                          <mat-error class="error-flight-checkout"
                                            *ngIf="passengerForm.hasError('required','infant_passport_issue_date'+saveInfantTravellerId[passenger.id])">
                                            Please enter passport issue date</mat-error>
                                            <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('validatePassportIssue','infant_passport_issue_date'+saveInfantTravellerId[passenger.id])">
                                              Please enter a valid issued date.</mat-error>
                                        </mat-form-field>
                                      </div>

                                      <div class="row">
                                        <div class="col-xl-4 col-lg-4 col-md-6">
                                          <mat-form-field appearance="outline" class="w-100">
                                            <mat-label>Passport Issuing Country</mat-label>
                                            <mat-select
                                              formControlName="infant_passport_issuing_country{{saveInfantTravellerId[passenger.id]}}">
                                              <mat-option value=""> Select </mat-option>
                                              <mat-option *ngFor="let country of countryJson;"
                                                value="{{country.countryCode}}"> {{country.country}} </mat-option>
                                            </mat-select>
                                            <mat-error class="error-flight-checkout"
                                              *ngIf="passengerForm.hasError('required','infant_passport_issuing_country'+saveInfantTravellerId[passenger.id])">
                                              Select passport issuing country</mat-error>
                                          </mat-form-field>
                                        </div>


                                        <div class="col-xl-4 col-lg-4 col-md-6">
                                          <mat-form-field appearance="outline" class="w-100">
                                            <mat-label>PAX Nationality</mat-label>
                                            <mat-select
                                              formControlName="infant_pax_nationality{{saveInfantTravellerId[passenger.id]}}">
                                              <mat-option value=""> Select </mat-option>
                                              <mat-option *ngFor="let country of countryJson;"
                                                value="{{country.countryCode}}"> {{country.country}} </mat-option>
                                            </mat-select>
                                            <mat-error class="error-flight-checkout"
                                              *ngIf="passengerForm.hasError('required','infant_pax_nationality'+saveInfantTravellerId[passenger.id])">
                                              Select nationality</mat-error>
                                          </mat-form-field>
                                        </div>
                                      </div>

                                    </div>
                                  </ng-container>

                                </div>
                              </div>

                            </ng-container>
                          </div>
                        </div>

                      </li>
                      <ng-container *ngIf="infantTravellerList && infantTravellerList.length >3 && isInfantExpanded ">
                        <li class="custom-check-box" *ngFor="let passenger of infantTravellerList | slice:3; ">
                          <div class="custom-controls-stacked">
                            <label class="custom-control material-checkbox">
                              <input type="checkbox" class="material-control-input pass_checkBox"
                                id="travelPassenger_{{passenger.id}}" type="checkbox" name="travellerlist"
                                (change)="clickPassenger($event,passenger,passenger.id)">
                              <span class="material-control-indicator"></span>
                              <span class="description fs_14 text-black fw_7 mr-10"><span
                                  *ngIf="passenger.title">{{passenger.title}}.</span> {{passenger.firstName}}
                                {{passenger.lastName}} </span>
                              <span class="description fw_5"> {{passenger.gender}}</span>
                            </label>
                          </div>



                          <div>
                            <div class="mt-3 hide" id="passengerBox_{{passenger.id}}">
                              <ng-container
                                *ngIf="passenger && passenger.age > 12 && saveInfantTravellerId[passenger.id] > 0">
                                <input type="hidden" value="{{saveInfantTravellerId[passenger.id]}}"
                                  id="passengerBoxId_{{passenger.id}}" />
                                <div>
                                  <div class="row">
                                    <div class="col-xl-2 col-lg-2  col-md-6">
                                      <mat-form-field appearance="outline" class="w-100">
                                        <mat-label>Title</mat-label>
                                        <mat-select
                                          formControlName="infant_title{{saveInfantTravellerId[passenger.id]}}">
                                          <mat-option value=""> Select </mat-option>
                                          <mat-option value="Mstr"> Mstr </mat-option>
                                          <mat-option value="Miss">Miss</mat-option>
                                        </mat-select>

                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('required','infant_title'+saveInfantTravellerId[passenger.id])">
                                          Select title</mat-error>

                                      </mat-form-field>
                                    </div>

                                    <div class="col-xl-4 col-lg-4 col-md-6">
                                      <mat-form-field appearance="outline" class="w-100">
                                        <mat-label>First Name</mat-label>
                                        <input matInput placeholder="First Name" name="infant_first_name"
                                          formControlName="infant_first_name{{saveInfantTravellerId[passenger.id]}}">
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('required','infant_first_name'+saveInfantTravellerId[passenger.id])">
                                          Please enter first name</mat-error>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('pattern','infant_first_name'+saveInfantTravellerId[passenger.id])">
                                          Please enter valid first name</mat-error>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('minlength','infant_first_name'+saveInfantTravellerId[passenger.id])">
                                          Please enter atleast 2 character</mat-error>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('maxlength','infant_first_name'+saveInfantTravellerId[passenger.id])">
                                          Please enter maximum 26 character</mat-error>
                                      </mat-form-field>
                                    </div>
                                    <div class="col-xl-3 col-lg-3 col-md-6">
                                      <mat-form-field appearance="outline" class="w-100">
                                        <mat-label>Last Name</mat-label>
                                        <input matInput placeholder="Last Name"
                                          formControlName="infant_last_name{{saveInfantTravellerId[passenger.id]}}">
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('required','infant_last_name'+saveInfantTravellerId[passenger.id])">
                                          Please enter first name</mat-error>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('pattern','infant_last_name'+saveInfantTravellerId[passenger.id])">
                                          Please enter valid first name</mat-error>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('minlength','infant_last_name'+saveInfantTravellerId[passenger.id])">
                                          Please enter atleast 2 character</mat-error>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('maxlength','infant_last_name'+saveInfantTravellerId[passenger.id])">
                                          Please enter maximum 26 character</mat-error>
                                      </mat-form-field>
                                    </div>
                                    <div class="col-xl-3 col-lg-3 col-md-6">
                                      <div class="form-group">
                                        <mat-form-field appearance="outline" class="w-100">
                                          <mat-label>Date Of Birth</mat-label>
                                          <input matInput [inputMask]="dateInputMask"
                                            formControlName="infant_dob{{saveInfantTravellerId[passenger.id]}}"
                                            placeholder="Date Of Birth" name="dateOfBirth">

                                          <mat-error class="error-flight-checkout"
                                            *ngIf="passengerForm.hasError('required','infant_dob'+saveInfantTravellerId[passenger.id])">
                                            Please enter dob</mat-error>
                                          <mat-error class="error-flight-checkout"
                                            *ngIf="passengerForm.hasError('validateInfantAge','infant_dob'+saveChildTravellerId[passenger.id])">
                                            Infant age should be between 0 - 2 years.</mat-error>
                                        </mat-form-field>
                                      </div>
                                    </div>

                                    <ng-container *ngIf="searchData.travel=='INT'">
                                      <div class="row">
                                        <div class="col-xl-4 col-lg-4 col-md-6">
                                          <mat-form-field appearance="outline" class="w-100">
                                            <mat-label>Passport Number</mat-label>
                                            <input matInput
                                              formControlName="infant_passport_num{{saveInfantTravellerId[passenger.id]}}"
                                              placeholder="Passport Number" name="PassportNumber">
                                            <mat-error class="error-flight-checkout"
                                              *ngIf="passengerForm.hasError('required','infant_passport_num'+saveInfantTravellerId[passenger.id])">
                                              Please enter passport number</mat-error>

                                              <mat-error class="error-flight-checkout"
                                              *ngIf="passengerForm.hasError('minlength','infant_passport_num'+saveInfantTravellerId[passenger.id])">
                                              Please enter atleast 8 digits.</mat-error>

                                              <mat-error class="error-flight-checkout"
                                              *ngIf="passengerForm.hasError('maxlength','infant_passport_num'+saveInfantTravellerId[passenger.id])">
                                              Cannot exceed more than 12 characters.</mat-error>

                                              <mat-error class="error-flight-checkout"
                                              *ngIf="passengerForm.hasError('pattern','infant_passport_num'+saveInfantTravellerId[passenger.id])">
                                              This field must contain only letters</mat-error>
                                          </mat-form-field>

                                        </div>

                                        <div class="col-xl-4 col-lg-4 col-md-6">
                                          <mat-form-field appearance="outline" class="w-100">
                                            <mat-label>Passport Expiry Date</mat-label>
                                            <input matInput [inputMask]="dateInputMask"
                                              formControlName="infant_passport_expiry_date{{saveInfantTravellerId[passenger.id]}}"
                                              placeholder="Passport Expiry Date" name="PassportExpiryDate">
                                            <mat-error class="error-flight-checkout"
                                              *ngIf="passengerForm.hasError('required','infant_passport_expiry_date'+saveInfantTravellerId[passenger.id])">
                                              Please enter passport issue date</mat-error>
                                              <mat-error class="error-flight-checkout"
*ngIf="passengerForm.hasError('validatePassportExp','infant_passport_expiry_date'+saveInfantTravellerId[passenger.id])">
Please enter a valid expiry date</mat-error>
                                          </mat-form-field>
                                        </div>


                                        <div class="col-xl-4 col-lg-4 col-md-6">
                                          <mat-form-field appearance="outline" class="w-100">
                                            <mat-label>Passport Issue Date</mat-label>
                                            <input matInput [inputMask]="dateInputMask"
                                              formControlName="infant_passport_issue_date{{saveInfantTravellerId[passenger.id]}}"
                                              placeholder="Passport Issue Date" name="PassportIssueDate">
                                            <mat-error class="error-flight-checkout"
                                              *ngIf="passengerForm.hasError('required','infant_passport_issue_date'+saveInfantTravellerId[passenger.id])">
                                              Please enter passport issue date</mat-error>
                                              <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('validatePassportIssue','infant_passport_issue_date'+saveInfantTravellerId[passenger.id])">
                                                Please enter a valid issued date.</mat-error>
                                          </mat-form-field>
                                        </div>

                                        <div class="row">
                                          <div class="col-xl-4 col-lg-4 col-md-6">
                                            <mat-form-field appearance="outline" class="w-100">
                                              <mat-label>Passport Issuing Country</mat-label>
                                              <mat-select
                                                formControlName="infant_passport_issuing_country{{saveInfantTravellerId[passenger.id]}}">
                                                <mat-option value=""> Select </mat-option>
                                                <mat-option *ngFor="let country of countryJson;"
                                                  value="{{country.countryCode}}"> {{country.country}} </mat-option>
                                              </mat-select>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('required','infant_passport_issuing_country'+saveInfantTravellerId[passenger.id])">
                                                Select passport issuing country</mat-error>
                                            </mat-form-field>
                                          </div>


                                          <div class="col-xl-4 col-lg-4 col-md-6">
                                            <mat-form-field appearance="outline" class="w-100">
                                              <mat-label>PAX Nationality</mat-label>
                                              <mat-select
                                                formControlName="infant_pax_nationality{{saveInfantTravellerId[passenger.id]}}">
                                                <mat-option value=""> Select </mat-option>
                                                <mat-option *ngFor="let country of countryJson;"
                                                  value="{{country.countryCode}}"> {{country.country}} </mat-option>
                                              </mat-select>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('required','infant_pax_nationality'+saveInfantTravellerId[passenger.id])">
                                                Select nationality</mat-error>
                                            </mat-form-field>
                                          </div>
                                        </div>

                                      </div>
                                    </ng-container>

                                  </div>
                                </div>

                              </ng-container>
                            </div>

                          </div>

                        </li>
                      </ng-container>
                    </ul>
                    <p class="view_more_btn othertraveller"
                      *ngIf="!isInfantExpanded && infantTravellerList && infantTravellerList.length >3 "><a
                        href="javascript:;" (click)="expandItemsInfant()">View More</a></p>

                    <div class="add_new_traveler p-20" *ngIf="!isMobile && infantArrayM.length>0 ">
                      <div *ngIf="infantArrayM.length>0">

                        <ng-container
                          *ngFor="let traveller of infantArrayM; index as i; trackBy: trackByTraveller;let last = last;">
                          <p class="my-2">Infant {{i+1}}
                            <span class="remove-traveller float-right text-right" (click)="removeInfant(traveller,-1)"
                              *ngIf="infantArray.length > 0"><i class="material-icons"
                                style="color: #007bff;position: relative;top: -7px;">close</i> </span>
                          </p>

                          <div>
                            <div class="row">
                              <div class="col-xl-2 col-lg-2 col-md-6">
                                <mat-form-field appearance="outline" class="w-100">
                                  <mat-label>Title</mat-label>
                                  <mat-select formControlName="infant_title{{traveller}}">
                                    <mat-option value=""> Select </mat-option>
                                    <mat-option value="Mstr"> Mstr </mat-option>
                                    <mat-option value="Miss">Miss</mat-option>
                                  </mat-select>
                                  <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('required','infant_title'+traveller)">
                                    Select title</mat-error>
                                </mat-form-field>
                              </div>

                              <div class="col-xl-4 col-lg-4 col-md-6">
                                <mat-form-field appearance="outline" class="w-100">
                                  <mat-label>First Name</mat-label>
                                  <input matInput placeholder="First Name" name="infant_first_name"
                                    formControlName="infant_first_name{{traveller}}">
                                  <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('required','infant_first_name'+traveller)">
                                    Please enter first name</mat-error>
                                  <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('pattern','infant_first_name'+traveller)">
                                    Please enter valid first name</mat-error>
                                  <mat-error class="error-flight-checkout"
                                    *ngIf="passengerForm.hasError('minlength','infant_first_name'+traveller)">Please
                                    enter atleast 2 character</mat-error>
                                  <mat-error class="error-flight-checkout"
                                    *ngIf="passengerForm.hasError('maxlength','infant_first_name'+traveller)">Please
                                    enter maximum 26 character</mat-error>
                                </mat-form-field>

                              </div>
                              <div class="col-xl-3 col-lg-3 col-md-6">
                                <mat-form-field appearance="outline" class="w-100">
                                  <mat-label>Last Name</mat-label>
                                  <input matInput placeholder="Last Name"
                                    formControlName="infant_last_name{{traveller}}">
                                  <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('required','infant_last_name'+traveller)">
                                    Please enter first name</mat-error>
                                  <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('pattern','infant_last_name'+traveller)">
                                    Please enter valid first name</mat-error>
                                  <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('minlength','infant_last_name'+traveller)">
                                    Please enter atleast 2 character</mat-error>
                                  <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('maxlength','infant_last_name'+traveller)">
                                    Please enter maximum 26 character</mat-error>

                                </mat-form-field>
                              </div>
                              <div class="col-xl-3 col-lg-3 col-md-6">
                                <div class="form-group">
                                  <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Date Of Birth</mat-label>
                                    <input matInput [inputMask]="dateInputMask"
                                      formControlName="infant_dob{{traveller}}" placeholder="Date Of Birth"
                                      name="dateOfBirth">

                                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('required','infant_dob'+traveller)">
                                      Please enter dob</mat-error>
                                    <mat-error class="error-flight-checkout"
                                      *ngIf="passengerForm.hasError('validateInfantAge','infant_dob'+traveller)">
                                      Infant age should be between 0 - 2 years.</mat-error>
                                  </mat-form-field>
                                </div>
                              </div>
                              <ng-container *ngIf="searchData.travel=='INT'">
                                <div class="row">
                                  <div class="col-xl-4 col-lg-4 col-md-6">
                                    <mat-form-field appearance="outline" class="w-100">
                                      <mat-label>Passport Number</mat-label>
                                      <input matInput formControlName="infant_passport_num{{traveller}}"
                                        placeholder="Passport Number" name="PassportNumber">
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('required','infant_passport_num'+traveller)">
                                        Please enter passport number</mat-error>

                                    <mat-error class="error-flight-checkout"
                                    *ngIf="passengerForm.hasError('minlength','infant_passport_num'+traveller)">
                                    Please enter atleast 8 digits.</mat-error>

                                    <mat-error class="error-flight-checkout"
                                    *ngIf="passengerForm.hasError('maxlength','infant_passport_num'+traveller)">
                                    Cannot exceed more than 12 characters.</mat-error>

                                    <mat-error class="error-flight-checkout"
                                    *ngIf="passengerForm.hasError('pattern','infant_passport_num'+traveller)">
                                    This field must contain only letters</mat-error>
                                    </mat-form-field>

                                  </div>

                                  <div class="col-xl-4 col-lg-4 col-md-6">
                                    <mat-form-field appearance="outline" class="w-100">
                                      <mat-label>Passport Expiry Date</mat-label>
                                      <input matInput [inputMask]="dateInputMask"
                                        formControlName="infant_passport_expiry_date{{traveller}}"
                                        placeholder="Passport Expiry Date" name="PassportExpiryDate">
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('required','infant_passport_expiry_date'+traveller)">
                                        Please enter passport issue date</mat-error>
                                        <mat-error class="error-flight-checkout"
*ngIf="passengerForm.hasError('validatePassportExp','infant_passport_expiry_date'+traveller)">
Please enter a valid expiry date</mat-error>
                                    </mat-form-field>
                                  </div>


                                  <div class="col-xl-4 col-lg-4 col-md-6">
                                    <mat-form-field appearance="outline" class="w-100">
                                      <mat-label>Passport Issue Date</mat-label>
                                      <input matInput [inputMask]="dateInputMask"
                                        formControlName="infant_passport_issue_date{{traveller}}"
                                        placeholder="Passport Issue Date" name="PassportIssueDate">
                                      <mat-error class="error-flight-checkout"
                                        *ngIf="passengerForm.hasError('required','infant_passport_issue_date'+traveller)">
                                        Please enter passport issue date</mat-error>
                                        <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('validatePassportIssue','infant_passport_issue_date'+traveller)">
                                          Please enter a valid issued date.</mat-error>
                                    </mat-form-field>
                                  </div>

                                  <div class="row">
                                    <div class="col-xl-4 col-lg-4 col-md-6">
                                      <mat-form-field appearance="outline" class="w-100">
                                        <mat-label>Passport Issuing Country</mat-label>
                                        <mat-select formControlName="infant_passport_issuing_country{{traveller}}">
                                          <mat-option value=""> Select </mat-option>
                                          <mat-option *ngFor="let country of countryJson;"
                                            value="{{country.countryCode}}"> {{country.country}} </mat-option>
                                        </mat-select>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('required','infant_passport_issuing_country'+traveller)">
                                          Select passport issuing country</mat-error>
                                      </mat-form-field>
                                    </div>


                                    <div class="col-xl-4 col-lg-4 col-md-6">
                                      <mat-form-field appearance="outline" class="w-100">
                                        <mat-label>PAX Nationality</mat-label>
                                        <mat-select formControlName="infant_pax_nationality{{traveller}}">
                                          <mat-option value=""> Select </mat-option>
                                          <mat-option *ngFor="let country of countryJson;"
                                            value="{{country.countryCode}}"> {{country.country}} </mat-option>
                                        </mat-select>
                                        <mat-error class="error-flight-checkout"
                                          *ngIf="passengerForm.hasError('required','infant_pax_nationality'+traveller)">
                                          Select nationality</mat-error>
                                      </mat-form-field>
                                    </div>
                                  </div>

                                </div>
                              </ng-container>


                            </div>
                          </div>

                        </ng-container>
                      </div>
                    </div>

                    <div *ngIf="isMobile">
                      <div class=" modal coupon_mlite_popup" id="infantTraveller_mlite" tabindex="-1"
                        aria-labelledby="addTraveller_mlite" aria-hidden="true" data-bs-backdrop="static"
                        data-bs-keyboard="false">
                        <div class="modal-dialog">
                          <div class="modal-content">
                            <div class="add_new_traveler p-20" *ngIf="infantArrayM.length>0 ">
                              <div *ngIf="infantArrayM.length>0">
                                <ng-container *ngFor="let traveller of infantArrayM; index as i;">
                                  <div class="modal-header pb-0">
                                    <h5 class="modal-title">Add New Infant</h5>
                                    <button type="button" class="btn-close"
                                      (click)="removeMobileInfant(traveller,-1)"></button>
                                  </div>
                                  <div class="modal-body pt-0">
                                    <div>
                                      <div>
                                        <div class="row">
                                          <div class="col-12">
                                            <mat-form-field appearance="outline" class="w-100">
                                              <mat-label>Title</mat-label>
                                              <mat-select formControlName="infant_title{{traveller}}">
                                                <mat-option value=""> Select </mat-option>
                                                <mat-option value="Mstr"> Mstr </mat-option>
                                                <mat-option value="Miss">Miss</mat-option>
                                              </mat-select>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('required','infant_title'+traveller)">
                                                Select title</mat-error>
                                            </mat-form-field>
                                          </div>

                                          <div class="col-12">
                                            <mat-form-field appearance="outline" class="w-100">
                                              <mat-label>First Name</mat-label>
                                              <input matInput placeholder="First Name" name="infant_first_name"
                                                formControlName="infant_first_name{{traveller}}">
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('required','infant_first_name'+traveller)">
                                                Please enter first name</mat-error>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('pattern','infant_first_name'+traveller)">
                                                Please enter valid first name</mat-error>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('minlength','infant_first_name'+traveller)">
                                                Please enter atleast 2 character</mat-error>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('maxlength','infant_first_name'+traveller)">
                                                Please enter maximum 26 character</mat-error>
                                            </mat-form-field>

                                          </div>
                                          <div class="col-xl-3 col-lg-3 col-md-6">
                                            <mat-form-field appearance="outline" class="w-100">
                                              <mat-label>Last Name</mat-label>
                                              <input matInput placeholder="Last Name"
                                                formControlName="infant_last_name{{traveller}}">
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('required','infant_last_name'+traveller)">
                                                Please enter first name</mat-error>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('pattern','infant_last_name'+traveller)">
                                                Please enter valid first name</mat-error>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('minlength','infant_last_name'+traveller)">
                                                Please enter atleast 2 character</mat-error>
                                              <mat-error class="error-flight-checkout"
                                                *ngIf="passengerForm.hasError('maxlength','infant_last_name'+traveller)">
                                                Please enter maximum 26 character</mat-error>

                                            </mat-form-field>
                                          </div>
                                          <div class="col-12">
                                            <div class="form-group">
                                              <mat-form-field appearance="outline" class="w-100">
                                                <mat-label>Date Of Birth</mat-label>
                                                <input matInput [inputMask]="dateInputMask"
                                                  formControlName="infant_dob{{traveller}}"
                                                  placeholder="Date Of Birth" name="dateOfBirth">

                                                <mat-error class="error-flight-checkout"
                                                  *ngIf="passengerForm.hasError('required','infant_dob'+traveller)">
                                                  Please enter dob</mat-error>
                                                <mat-error class="error-flight-checkout"
                                                  *ngIf="passengerForm.hasError('validateInfantAge','infant_dob'+traveller)">
                                                  Infant age should be between 0 - 2 years.</mat-error>
                                              </mat-form-field>

                                            </div>
                                          </div>
                                          <ng-container *ngIf="searchData.travel=='INT'">
                                            <div class="row">
                                              <div class="col-xl-4 col-lg-4 col-md-6">
                                                <mat-form-field appearance="outline" class="w-100">
                                                  <mat-label>Passport Number</mat-label>
                                                  <input matInput formControlName="infant_passport_num{{traveller}}"
                                                    placeholder="Passport Number" name="PassportNumber">
                                                  <mat-error class="error-flight-checkout"
                                                    *ngIf="passengerForm.hasError('required','infant_passport_num'+traveller)">
                                                    Please enter passport number</mat-error>

                                      <mat-error class="error-flight-checkout"
                                      *ngIf="passengerForm.hasError('minlength','infant_passport_num'+traveller)">
                                      Please enter atleast 8 digits.</mat-error>

                                      <mat-error class="error-flight-checkout"
                                      *ngIf="passengerForm.hasError('maxlength','infant_passport_num'+traveller)">
                                      Cannot exceed more than 12 characters.</mat-error>

                                      <mat-error class="error-flight-checkout"
                                      *ngIf="passengerForm.hasError('pattern','infant_passport_num'+traveller)">
                                      This field must contain only letters</mat-error>
                                                </mat-form-field>

                                              </div>

                                              <div class="col-xl-4 col-lg-4 col-md-6">
                                                <mat-form-field appearance="outline" class="w-100">
                                                  <mat-label>Passport Expiry Date</mat-label>
                                                  <input matInput [inputMask]="dateInputMask"
                                                    formControlName="infant_passport_expiry_date{{traveller}}"
                                                    placeholder="Passport Expiry Date" name="PassportExpiryDate">
                                                  <mat-error class="error-flight-checkout"
                                                    *ngIf="passengerForm.hasError('required','infant_passport_expiry_date'+traveller)">
                                                    Please enter passport issue date</mat-error>
                                                    <mat-error class="error-flight-checkout"
*ngIf="passengerForm.hasError('validatePassportExp','infant_passport_expiry_date'+traveller)">
Please enter a valid expiry date</mat-error>
                                                </mat-form-field>
                                              </div>


                                              <div class="col-xl-4 col-lg-4 col-md-6">
                                                <mat-form-field appearance="outline" class="w-100">
                                                  <mat-label>Passport Issue Date</mat-label>
                                                  <input matInput [inputMask]="dateInputMask"
                                                    formControlName="infant_passport_issue_date{{traveller}}"
                                                    placeholder="Passport Issue Date" name="PassportIssueDate">
                                                  <mat-error class="error-flight-checkout"
                                                    *ngIf="passengerForm.hasError('required','infant_passport_issue_date'+traveller)">
                                                    Please enter passport issue date</mat-error>
                                                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('validatePassportIssue','infant_passport_issue_date'+traveller)">
                                                      Please enter a valid issued date.</mat-error>
                                                </mat-form-field>
                                              </div>

                                              <div class="row">
                                                <div class="col-xl-4 col-lg-4 col-md-6">
                                                  <mat-form-field appearance="outline" class="w-100">
                                                    <mat-label>Passport Issuing Country</mat-label>
                                                    <mat-select
                                                      formControlName="infant_passport_issuing_country{{traveller}}">
                                                      <mat-option value=""> Select </mat-option>
                                                      <mat-option *ngFor="let country of countryJson;"
                                                        value="{{country.countryCode}}"> {{country.country}}
                                                      </mat-option>
                                                    </mat-select>
                                                    <mat-error class="error-flight-checkout"
                                                      *ngIf="passengerForm.hasError('required','infant_passport_issuing_country'+traveller)">
                                                      Select passport issuing country</mat-error>
                                                  </mat-form-field>
                                                </div>


                                                <div class="col-xl-4 col-lg-4 col-md-6">
                                                  <mat-form-field appearance="outline" class="w-100">
                                                    <mat-label>PAX Nationality</mat-label>
                                                    <mat-select formControlName="infant_pax_nationality{{traveller}}">
                                                      <mat-option value=""> Select </mat-option>
                                                      <mat-option *ngFor="let country of countryJson;"
                                                        value="{{country.countryCode}}"> {{country.country}}
                                                      </mat-option>
                                                    </mat-select>
                                                    <mat-error class="error-flight-checkout"
                                                      *ngIf="passengerForm.hasError('required','infant_pax_nationality'+traveller)">
                                                      Select nationality</mat-error>
                                                  </mat-form-field>
                                                </div>
                                              </div>

                                            </div>
                                          </ng-container>

                                          <div> <button class="btn btn-primary w-100"
                                              (click)="validateMliteForm('infant',traveller)">Add</button> </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </ng-container>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div *ngIf="isMobile && infantArrayM.length>0 ">
                      <table class="table  traveller_table">
                        <thead>
                          <tr>
                            <th scope="col" >Name</th>
                            <th scope="col">Date of Birth</th>
                            <th scope="col">Gender</th>
                            <th scope="col"></th>
                          </tr>
                        </thead>
                        <tbody>
                          <ng-container *ngFor="let traveller of infantArrayM;">
                            <tr>
                              <td>{{passengerForm.value['infant_title' + traveller]}}
                                {{passengerForm.value['infant_first_name' + traveller]}}
                                {{passengerForm.value['infant_last_name' + traveller]}}</td>
                              <td>{{passengerForm.value['infant_dob' + traveller] | date:'dd-MM-YYYY'}}</td>
                              <td>
                                <div [ngSwitch]="passengerForm.value['infant_title' + traveller]">
                                  <ng-template [ngSwitchCase]="'Mstr'">Mstr</ng-template>
                                  <ng-template [ngSwitchCase]="'Miss'">Miss</ng-template>
                                  <ng-template ngSwitchDefault></ng-template>
                                </div>
                              </td>
                              <td><span><button type="button" class="btn-close"
                                  (click)="removeMobileInfant(traveller,-1)"></button></span></td>
                            </tr>
                          </ng-container>
                        </tbody>
                      </table>
                    </div>

                    <div class="add-traveller-btn" *ngIf="infantArray.length < travelerDetails.infants">
                      <div class="d-none d-sm-block">
                        <a href="javascript:void(0);" class="Addnew-Adult-btn" (click)="manualInfantTraveller(1)">+
                          Add New Infant</a> </div>
                      <div class="d-block d-sm-none">
                        <a href="javascript:void(0);" class="Addnew-Adult-btn "
                          (click)="manualMobileInfantTraveller()">+ Add New Infant</a>
                      </div>

                    </div>

                  </div>
                </div>
              </div>-->
              <!--Infant Part ends-->


<!--

              <div class="othertraveller">
                <ul class="add-search-ul d-block">
                  <li class="custom-check-box">
                    <div class="custom-controls-stacked">
                      <label class="custom-control material-checkbox">
                        <input type="checkbox" class="material-control-input" formControlName="saveTraveller"
                          name="saveTraveller" id="saveTraveller" [checked]="checked">
                        <span class="material-control-indicator"></span>
                        <span class="description fs_12 text-black">Add these travellers to
                          Travellers list. </span>
                        <span class="description fs_12">You won't have to fill traveller info on
                          your next visit</span>
                      </label>
                    </div>
                  </li>
                </ul>
              </div>
            </div>

            <div class="booking-inner-box gst-number-box">
              <h6>Contact Details</h6>
              <p>Your booking information will be sent here</p>

              <div class="row gy-4">
                <div class="col-xl-6 col-lg-6 col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Email</mat-label>
                    <input matInput placeholder="_@_._" type="text" formControlName="passengerEmail"
                      name="passengerEmail" id="passengerEmail" [inputMask]="emailInputMask">
                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('required','passengerEmail')">Please enter email address
                    </mat-error>
                  </mat-form-field>

                </div>
                <div class="col-xl-6 col-lg-6 col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Mobile Number</mat-label>

                    <input matInput placeholder="Mobile Number" formControlName="passengerMobile"
                      name="passengerMobile" id="passengerMobile" (keypress)="AvoidSpace($event)">
                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('required','passengerMobile')">>Please enter mobile
                      number.</mat-error>
                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('minlength','passengerMobile')">>Please enter min 10
                      Digits.</mat-error>
                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('pattern','passengerMobile')">>Please enter a valid ten
                      digits mobile number.</mat-error>
                  </mat-form-field>
                </div>
              </div>

              <div class="contact-whatsapp">
                <div class="contact-whatsapp-info me-2">
                  <span>Send my booking information through</span>
                  <img src="{{cdnUrl}}/images/icons/whatsapp.png" class="ms-2" alt="">
                  <span class="fw_7">WhatsApp</span>
                </div>
                <div class="form-check form-switch m-0 ">
                  <input class="form-check-input" type="checkbox" role="switch" formControlName="whatsappFlag"
                    name="whatsappFlag" id="whatsappFlag" [checked]="whatsAppCheck" />
                </div>
              </div>
            </div>


            <div class="booking-inner-box gst-number-box">
              <h6> <span class="form-switch m-0 mr-10">
                  <input class="form-check-input" type="checkbox" role="switch" (click)="gstToggle()" />
                </span>GST number for business travel (Optional)</h6>
              <p>To claim credit of GST charged by airlines / SmartBuy, please enter your company’s GST
                number
              </p>

              <div class="row text-lg-end" *ngIf="gstSelected">
                <ng-container *ngIf="getGSTShow">
                  <div class="add-traveller-btn">
                    <a href="javascript:void(0);" class="Addnew-Adult-btn" class="Addnew-Adult-btn"
                      (click)="openmodal(content)">Choose from Saved GSTs</a>
                  </div>

                </ng-container>
              </div>

              <ng-template #content let-modal>
                <div class="modal-header modal-inside-header">
                  <h5 class="modal-title">Choose from Saved GSTs</h5>

                </div>
                <div class="modal-body">
                  <div class="col-lg-12 col-md-6 col-12">

                    <div>
                      <div class="form-check" *ngFor="let data of GSTList | slice:0:5;let GSTIndex = index">
                        <input class="form-check-input" type="radio" name="GSTList" id="gst{{GSTIndex}}"
                          (change)="fillupGSTDetailOnCheck($event,data,GSTIndex)"
                          [checked]="gstmodalcheckedvalue[GSTIndex]">
                        <label class="form-check-label" for="gst{{GSTIndex}}">
                          {{data.gstName}}
                        </label>
                      </div>
                    </div>
                    <ng-container *ngIf="isGstExpanded">
                      <ng-container *ngFor="let gstexpandedItem of GSTList; let i = index">
                        <div *ngIf="i > 5">
                          <div class="form-check" *ngFor="let data of GSTList | slice:0:5;let GSTIndex = index">
                            <input class="form-check-input" type="radio" name="GSTList" id="gstL{{GSTIndex}}"
                              (change)="fillupGSTDetailOnCheck($event,gstexpandedItem,i)"
                              [checked]="gstmodalcheckedvalue[i]">
                            <label class="form-check-label" for="gstL{{GSTIndex}}">
                              {{gstexpandedItem.gstName}}
                            </label>
                          </div>
                   
                        </div>
                      </ng-container>
                    </ng-container>
                    <p *ngIf="GSTList.length > 5">
                      <label class="checkbox pl-0">
                        <a (click)="gstExpandItems()">
                          {{!isGstExpanded ? 'View More &#x25BC;' : 'View Less &#x25B2;'}}
                        </a>
                      </label>
                    </p>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-danger" (click)="gstReset()">Reset</button>
                  <button type="button" class="btn btn-primary" (click)="modal.close()">Close</button>
                </div>
              </ng-template>

              <div class="row" *ngIf="gstSelected">
                <div class="col-xl-6 col-lg-6 col-md-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>GST Number</mat-label>
                    <input matInput placeholder="" formControlName="gstNumber" name="gstNumber" id="gstNumber"
                      minlength="15" maxlength="15" autocomplete="off" (keypress)="AvoidSpace($event)"
                      (keypress)="specialcharInputAddress($event)" (keyup)="convertToUpperCase($event);">

                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('required','gstNumber')">Please enter gst number.
                    </mat-error>
                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('pattern','gstNumber')">Please enter valid gst number.
                    </mat-error>
                  </mat-form-field>

                </div>
              </div>

              <div class="row" *ngIf="gstSelected">
                <div class="col-lg-4 col-md-4 col-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Business Name</mat-label>
                    <input matInput placeholder="Business Name" formControlName="gstBusinessName"
                      name="gstBusinessName" id="gstBusinessName" maxlength="30" autocomplete="off"
                      (keypress)="specialcharInputAddress($event)">

                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('required','gstBusinessName')">Please enter business
                      name.</mat-error>
                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('pattern','gstBusinessName')">Please enter valid name.
                    </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-lg-4 col-md-4 col-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Business Address</mat-label>
                    <input matInput placeholder="Business Address" formControlName="gstAddress" name="gstAddress"
                      id="gstAddress" maxlength="100" (keypress)="specialcharInputAddress($event)" autocomplete="off">
                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('required','gstAddress')">Please enter business
                      address.</mat-error>
                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('pattern','gstAddress')">Please enter valid address.No
                      special characters allowed except / - ,</mat-error>
                  </mat-form-field>
                </div>
                <div class="col-lg-4 col-md-4 col-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Pincode</mat-label>
                    <input matInput placeholder="Pincode" formControlName="gstPincode" name="gstPincode"
                      id="gstPincode" (keypress)="AvoidSpace($event);numberInput($event)"
                      (keyup)="getCityResidence($event)" minlength="6" maxlength="6" autocomplete="nope">
                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('required','gstPincode')">Please enter pincode.
                    </mat-error>
                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('minlength','gstPincode')">Please enter 6 digits [0-9]
                      pincode.</mat-error>
                  </mat-form-field>
                </div>
              </div>
              <div class="row" *ngIf="gstSelected">
                <div class="col-lg-4 col-md-4 col-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>City / Town</mat-label>
                    <input matInput placeholder="" formControlName="gstCity" name="gstCity" id="gstCity"
                      autocomplete="nope">
                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('required','gstCity')">Please enter city name.
                    </mat-error>
                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('pattern','gstCity')">Please enter valid city
                      name. </mat-error>
                  </mat-form-field>
                </div>

                <div class="col-lg-4 col-md-4 col-6">
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>State</mat-label>
                    <input matInput placeholder="State" formControlName="gstState" name="gstState" id="gstState"
                      (keypress)="flInput($event)" maxlength="20" autocomplete="off" [(ngModel)]="state"
                      readonly="stateCheck" value={{state}}>
                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('required','gstState')">Please enter state name.
                    </mat-error>
                    <mat-error class="error-flight-checkout" *ngIf="passengerForm.hasError('pattern','gstState')">Please enter valid state
                      name.</mat-error>
                  </mat-form-field>
                </div>

                <div class="othertraveller" *ngIf="gstSelected">
                  <ul class="add-search-ul d-block">
                    <li class="custom-check-box">
                      <div class="custom-controls-stacked">
                        <label class="custom-control material-checkbox">
                          <input type="checkbox" class="material-control-input" formControlName="saveGST"
                            name="saveGST" id="saveGST" [checked]="checked">
                          <span class="material-control-indicator"></span>
                          <span class="description fs_12 text-black">Add these details to
                            GST list. </span>
                          <span class="description fs_12">You won't have to fill gst info on your next visit</span>
                        </label>
                      </div>
                    </li>
                  </ul>
                </div>


              </div>
            </div>
          </div>
        </form>-->
      </div>
      <!--Step2 Ends-->
      <!--Step3 Starts-->
      <div class="col-md-8" *ngIf="steps==3">
      
     
       
      </div>
      <!--Step3 Ends-->

      <!--Steps 4-->
      <div class="col-md-8" *ngIf="steps==4">
        <div class="booking-process-content" *ngIf="totalCollectibleAmount">
          <div class="booking-title-box">
            <h4>Payment</h4>
          </div>

          <app-payment (sendCouponEvent)="receiveCouponDetails($event)" [remove_Coupon]="remove_Coupon"
            [passSavedCardsData]="savedCards" [passSessionKey]="searchTrainKey"
            (sendflexiAmount)='reciveflexiAmount($event)' [passTotalFare]="totalCollectibleAmount"
            [passActualFare]="totalCollectibleAmountFromPartnerResponse" [passConvinenceFee]="convenience_fee"
            [passServiceId]="serviceId" [passXSRFTOKEN]="XSRFTOKEN" [passIsDcemiEligibleFlag]="IsDcemiEligibleFlag"
            [passREWARD_MOBILE]="REWARD_MOBILE" [passFlexipayEligibleFlag]="isFlexipayEligibleFlag"
            (sendtotalfare)="recivetotalFare($event)" [passflexiFare]="sendflexiFare">
          </app-payment>
        </div>
      </div>
      <!--Step4 Ends-->

      <div class="col-md-4" *ngIf="totalCollectibleAmount">
        <!-- <app-fare-summary></app-fare-summary> -->
        <div class="default-sidebar">
          <div class="d-none d-sm-block">
            <div class="sidebar-widget session-expires-widget">
              <p><img src="{{cdnUrl}}/images/icons/sestion.png" class="me-2" alt="">Booking Expires in <strong>
                  <countdown [config]="{ leftTime: 900, format: 'mm:ss'}" (event)="bookingSessionExpires($event)">
                  </countdown> min
                </strong></p>
            </div>
            <div class="sidebar-widget fare-summary-widget">
              <div class="widget-title">
                <h4>Fare Summary</h4>
                <img  src="{{cdnUrl}}/images/smartbuy/partner/svg/irctc.svg"        alt="IRCTC">
              </div>
              <div class="widget-content">
                <ul class="widget-list clearfix">
                  <li class="fare-list-item">
                    <div class="fare-list-box">
                      <div class="fare-list-left">
                        <div (click)="isCollapseShow('BaseFare')">
                          <div data-bs-toggle="collapse" class="collapse_text" href="#base-collpase" role="button" aria-expanded="false"
                            aria-controls="base-collpase"  >

                            <img class="me-2" src="{{cdnUrl}}/images/icons/expand.png"
                              alt=""  *ngIf="!isCollapseBasefare" >

                              <img class="me-2" src="{{cdnUrl}}/images/icons/remove.png"
                              alt="" *ngIf="isCollapseBasefare" >

                            Ticket Fare</div>

                        </div>
                      </div>
                      <div class="fare-list-right">
                        <p>₹ {{(totalTicketFare-0) | number : '1.2-2'}}</p>
                      </div>

                    </div>
                    <!--<div *ngIf="AdtBaseFare>0">
                      <div class="collapse base_fare_collapse" id="base-collpase">
                        <div class="row ">
                          <div class="col-md-11 offset-md-1">

                            <div class="row collapse_row" *ngIf="AdtBaseFare>0">
                              <div class="col-8 fare-list-left">
                                 <p>Adult(s) ({{AdtQuantity}} X ₹ {{AdtBaseFare | number}})</p>
                              </div>
                              <div class="col-4 fare-list-right">
                                 <p>₹ {{AdtBaseFare * AdtQuantity | number}}</p>
                              </div>
                           </div>
                          </div>
                        </div>
                        </div>
                      </div>-->

                  </li>
                  
                  <ng-container *ngIf="steps > 3" >
                  <li class="fare-list-item">
                    <div class="fare-list-box">
                      <div class="fare-list-left">
                        <p>Travel Insurance Charges (Incl. GST)
                        </p>
                      </div>
                      <div class="fare-list-right">
                        <p>&#8377; {{((travel_ins_charge-0)+(travel_ins_charge_tax-0)) | number : '1.2-2'}}</p>
                      </div>
                    </div>
                  </li>
                <li class="fare-list-item">
                <div class="fare-list-box">
                <div class="fare-list-left">
                <p>Convenience fee (Incl. of GST)
                </p>
                </div>
                <div class="fare-list-right">
                <p>&#8377; {{(wp_charge-0)+(wp_charge_tax-0) | number : '1.2-2'}}</p>
                </div>
                </div>
                </li>
                
                <li class="fare-list-item" *ngIf="campiagn_agent_charges==0">
                <div class="fare-list-box">
                <div class="fare-list-left">
                <p>SmartBuy Charges (Incl. of GST)</p>
                </div>
                <div class="fare-list-right">
                <p>&#8377; <b class="value-free">Rs. {{agent_charges | number : '1.2-2'}}</b> <span class="text-free">FREE</span></p>
                </div>
                </div>
                </li>
                  
                  
                               <li class="fare-list-item" *ngIf="campiagn_agent_charges < agent_charges && campiagn_agent_charges != 0">
                <div class="fare-list-box">
                <div class="fare-list-left">
                <p>SmartBuy Charges (Incl. of GST)</p>
                </div>
                <div class="fare-list-right">
                <p>&#8377; <b class="value-free">Rs. {{agent_charges | number : '1.2-2'}}</b> <span class="text-free">Rs. {{campiagn_agent_charges | number : '1.2-2'}}</span></p>
                </div>
                </div>
                </li>
                  
                               <li class="fare-list-item"  *ngIf="campiagn_agent_charges == agent_charges">
                <div class="fare-list-box">
                <div class="fare-list-left">
                <p>SmartBuy Charges (Incl. of GST)</p>
                </div>
                <div class="fare-list-right">
                <p>&#8377; <b class="value-free">Rs. {{agent_charges | number : '1.2-2'}}</b> </p>
                </div>
                </div>
                </li>


                         <li class="fare-list-item" *ngIf="pgCharges>0.00">
                <div class="fare-list-box">
                <div class="fare-list-left">
                <p>PG Charges</p>
                </div>
                <div class="fare-list-right">
                <p>&#8377; <b class="value-free">Rs. {{pgCharges | number : '1.2-2'}}</b> </p>
                </div>
                </div>
                </li>



                  <li class="fare-list-item" *ngIf="coupon_amount>0.00">
                    <div class="fare-list-box">
                      <div class="fare-list-left" data-bs-toggle="collapse" class="collapse_text" href="#coupon-collpase" role="button" aria-expanded="false" aria-controls="coupon-collpase"(click)="isCollapseShow('discount')">

                        <p>
                          <img class="me-2" src="{{cdnUrl}}/images/icons/expand.png"
                          alt=""  *ngIf="!isCollapseDiscount" >

                          <img class="me-2" src="{{cdnUrl}}/images/icons/remove.png"
                          alt="" *ngIf="isCollapseDiscount" >
                          Discounts
                        </p>
                      </div>
                      <div class="fare-list-right">
                        <p class="text-green">- &#8377; {{coupon_amount}}</p>
                      </div>
                    </div>

                    <div >
                      <div class="collapse base_fare_collapse" id="coupon-collpase">
                        <div class="row ">
                          <div class="col-md-11 offset-md-1">

                            <div class="row collapse_row">
                              <div class="col-5 fare-list-left">
                                 <p>Coupoun Code</p>
                              </div>
                              <div class="col-7 fare-list-right">
                                 <p>{{coupon_code}}</p>
                              </div>
                           </div>


                          </div>
                        </div>
                        </div>

                      </div>


                  </li>


                      <li class="fare-list-item" *ngIf="flexipaysummry">
                <div class="fare-list-box">
                <div class="fare-list-left">
                <p>FlexiPay Discount</p>
                </div>
                <div class="fare-list-right">
                <p>&#8377; <b class="value-free">Rs. {{flexiDiscount | number : '1.2-2'}}</b> </p>
                </div>
                </div>
                </li>

                  <li class="fare-list-item">
                    <div class="fare-list-box pt-30">
                      <div class="fare-list-left">
                        <h6 class="fw_7">Grand Total</h6>
                      </div>
                      <div class="fare-list-right" >
                        <h6 class="fw_7">₹ {{(totalCollectibleAmount-0)+(pgCharges-0) | number : '1.2-2'}}</h6>
                         <p class="payment-text pt-1"><sup>*</sup>PG charges as applicable.</p>
                      </div>
                          
                    </div>
                  </li>
           </ng-container>
                </ul>
              </div>
            </div>
            <div class="continue-widget mb-20">
              <a href="javascript:void(0);" class="button-style w-100" (click)="sendTrainDetails()"
                *ngIf="steps==1">Continue</a>
              <a href="javascript:void(0);" class="button-style w-100" (click)="continueTravellerDetails()"
                *ngIf="steps==2">Continue</a>
              <a href="javascript:void(0);" class="button-style w-100" (click)="continueReviewBooking()"
                *ngIf="steps==3">Continue</a>
             
            </div>
          </div>
          <div *ngIf="steps==4 && !isMobile">
     <app-coupons (sendCouponEvent)="receiveCouponDetails($event)" [passSessionKey]="searchBusKey" [orderReferenceNumber]="orderReferenceNumber" [remove_Coupon]="remove_Coupon"
                [passTotalFare]="totalFare" [passActualFare]="intialTotalFare"
                [passConvinenceFee]="convenience_fee" passServiceToken="Bus" [passPartnerToken]="partnerToken"
                (sendtotalfare)="recivetotalFare($event)" [customerInfo]="customerInfo">
              </app-coupons>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>
<!-- ------------------------------
          >>> Modal bookingprocess
      ---------------------------------->
<div class="modal bookingprocess" id="infoprocess" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body " style="padding: 25px;" *ngIf="searchData">
        <div class="bookingprocess-items">
          <div class="bookingprocess-title text-center mb-30">
            <h5><strong>We are processing your booking. <br> Please wait...</strong></h5>
          </div>
          <div class="bookingprocess-content">
            <div class="bookingprocess-flight">
              <h6>{{searchData.fromCity}},{{searchData.fromContry}} ({{searchData.flightfrom}})</h6>
              <p class="mt-10">{{searchData.departure | date:'dd.MM.yyyy'}} - <span>{{searchData.adults}}
                  Adult,</span> <span *ngIf="searchData.child != '0'">{{searchData.child}} Child,</span> <span
                  *ngIf="searchData.infants != '0'">{{searchData.infants}} Infants,</span>
                {{searchData.flightclass == "B" ? "Business":null || searchData.flightclass == "E" ? "Economy":null || searchData.flightclass == "F" ? "First":null  || searchData.flightclass == "P" ? "Premium":null}}
              </p>
              <h6>{{searchData.toCity}},{{searchData.toContry}} ({{searchData.flightto}})</h6>
            </div>
            <div class="bookingprocess-processbar">
              <div class="progress">
                <div class="progress-bar" role="progressbar" attr.aria-valuenow="{{loaderValue}}" aria-valuemin="0"
                  aria-valuemax="100" [ngStyle]="{'max-width':loaderValue +'%'}">
                  <span class="title"> &nbsp; </span>
                </div>
              </div>
            </div>
          </div>
          <div class="refresh-text text-center pt-2">
            <p>Please don't click or refresh the page</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade bookingprocess" id="bookingprocessFailed" data-bs-backdrop="static" data-bs-keyboard="false"
  tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body " style="padding: 25px;">
        <div class="bookingprocess-items">
          <div class="bookingprocess-content">
            An Error occurred during fetching details. Do Not Worry! <br><br> Click on Retry
          </div>
          <div class="refresh-text text-center pt-2">
            <button type="button" class="btn btn-primary" (click)="triggerBack()">Retry</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="modal fade bookingprocess" id="bookingprocessPriceChange" data-bs-backdrop="static"
  data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body " style="padding: 25px;">
        <div class="bookingprocess-items">
          <div class="bookingprocess-title text-center mb-30">
            <h5><strong>Fare has changed</strong></h5>
          </div>
          <div class="bookingprocess-content p-20 border-0 m-0">
            <p>The fare of the itinerary you have chosen has changed</p>
            <div><b>Old Price</b> : ₹{{old_fare}}</div>
            <hr>
            <div>
              <div class="row">
                <div class="col-6">
                  <b>New Price</b>
                </div>
                <div class="col-6 text-end">
                  <b class="new_fare_flight">₹{{new_fare}}</b>
                </div>
              </div>
            </div>
          </div>
          <div class="refresh-text text-center pt-2">
            <button type="button" class="btn btn-primary" (click)="continueWithNewFare(continueWithNewFareInterval)">Continue with New
              Fare</button>
          </div>
          <div class="refresh-text text-center pt-2">
            <button type="button" class="btn" (click)="triggerBack()">Choose Different Itinerary</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Mlite Footer Price Section  -->
<div class="d-block d-sm-none">
  <div class="footer-sticky-mlite">
    <div>
      <div class="apply_fare row">
       <!--  <p *ngIf="steps<5" class="w-75"></p> -->
          <div class="col-6 text-left">
              <p *ngIf="steps==5"><a href="javascript:;" type="button" class="" data-bs-toggle="modal"
                  data-bs-target="#applyCoupon_mlite">Apply Coupon</a></p>
          </div>
          <div class="col-6 text-right">
              <p><a href="javascript:;" type="button" class="" data-bs-toggle="modal"
                  data-bs-target="#fareSummary_mlite">Fare Summary</a></p>
          </div>
      </div>
      <div class="price_sec">
        <div class="row">
          <div class="col-5">
            <div class="">
              <h6 class="price">₹{{totalCollectibleAmount|number}}</h6>
              <p class="emi" *ngIf="TotalFare > EMIAvailableLimit">EMI @
                {{calculateEMI(totalCollectibleAmount)|number: '.2'}}/month</p>

            </div>
          </div>
          <div class="col-7">
            <div>
              <a href="javascript:void(0);" class="button-style btn_pay" (click)="sendFlightDetails()"
                *ngIf="steps==1">Continue</a>
              <a href="javascript:void(0);" class="button-style btn_pay" (click)="continueTravellerDetails()"
                *ngIf="steps==2">Continue</a>
              <a href="javascript:void(0);" class="button-style btn_pay" (click)="continueSeatSelection()"
                *ngIf="steps==3">Continue</a>
              <a href="javascript:void(0);" class="button-style btn_pay" (click)="continueReviewBooking()"
                *ngIf="steps==4">Continue</a>
              <a href="javascript:void(0);" class="button-style btn_pay" (click)="continuePayment()"
                *ngIf="steps==5">Continue</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Mlite Apply Coupon Popup -->
<div class="modal coupon_mlite_popup" id="applyCoupon_mlite" tabindex="-1" aria-labelledby="applyCoupon_mliteLabel"
  aria-hidden="true" *ngIf="steps==5 && isMobile">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Coupon Code</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" >
 <app-coupons (sendCouponEvent)="receiveCouponDetails($event)" [passSessionKey]="searchBusKey" [orderReferenceNumber]="orderReferenceNumber" [remove_Coupon]="remove_Coupon"
                [passTotalFare]="totalFare" [passActualFare]="intialTotalFare"
                [passConvinenceFee]="convenience_fee" passServiceToken="Bus" [passPartnerToken]="partnerToken"
                (sendtotalfare)="recivetotalFare($event)" [customerInfo]="customerInfo">
              </app-coupons>
      </div>
      <!-- <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
              </div> -->
    </div>
  </div>
</div>

<!-- Mlite Fare Summary Popup -->
<div class="modal coupon_mlite_popup" id="fareSummary_mlite" tabindex="-1" aria-labelledby="fareSummary_mliteLabel"
  aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header pb-0">
        <h5 class="modal-title">Fare Summary</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body pt-0">
        <div>
          <img *ngIf="selectedOnwardVendor"
            src="{{cdnUrl}}images/flight_partners/{{selectedOnwardVendor.partnerName}}.png"
            alt="{{selectedOnwardVendor.partnerName}}">
        </div>
        <div class="widget-content">
          <ul class="widget-list clearfix">
            <li class="fare-list-item">
              <div class="fare-list-box">
                <div class="fare-list-left">
                  <p>
                    <img class="me-2" src="{{cdnUrl}}/images/icons/add.png" alt="">
                    Base Fare
                  </p>
                </div>
                <div class="fare-list-right">
                  <p>&#8377;{{BaseFare|number}}</p>
                </div>
              </div>
            </li>
            <li class="fare-list-item">
              <div class="fare-list-box">
                <div class="fare-list-left">
                  <p>
                    <img class="me-2" src="{{cdnUrl}}/images/icons/add.png" alt="">
                    Taxes and Fees
                  </p>
                </div>
                <div class="fare-list-right">
                  <p>&#8377;{{Tax |number}}</p>
                </div>
              </div>
            </li>

            <li class="fare-list-item" *ngIf="partnerConvFee>0.00 && steps > 3 ">
              <div class="fare-list-box">
                <div class="fare-list-left">
                  <p>
                    <img class="me-2" src="{{cdnUrl}}/images/icons/add.png" alt="">
                    {{selectedOnwardVendor.partnerName}} Convenience Fee
                  </p>
                </div>
                <div class="fare-list-right">
                  <p>&#8377;{{partnerConvFee |number}}</p>
                </div>
              </div>
            </li>
            <li class="fare-list-item" *ngIf="enableVAS==1 && vas_amount>0.00">
              <div class="fare-list-box">
                <div class="fare-list-left">
                  <p>
                    <img class="me-2" src="{{cdnUrl}}/images/icons/add.png" alt="">
                    Baggage/Seat/Meals
                  </p>
                </div>
                <div class="fare-list-right">
                  <p>&#8377;{{vas_amount}}</p>
                </div>
              </div>
            </li>
            <li class="fare-list-item" *ngIf="coupon_amount>0.00">
              <div class="fare-list-box">
                <div class="fare-list-left">
                  <p>
                    <img class="me-2" src="{{cdnUrl}}/images/icons/add.png" alt="">
                    Discounts
                  </p>
                </div>
                <div class="fare-list-right">
                  <p class="text-green">-&#8377;{{coupon_amount}}</p>
                </div>
              </div>
            </li>
            <li class="fare-list-item">
              <div class="fare-list-box pt-30">
                <div class="fare-list-left">
                  <h6 class="fw_7">Grand Total </h6>
                </div>
                <div class="fare-list-right" *ngIf="steps < 4">
                  <h6 class="fw_7">₹{{totalCollectibleAmount-partnerConvFee|number}}</h6>
                  <p class="opacity_05" *ngIf="totalCollectibleAmount-partnerConvFee > EMIAvailableLimit">EMI @
                    {{calculateEMI(totalCollectibleAmount-partnerConvFee)|number: '.2'}}/month</p>
                </div>

                <div class="fare-list-right" *ngIf="steps > 3">
                  <h6 class="fw_7">₹{{totalCollectibleAmount|number}}</h6>
                  <p class="opacity_05" *ngIf="TotalFare > EMIAvailableLimit">EMI @
                    {{calculateEMI(totalCollectibleAmount)|number: '.2'}}/month</p>
                </div>

              </div>
            </li>
          </ul>
        </div>
      </div>
      <!-- <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
              </div> -->
    </div>
  </div>
</div>


<div class="modal fade bookingprocess" id="bookingprocessExpires" data-bs-backdrop="static" data-bs-keyboard="false"
  tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body " style="padding: 25px;">
        <div class="bookingprocess-items">
          <div class="" id="after-expiry">
            <div class="">
              <div class="text-center ">
                <div><img src="{{cdnUrl}}images/alert.png" /></div>
              </div>
              <div class="session-title text-center ">
                <h2>Sorry!</h2>
              </div>
              <div class="alert-box-msg  plr50"> This session has expired due to inactivity</div>
            </div>
            <div class="">
              <div class="continue-btn-div">
                <button type="button" data-bs-dismiss="modal" class="btn btn-normal btn-animated btn-session-expired"
                  (click)="triggerBack()"><span>Start over</span></button>
              </div>
            </div>
          </div>


        </div>
      </div>
    </div>
  </div>
</div>

</main>
<div class="modal fade bookingprocess" id="bookingprocessFailed1" data-bs-backdrop="static" data-bs-keyboard="false"
tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered">
  <div class="modal-content">
    <div class="modal-body " style="padding: 25px;">
      <div class="bookingprocess-items">
        <div class="bookingprocess-content">
          An Error occurred during fetching details. Do Not Worry! <br><br> Click on Retry
        </div>
        <div class="refresh-text text-center pt-2">
          <button type="button" class="btn btn-primary" (click)="goBack()">Retry</button>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
