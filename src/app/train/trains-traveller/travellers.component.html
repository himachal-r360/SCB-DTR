<div class="payment_header">
    <div class="">
        <div class="row">
            <div class="col-3 text-center">
                <div class="head_img">
                    <img src="{{cdnUrl}}images/smartbuy/icons/payment/samrtbuy.svg" alt="logo">
                </div>
            </div>
            <div class="col-6 text-center">
                <div>
                    <div id="container_inner_sec">
                        <div class="step-wizard" role="navigation">
                          <div class="progress_ind">
                            <div class="progressbar empty"></div>
                            <div class="progressbar" *ngIf="steps==1" ></div>
                            <div class="progressbar2" *ngIf="steps==2" ></div>
                            <div class="progressbar3" *ngIf="steps==3" ></div>
                          </div>
                          <ul>
                            <li class="active">
                              <button id="step1">
                                <div class="around_circle">
                                    <div class="step">1</div>
                                </div>
                                <div class="title">Itinerary</div>
                              </button>
                            </li>
                            <!--<li class="">
                              <button id="step2">
                                <div class="around_circle">
                                    <div class="step">2</div>
                                </div>
                                <div class="title">Additional Services</div>
                              </button>
                            </li>-->
                            <li [ngClass]="{'active': steps > 1 && steps < 4 }">
                              <button id="step2">
                                <div class="around_circle">
                                    <div class="step">2</div>
                                </div>
                                <div class="title">Review Booking</div>
                              </button>
                            </li>
                             <li [ngClass]="{'active' : steps == 3 }">
                              <button id="step3">
                                <div class="around_circle">
                                    <div class="step">3</div>
                                </div>
                                <div class="title">Payment</div>
                              </button>
                            </li>
                          </ul>
                        </div>
                      </div>
                </div>
            </div>
            <div class="col-3 text-center">
                <div class="head_img">
                    <img src="{{cdnUrl}}images/smartbuy/icons/payment/profile.png" alt="profile" class="profile_pic">
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Step 1-->
<div *ngIf="steps==1" >
  <form [formGroup]="passengerForm" ngxScrollToFirstInvalid (ngSubmit)="submitPassengerForm()" name="passengerForm">
<div >
    <div  class="container mpt-135">
        <p  class="mt-4 back_text" (click)="goback()"><span><i  aria-hidden="true" class="fa fa-arrow-left pr-2"></i></span><span>Go Back</span></p>
     </div>

    <div class="container iti_cnt">
        <div>
            <h5 class="title">Itinerary</h5>
        </div>
        
        <div class="">
            <div class="train_sec_info">
                <div class="row mb-3">
                    <div class="col-10 pl-sm-3 pl-2">
                        <p ><span class="train_name">{{trainName}}</span> <span class="num_sec">{{trainnumber}} | {{masterQuota[quota]}} | {{masterClasses[enqClass]}} ({{enqClass}})</span></p>
                    </div>
                    <div class="col-2 text-right">
                        <div>
                            <a href="javascript:;" (click)="goback()"><img src="{{cdnUrl}}images/smartbuy/icons/edit_icon.svg"></a>
                        </div>
                    </div>
                </div>
                <div class="">
                    <div class="web_code d-none d-sm-block">
                        <div class="trainTimeInfo">
                    
                            <div class="fromStn">
                                <p>{{scheduletime}} <span class="trainCode"> {{traveldate | date:'EEE, dd MMM'}} </span> </p>
                                <p class="airportName">{{fromstnDesc}} Boarding: {{boardingstnName}}</p>
                            </div>
                            <div class="px-3 text-center">
                                <hr  class="my-2 w-30-m" />
                            </div>
                            <div class="timeShow">
                                <p>{{travelDuration}}</p>
                               <p [attr.data-target]="'#irctc-jun-data'" (click) = "getSchedule(trainnumber)" data-toggle="modal">Show Route</p>
                            </div>
                            <div class="px-3 text-center">
                                <hr  class="my-2 w-30-m" />
                            </div>
                            <div class="toStn">
                                <p>  <span class="trainCode"> {{journeyArrivalDate | date:'EEE, dd MMM'}} </span> {{arrivalTime}} </p>
                                <p class="airportName">{{tostnDesc}}</p>
                            </div>
                           
                        </div>
                    </div>
                    <div class="mobile_code d-block d-sm-none">
                        <div class="row trainTimeInfoMobile p-2">
                    
                            <div class="fromStn col-3 p-0">
                                <!-- <p>{{stnNameCode}}</p> -->
                                <p class="airport">{{fromstnDesc}}</p>
                                <p class="time">{{scheduletime}}  </p>
                                <p class="date"><span> {{traveldate | date:'EEE, dd MMM'}} </span></p>
                            </div>
                            <div class="col-1 text-center p-0">
                                <hr  class=" w-30-m" />
                            </div>
                            <div class="timeShow col-4 text-center p-0">
                                <p>{{travelDuration}}</p>
                               <p [attr.data-target]="'#irctc-jun-data'" (click) = "getSchedule(trainnumber)" data-toggle="modal">Show Route</p>
                            </div>
                            <div class="col-1 text-center p-0">
                                <hr  class=" w-30-m" />
                            </div>
                            <div class="toStn col-3 p-0 text-right">
                                <p class="airport">{{tostnDesc}}</p>
                                <p class="time"> {{arrivalTime}}  </p>
                                <p class="date"><span > {{journeyArrivalDate | date:'EEE, dd MMM'}} </span></p>
                            </div>

                            <div class="col-12 p-0 mt-3">
                                <p class="airport">Boarding: {{boardingstnName}}</p>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
        <div>
            <div class="irctc_edit">
                <div class="part_one">
                    <p class="lab_text">IRCTC Username</p>
                    <p><span class="irc_id pr-3">{{IRCTCUserId}}</span><span class="f-12"><a href="javascript:;" id="irctc-login-popup" data-toggle="modal" data-target="#irctc_login">Use another ID</a></span></p>
                </div>
                <div class="part_two">
                    <p class="note_text"> Note:</p>
                    <p class="nrm_text">Please make sure that you remember your IRCTC password as you need to confirm 
                        you booking. Incase you donâ€™t, you can reset your password <a href="javascript:;" (click)="resetPassword()">here</a></p>
                </div>
            </div>
        </div>
        <div>
            <div class="board_sec mb-4">
                <div class="mb-3">
                    <h4 class="title">Boarding station</h4>
                    <p class="note_text">Please select your boarding station</p>
                </div>
                <div class="my-2">
                    <label class="mr-sm-2 sr-only" for="boarding_point">Preference</label>
                  <select class="custom-select mr-sm-2 w-50 radius_8" id="boarding_point" formControlName="boardingStation" [(ngModel)]="defaultBoardingStation" (ngModelChange)="trainSchedlue(defaultBoardingStation)">
                      <option *ngFor="let stationList of stationNames" [value]="stationList.stnNameCode">{{stationList.stnNameCode}}</option>
                    </select>
                   <div *ngIf="submitted && passengerForm.controls['boardingStation']['errors']" class="error">
                        <small *ngIf="passengerForm.controls['boardingStation']['errors']['required']">Please select boarding station.</small>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <div class="selectTravelers_sec">
                <p class="title pb-10">Select travellers</p>
                <div>
                    <ul class="travellers_list">
                         <li *ngFor="let passenger of adulttravellerlist | slice:0:3; ">
                            <div class="form-check check_pass">
                                 <input class="form-check-input pass_checkBox"  id="travelPassenger_{{passenger.id}}" type="checkbox" name="travellerlist" (change)="clickPassenger($event,passenger,passenger.id)" >
                                <label class="form-check-label" for="travelPassenger_{{passenger.id}}">
                                 {{passenger.title}}.{{passenger.firstName}} {{passenger.lastName}}|  {{passenger.age}} Years |  {{passenger.gender}}
                                </label>
                            </div>
                              <div class="edit_pass">
                                <a href="javascript:;" (click)="editPassenger(passenger,passenger.id)"><img src="{{cdnUrl}}images/smartbuy/icons/edit_icon.svg" ></a>
                              </div>
                              <div id="passengerBox_{{passenger.id}}" >
                              
                              
                              <ng-container *ngIf="passenger && passenger.age < 5 && saveChildTravellerId[passenger.id] > 0" >  
                              <input type="hidden" value="{{saveChildTravellerId[passenger.id]}}" id="passengerChildBoxId_{{passenger.id}}" />
                              <div class="travel_details contact-form edit_traveller_sec">
                                <div class="inner_input">
                                    <mat-form-field class="matField_full_width" appearance="fill">
                                        <mat-label>Name</mat-label>
                                         <input matInput placeholder="Name" formControlName="childName{{saveChildTravellerId[passenger.id]}}" (keypress)="flInput($event)" maxlength="{{maxNameLength}}" autocomplete="off" onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false">
                                    </mat-form-field>
                                     <div *ngIf="submitted && passengerForm.controls['childName'+saveChildTravellerId[passenger.id]]['errors'] && passengerForm.controls['childName'+saveChildTravellerId[passenger.id]]['touched'] " class="error">
                                                        <small *ngIf="passengerForm.hasError('required','childName'+saveChildTravellerId[passenger.id])">Please enter
                              name.</small>
                                                        <small *ngIf="passengerForm.hasError('pattern','childName'+saveChildTravellerId[passenger.id])">Please enter valid
                              name.</small>
                                                        <small *ngIf="passengerForm.hasError('minlength','childName'+saveChildTravellerId[passenger.id])">Please enter atleast
                              {{minNameLength}} character.</small>
                                                    </div>
                                </div>
                                <div class="inner_input gender_sec">
                                  <mat-form-field class="matField_full_width" appearance="fill">
                                        <mat-label>Gender</mat-label>
                                        <select matNativeControl formControlName="childGender{{saveChildTravellerId[passenger.id]}}">
                                          <option value="M">Male</option>
                                          <option value="F">Female</option>
                                         <option value="T">Transgender</option> 
                                        </select>
                                      </mat-form-field>
                                     <div *ngIf="submitted && passengerForm.controls['childGender'+saveChildTravellerId[passenger.id]]['errors'] && passengerForm.controls['childGender'+saveChildTravellerId[passenger.id]]['touched']" class="error">
                                                                <small *ngIf="passengerForm.hasError('required','childGender'+saveChildTravellerId[passenger.id])">Please select
                                  gender.</small>
                                                            </div>
                                </div>
                                <div class="inner_input ">
                                   <mat-form-field class="matField_full_width" appearance="fill">
                                        <mat-label>Age</mat-label>
                                        <select matNativeControl formControlName="childAge{{saveChildTravellerId[passenger.id]}}">
                                          <option value="0">Below One Year</option>
                                          <option value="1">One year</option>
                                          <option value="2">Two years</option>
                                           <option value="3">Three years</option>
                                            <option value="4">Four years</option>
                                        </select>
                                      </mat-form-field>
                                     <div *ngIf="submitted && passengerForm.controls['childAge'+saveChildTravellerId[passenger.id]]['errors'] && passengerForm.controls['childAge'+saveChildTravellerId[passenger.id]]['touched']" class="error">
                                                                <small *ngIf="passengerForm.hasError('required','childAge'+saveChildTravellerId[passenger.id])">Please select
                                  age.</small>
                                                            </div>  
                                </div>
                                
                            </div>
                             </ng-container> 
                             
                              <ng-container *ngIf="passenger && passenger.age > 4 && saveTravellerId[passenger.id] > 0" >
                              <input type="hidden" value="{{saveTravellerId[passenger.id]}}" id="passengerBoxId_{{passenger.id}}" />
                                <div>
                                    <div class="travel_details contact-form edit_traveller_sec">
                                    <div class="inner_input">
                                        <mat-form-field class="matField_full_width" appearance="fill">
                                            <mat-label>Passenger Name</mat-label>
                                            <input matInput placeholder="Name" formControlName="passengerName{{saveTravellerId[passenger.id]}}" (keypress)="flInput($event)" maxlength="{{maxNameLength}}" autocomplete="off" onDrag="return false" onDrop="return false">
                                        </mat-form-field>
                                        <div *ngIf="submitted && 'passengerName'+saveTravellerId[passenger.id].errors && 'passengerName'+saveTravellerId[passenger.id].touched" class="error">
                                            <small *ngIf="passengerForm.hasError('required','passengerName'+saveTravellerId[passenger.id])">Please enter
                                            name.</small>
                                            <small *ngIf="passengerForm.hasError('pattern','passengerName'+saveTravellerId[passenger.id])">Please enter
                                            valid name.</small>
                                            <small *ngIf="passengerForm.hasError('minlength','passengerName'+saveTravellerId[passenger.id])">Please enter
                                            atleast {{minNameLength}} character.</small>
                                            <small *ngIf="passengerForm.hasError('maxlength','passengerName'+saveTravellerId[passenger.id])">Please enter
                                            atleast {{maxNameLength}} character.</small>
                                        </div>
                                    </div>
                                    <div class="inner_input gender_sec">
                                        <mat-form-field class="matField_full_width" appearance="fill">
                                            <mat-label>Gender</mat-label>
                                            <select matNativeControl [(ngModel)]="genderSelectArr[saveTravellerId[passenger.id]]" (ngModelChange)="seniorCitizenArr(genderSelectArr[saveTravellerId[passenger.id]],saveTravellerId[passenger.id])" formControlName="passengerGender{{saveTravellerId[passenger.id]}}">
                                            <option value="M">Male</option>
                                            <option value="F">Female</option>
                                            <option value="T">Transgender</option>
                                            </select>
                                        </mat-form-field>
                                        <div *ngIf="submitted && 'passengerGender'+saveTravellerId[passenger.id].errors && 'passengerGender'+saveTravellerId[passenger.id].touched" class="error">
                                            <small *ngIf="passengerForm.hasError('required','passengerGender'+saveTravellerId[passenger.id])">Please
                                            select gender.</small>
                                        </div>
                                    </div>
                                    <div class="inner_input age_sec">
                                        <mat-form-field class="matField_full_width" appearance="fill">
                                            <mat-label>Age</mat-label>
                                            <input matInput placeholder="Age" formControlName="passengerAge{{saveTravellerId[passenger.id]}}" maxlength="3" (keypress)="numberInput($event)" (keyup)="maxAgeLimitArr(saveTravellerId[passenger.id])" autocomplete="off" onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false">
                                        </mat-form-field>
                                        <div *ngIf="submitted && 'passengerAge'+saveTravellerId[passenger.id].errors && 'passengerAge'+saveTravellerId[passenger.id].touched" class="error">
                                            <small *ngIf="passengerForm.hasError('required','passengerAge'+saveTravellerId[passenger.id])">Please
                                            enter age.</small>
                                            <small *ngIf="passengerForm.hasError('pattern','passengerAge'+saveTravellerId[passenger.id])">Age should
                                            be numeric.</small>
                                            <small *ngIf="passengerForm.hasError('min','passengerAge'+saveTravellerId[passenger.id])">{{ageValidErrorArr[saveTravellerId[passenger.id]]}}</small>
                                            <small *ngIf="passengerForm.hasError('max','passengerAge'+saveTravellerId[passenger.id])">{{ageValidErrorArr[saveTravellerId[passenger.id]]}}</small>
                                        </div>
                                    </div>
                                    <div class="inner_input">
                                        <mat-form-field class="matField_full_width" appearance="fill">
                                            <mat-label>Seat Preference</mat-label>
                                            <select matNativeControl formControlName="passengerBerthChoice{{saveTravellerId[passenger.id]}}">
                                                <option value="">No Preference</option>
                                                <option *ngFor="let each of applicableBerthTypes" value="{{each}}">{{masterBerth[each]}}</option>
                                            </select>
                                        </mat-form-field>
                                    </div>
                                    <div class="inner_input">
                                        <mat-form-field class="matField_full_width" appearance="fill">
                                            <mat-label>Country</mat-label>
                                            <select matNativeControl  [(ngModel)]="defaultCountryArr[saveTravellerId[passenger.id]]" (ngModelChange)="countrySelectAddMore(saveTravellerId[passenger.id])" formControlName="passengerNationality{{saveTravellerId[passenger.id]}}">
                                            <option *ngFor="let each of countries" [value]="each.countryCode"> {{each.country}}</option>
                                            </select>
                                        </mat-form-field>
                                    </div>
                                    </div>
                                </div>
                                <div class="traveler-details-info">
                                    <div class="row contact-form">
                                    <div class="col-12 col-md-6" *ngIf="showTravelDocumentAddMore[saveTravellerId[passenger.id]]">
                                        <mat-form-field class="matField_full_width" appearance="fill">
                                            <mat-label>Travel Document</mat-label>
                                            <mat-select placeholder="" formControlName="passengerTravelDocument{{saveTravellerId[passenger.id]}}">
                                                <mat-option value="PASSPORT"> PASSPORT/TRAVEL DOCUMENT</mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <div *ngIf="submitted && passengerForm.controls['passengerTravelDocument'+saveTravellerId[passenger.id]]['errors'] &&passengerForm.controls['passengerTravelDocument'+saveTravellerId[passenger.id]]['touched']" class="error">
                                            <small *ngIf="passengerForm.hasError('required','passengerTravelDocument'+saveTravellerId[passenger.id])">Please
                                            enter travel document.</small>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-12" *ngIf="showTravelDocumentAddMore[saveTravellerId[passenger.id]]">
                                        <mat-form-field class="matField_full_width" appearance="fill">
                                            <mat-label>Passport No</mat-label>
                                            <input matInput placeholder="" formControlName="passengerTravelDocCardNo{{saveTravellerId[passenger.id]}}" maxlength="{{maxPassportLength}}" autocomplete="off" onDrag="return false" onDrop="return false" (keypress)="specialcharInput($event)" (keyup)="convertToUpperCase($event)">
                                        </mat-form-field>
                                        <div *ngIf="submitted && passengerForm.controls['passengerTravelDocCardNo'+saveTravellerId[passenger.id]]['errors'] &&passengerForm.controls['passengerTravelDocCardNo'+saveTravellerId[passenger.id]]['touched']" class="error">
                                            <small *ngIf="passengerForm.hasError('required','passengerTravelDocCardNo'+saveTravellerId[passenger.id])">Please
                                            enter passport number.</small>
                                            <small *ngIf="passengerForm.hasError('minlength','passengerTravelDocCardNo'+saveTravellerId[passenger.id])">Please
                                            enter atleast {{minPassportLength}} characters.</small>
                                            <small *ngIf="passengerForm.hasError('pattern','passengerTravelDocCardNo'+saveTravellerId[passenger.id])">Please
                                            enter valid passport number.</small>
                                        </div>
                                    </div>
                                    </div>
                                    <div class="row contact-form" *ngIf="showTravelDocumentAddMore[saveTravellerId[passenger.id]]">
                                    <div class="col-md-6">
                                        <mat-form-field class="matField_full_width" appearance="fill">
                                            <mat-label>Date of Birth(DD-MM-YYYY)</mat-label>
                                            <input matInput [matDatepicker]="picker2" disabled formControlName="foreignPassengerDOB{{saveTravellerId[passenger.id]}}" [min]="calenderminDate" [max]="calendermaxDate">
                                            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                            <mat-datepicker #picker2 disabled="false"></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    </div>
                                    <div class="row contact-form">
                                    <div class="col-12 col-md-6" *ngIf="foodChoiceEnabled">
                                        <mat-form-field class="matField_full_width" appearance="fill">
                                            <mat-label>Meal Preference</mat-label>
                                            <mat-select placeholder="" formControlName="passengerMealPreference{{saveTravellerId[passenger.id]}}">
                                                <mat-option *ngFor="let each of foodDetails" [value]="each"> {{masterFood[each]}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <div *ngIf="submitted && passengerForm.controls['passengerMealPreference'+saveTravellerId[passenger.id]]['errors']" class="error">
                                            <small *ngIf="passengerForm.controls['passengerMealPreference'+saveTravellerId[passenger.id]]['errors']['required']">Food
                                            Choice is required.</small>
                                        </div>
                                    </div>
                                    <div class="col-12 col-md-6" *ngIf="seniorCitizenEnabledArr[saveTravellerId[passenger.id]] && seniorCitizenApplicableArr[saveTravellerId[passenger.id]]">
                                        <mat-form-field class="matField_full_width" appearance="fill">
                                            <mat-label>Senior Citizen Concession</mat-label>
                                            <mat-select placeholder="" formControlName="passengerSeniorCitizen{{saveTravellerId[passenger.id]}}">
                                                <mat-option value="1"> Avail Concession </mat-option>
                                                <mat-option value="2"> Forgo 50% Concession </mat-option>
                                                <mat-option value="3"> Forgo full Concession </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <div *ngIf="submitted && passengerForm.controls['passengerSeniorCitizen'+saveTravellerId[passenger.id]]['errors']" class="error">
                                            <small *ngIf="passengerForm.controls['passengerSeniorCitizen'+saveTravellerId[passenger.id]]['errors']['required']">Please select Senior citizen concession.</small>
                                        </div>
                                    </div>
                                    </div>
                                    <p *ngIf="optChildBerthStatusArr[saveTravellerId[passenger.id]]"> <label class="checkbox">Opt Child Berth
                                    <input type="checkbox" (click)="optChildBerth($event)" [checked]="ladiesQuotaTrue"
                                    formControlName="optChildBerth{{saveTravellerId[passenger.id]}}" id="optChildBerth{{saveTravellerId[passenger.id]}}" >
                                    <span class="checkmark"></span>
                                    </label>
                                    </p>
                                    <p *ngIf="optBedRollStatus"> <label class="checkbox">Opt Bed Roll
                                    <input type="checkbox" (change)="optBedRoll($event,i)"
                                        formControlName="optBedRoll{{saveTravellerId[passenger.id]}}">
                                    <span class="checkmark"></span>
                                    </label>
                                    </p>
                                </div>    
                                
                              
                            </ng-container> 
                            </div>  
                        </li>
                        
                       <span *ngIf="adulttravellerlist && adulttravellerlist.length >3 && isAdultExpanded ">
                      <li   *ngFor="let passenger of adulttravellerlist  | slice:4; "> 
                           <div class="form-check check_pass">
                                 <input class="form-check-input pass_checkBox"  id="travelPassenger_{{passenger.id}}" type="checkbox" name="travellerlist" (change)="clickPassenger($event,passenger,passenger.id)" >
                                <label class="form-check-label" for="travelPassenger_{{passenger.id}}">
                                 {{passenger.title}}.{{passenger.firstName}} {{passenger.lastName}}|  {{passenger.age}} Years |  {{passenger.gender}}
                                </label>
                            </div>
                              <div class="edit_pass">
                                <a href="javascript:;" (click)="editPassenger(passenger,passenger.id)"><img src="{{cdnUrl}}images/smartbuy/icons/edit_icon.svg"></a>
                              </div>
                              <div id="passengerBox_{{passenger.id}}" >
                              
                              
                                <ng-container *ngIf="passenger && passenger.age < 5 && saveChildTravellerId[passenger.id] > 0" >  
                              <input type="hidden" value="{{saveChildTravellerId[passenger.id]}}" id="passengerChildBoxId_{{passenger.id}}" />
                              <div class="travel_details contact-form edit_traveller_sec">
                                <div class="inner_input">
                                    <mat-form-field class="matField_full_width" appearance="fill">
                                        <mat-label>Name</mat-label>
                                         <input matInput placeholder="Name" formControlName="childName{{saveChildTravellerId[passenger.id]}}" (keypress)="flInput($event)" maxlength="{{maxNameLength}}" autocomplete="off" onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false">
                                    </mat-form-field>
                                     <div *ngIf="submitted && passengerForm.controls['childName'+saveChildTravellerId[passenger.id]]['errors'] && passengerForm.controls['childName'+saveChildTravellerId[passenger.id]]['touched'] " class="error">
                                                        <small *ngIf="passengerForm.hasError('required','childName'+saveChildTravellerId[passenger.id])">Please enter
                              name.</small>
                                                        <small *ngIf="passengerForm.hasError('pattern','childName'+saveChildTravellerId[passenger.id])">Please enter valid
                              name.</small>
                                                        <small *ngIf="passengerForm.hasError('minlength','childName'+saveChildTravellerId[passenger.id])">Please enter atleast
                              {{minNameLength}} character.</small>
                                                    </div>
                                </div>
                                <div class="inner_input gender_sec">
                                  <mat-form-field class="matField_full_width" appearance="fill">
                                        <mat-label>Gender</mat-label>
                                        <select matNativeControl formControlName="childGender{{saveChildTravellerId[passenger.id]}}">
                                          <option value="M">Male</option>
                                          <option value="F">Female</option>
                                         <option value="T">Transgender</option> 
                                        </select>
                                      </mat-form-field>
                                     <div *ngIf="submitted && passengerForm.controls['childGender'+saveChildTravellerId[passenger.id]]['errors'] && passengerForm.controls['childGender'+saveChildTravellerId[passenger.id]]['touched']" class="error">
                                                                <small *ngIf="passengerForm.hasError('required','childGender'+saveChildTravellerId[passenger.id])">Please select
                                  gender.</small>
                                                            </div>
                                </div>
                                <div class="inner_input ">
                                   <mat-form-field class="matField_full_width" appearance="fill">
                                        <mat-label>Age</mat-label>
                                        <select matNativeControl formControlName="childAge{{saveChildTravellerId[passenger.id]}}">
                                          <option value="0">Below One Year</option>
                                          <option value="1">One year</option>
                                          <option value="2">Two years</option>
                                           <option value="3">Three years</option>
                                            <option value="4">Four years</option>
                                        </select>
                                      </mat-form-field>
                                     <div *ngIf="submitted && passengerForm.controls['childAge'+saveChildTravellerId[passenger.id]]['errors'] && passengerForm.controls['childAge'+saveChildTravellerId[passenger.id]]['touched']" class="error">
                                                                <small *ngIf="passengerForm.hasError('required','childAge'+saveChildTravellerId[passenger.id])">Please select
                                  age.</small>
                                                            </div>  
                                </div>
                                
                            </div>
                             </ng-container> 
                             
                             
                              <ng-container *ngIf="passenger && passenger.age > 4 && saveTravellerId[passenger.id] > 0" >
                              <input type="hidden" value="{{saveTravellerId[passenger.id]}}" id="passengerBoxId_{{passenger.id}}" />

                                    <div>
                                        <div class="travel_details contact-form edit_traveller_sec">
                                        <div class="inner_input">
                                            <mat-form-field class="matField_full_width" appearance="fill">
                                                <mat-label>Passenger Name</mat-label>
                                                <input matInput placeholder="Name" formControlName="passengerName{{saveTravellerId[passenger.id]}}" (keypress)="flInput($event)" maxlength="{{maxNameLength}}" autocomplete="off" onDrag="return false" onDrop="return false">
                                            </mat-form-field>
                                            <div *ngIf="submitted && 'passengerName'+saveTravellerId[passenger.id].errors && 'passengerName'+saveTravellerId[passenger.id].touched" class="error">
                                                <small *ngIf="passengerForm.hasError('required','passengerName'+saveTravellerId[passenger.id])">Please enter
                                                name.</small>
                                                <small *ngIf="passengerForm.hasError('pattern','passengerName'+saveTravellerId[passenger.id])">Please enter
                                                valid name.</small>
                                                <small *ngIf="passengerForm.hasError('minlength','passengerName'+saveTravellerId[passenger.id])">Please enter
                                                atleast {{minNameLength}} character.</small>
                                                <small *ngIf="passengerForm.hasError('maxlength','passengerName'+saveTravellerId[passenger.id])">Please enter
                                                atleast {{maxNameLength}} character.</small>
                                            </div>
                                        </div>
                                        <div class="inner_input gender_sec">
                                            <mat-form-field class="matField_full_width" appearance="fill">
                                                <mat-label>Gender</mat-label>
                                                <select matNativeControl [(ngModel)]="genderSelectArr[saveTravellerId[passenger.id]]" (ngModelChange)="seniorCitizenArr(genderSelectArr[saveTravellerId[passenger.id]],saveTravellerId[passenger.id])" formControlName="passengerGender{{saveTravellerId[passenger.id]}}">
                                                <option value="M">Male</option>
                                                <option value="F">Female</option>
                                                <option value="T">Transgender</option>
                                                </select>
                                            </mat-form-field>
                                            <div *ngIf="submitted && 'passengerGender'+saveTravellerId[passenger.id].errors && 'passengerGender'+saveTravellerId[passenger.id].touched" class="error">
                                                <small *ngIf="passengerForm.hasError('required','passengerGender'+saveTravellerId[passenger.id])">Please
                                                select gender.</small>
                                            </div>
                                        </div>
                                        <div class="inner_input age_sec">
                                            <mat-form-field class="matField_full_width" appearance="fill">
                                                <mat-label>Age</mat-label>
                                                <input matInput placeholder="Age" formControlName="passengerAge{{saveTravellerId[passenger.id]}}" maxlength="3" (keypress)="numberInput($event)" (keyup)="maxAgeLimitArr(saveTravellerId[passenger.id])" autocomplete="off" onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false">
                                            </mat-form-field>
                                            <div *ngIf="submitted && 'passengerAge'+saveTravellerId[passenger.id].errors && 'passengerAge'+saveTravellerId[passenger.id].touched" class="error">
                                                <small *ngIf="passengerForm.hasError('required','passengerAge'+saveTravellerId[passenger.id])">Please
                                                enter age.</small>
                                                <small *ngIf="passengerForm.hasError('pattern','passengerAge'+saveTravellerId[passenger.id])">Age should
                                                be numeric.</small>
                                                <small *ngIf="passengerForm.hasError('min','passengerAge'+saveTravellerId[passenger.id])">{{ageValidErrorArr[saveTravellerId[passenger.id]]}}</small>
                                                <small *ngIf="passengerForm.hasError('max','passengerAge'+saveTravellerId[passenger.id])">{{ageValidErrorArr[saveTravellerId[passenger.id]]}}</small>
                                            </div>
                                        </div>
                                        <div class="inner_input">
                                            <mat-form-field class="matField_full_width" appearance="fill">
                                                <mat-label>Seat Preference</mat-label>
                                                <select matNativeControl formControlName="passengerBerthChoice{{saveTravellerId[passenger.id]}}">
                                                    <option value="">No Preference</option>
                                                    <option *ngFor="let each of applicableBerthTypes" value="{{each}}">{{masterBerth[each]}}</option>
                                                </select>
                                            </mat-form-field>
                                        </div>
                                        <div class="inner_input">
                                            <mat-form-field class="matField_full_width" appearance="fill">
                                                <mat-label>Country</mat-label>
                                                <select matNativeControl  [(ngModel)]="defaultCountryArr[saveTravellerId[passenger.id]]" (ngModelChange)="countrySelectAddMore(saveTravellerId[passenger.id])" formControlName="passengerNationality{{saveTravellerId[passenger.id]}}">
                                                <option *ngFor="let each of countries" [value]="each.countryCode"> {{each.country}}</option>
                                                </select>
                                            </mat-form-field>
                                        </div>
                                        </div>
                                    </div>
                                    <div class="traveler-details-info">
                                        <div class="row contact-form">
                                        <div class="col-12 col-md-6" *ngIf="showTravelDocumentAddMore[saveTravellerId[passenger.id]]">
                                            <mat-form-field class="matField_full_width" appearance="fill">
                                                <mat-label>Travel Document</mat-label>
                                                <mat-select placeholder="" formControlName="passengerTravelDocument{{saveTravellerId[passenger.id]}}">
                                                    <mat-option value="PASSPORT"> PASSPORT/TRAVEL DOCUMENT</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                            <div *ngIf="submitted && passengerForm.controls['passengerTravelDocument'+saveTravellerId[passenger.id]]['errors'] &&passengerForm.controls['passengerTravelDocument'+saveTravellerId[passenger.id]]['touched']" class="error">
                                                <small *ngIf="passengerForm.hasError('required','passengerTravelDocument'+saveTravellerId[passenger.id])">Please
                                                enter travel document.</small>
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-12" *ngIf="showTravelDocumentAddMore[saveTravellerId[passenger.id]]">
                                            <mat-form-field class="matField_full_width" appearance="fill">
                                                <mat-label>Passport No</mat-label>
                                                <input matInput placeholder="" formControlName="passengerTravelDocCardNo{{saveTravellerId[passenger.id]}}" maxlength="{{maxPassportLength}}" autocomplete="off" onDrag="return false" onDrop="return false" (keypress)="specialcharInput($event)" (keyup)="convertToUpperCase($event)">
                                            </mat-form-field>
                                            <div *ngIf="submitted && passengerForm.controls['passengerTravelDocCardNo'+saveTravellerId[passenger.id]]['errors'] &&passengerForm.controls['passengerTravelDocCardNo'+saveTravellerId[passenger.id]]['touched']" class="error">
                                                <small *ngIf="passengerForm.hasError('required','passengerTravelDocCardNo'+saveTravellerId[passenger.id])">Please
                                                enter passport number.</small>
                                                <small *ngIf="passengerForm.hasError('minlength','passengerTravelDocCardNo'+saveTravellerId[passenger.id])">Please
                                                enter atleast {{minPassportLength}} characters.</small>
                                                <small *ngIf="passengerForm.hasError('pattern','passengerTravelDocCardNo'+saveTravellerId[passenger.id])">Please
                                                enter valid passport number.</small>
                                            </div>
                                        </div>
                                        </div>
                                        <div class="row contact-form" *ngIf="showTravelDocumentAddMore[saveTravellerId[passenger.id]]">
                                        <div class="col-md-6">
                                            <mat-form-field class="matField_full_width" appearance="fill">
                                                <mat-label>Date of Birth(DD-MM-YYYY)</mat-label>
                                                <input matInput [matDatepicker]="picker2" disabled formControlName="foreignPassengerDOB{{saveTravellerId[passenger.id]}}" [min]="calenderminDate" [max]="calendermaxDate">
                                                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                                <mat-datepicker #picker2 disabled="false"></mat-datepicker>
                                            </mat-form-field>
                                        </div>
                                        </div>
                                        <div class="row contact-form">
                                        <div class="col-12 col-md-6" *ngIf="foodChoiceEnabled">
                                            <mat-form-field class="matField_full_width" appearance="fill">
                                                <mat-label>Meal Preference</mat-label>
                                                <mat-select placeholder="" formControlName="passengerMealPreference{{saveTravellerId[passenger.id]}}">
                                                    <mat-option *ngFor="let each of foodDetails" [value]="each"> {{masterFood[each]}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                            <div *ngIf="submitted && passengerForm.controls['passengerMealPreference'+saveTravellerId[passenger.id]]['errors']" class="error">
                                                <small *ngIf="passengerForm.controls['passengerMealPreference'+saveTravellerId[passenger.id]]['errors']['required']">Food
                                                Choice is required.</small>
                                            </div>
                                        </div>
                                        <div class="col-12 col-md-6" *ngIf="seniorCitizenEnabledArr[saveTravellerId[passenger.id]] && seniorCitizenApplicableArr[saveTravellerId[passenger.id]]">
                                            <mat-form-field class="matField_full_width" appearance="fill">
                                                <mat-label>Senior Citizen Concession</mat-label>
                                                <mat-select placeholder="" formControlName="passengerSeniorCitizen{{saveTravellerId[passenger.id]}}">
                                                    <mat-option value="1"> Avail Concession </mat-option>
                                                    <mat-option value="2"> Forgo 50% Concession </mat-option>
                                                    <mat-option value="3"> Forgo full Concession </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                            <div *ngIf="submitted && passengerForm.controls['passengerSeniorCitizen'+saveTravellerId[passenger.id]]['errors']" class="error">
                                                <small *ngIf="passengerForm.controls['passengerSeniorCitizen'+saveTravellerId[passenger.id]]['errors']['required']">Please select Senior citizen concession.</small>
                                            </div>
                                        </div>
                                        </div>
                                        <p *ngIf="optChildBerthStatusArr[saveTravellerId[passenger.id]]"> <label class="checkbox">Opt Child Berth
                                        <input type="checkbox" (click)="optChildBerth($event)" [checked]="ladiesQuotaTrue"
                                        formControlName="optChildBerth{{saveTravellerId[passenger.id]}}" id="optChildBerth{{saveTravellerId[passenger.id]}}" >
                                        <span class="checkmark"></span>
                                        </label>
                                        </p>
                                        <p *ngIf="optBedRollStatus"> <label class="checkbox">Opt Bed Roll
                                        <input type="checkbox" (change)="optBedRoll($event,i)"
                                            formControlName="optBedRoll{{saveTravellerId[passenger.id]}}">
                                        <span class="checkmark"></span>
                                        </label>
                                        </p>
                                    </div>
                                
                                   
                              
                            </ng-container> 
                            </div>  
                        </li>
                      </span>  
                    </ul>
                    <div>
                        <p class="view_more_btn" *ngIf="!isAdultExpanded && adulttravellerlist && adulttravellerlist.length >3 " ><a href="javascript:;" (click)="expandItemsAdult()">View More</a></p>
                    </div>
                </div>
            </div>
               <div class="add_new_traveler" *ngIf="travellersArrayM.length>0 || childrenArrayM.length>0" >
                <p class="title pb-10">Traveller details</p>
                <div *ngIf="travellersArrayM.length>0">
                
                <!--Manaual Passenger Adult-->
                <ng-container  *ngFor="let traveller of travellersArrayM; index as i; trackBy: trackByTraveller;let last = last;" >
                    <p class="my-2">Traveller {{i+1}} 
                        <span class="remove-traveller float-right text-right" (click)="removeTraveller(traveller,-1)" *ngIf="travellersArray.length > 1"><i class="material-icons" style="color: #007bff;position: relative;top: -7px;">close</i> </span>
                    </p>

                    <div>
                        <div class="travel_details contact-form edit_traveller_sec">
                        <div class="inner_input">
                           <mat-form-field class="matField_full_width" appearance="fill">
                              <mat-label>Passenger Name</mat-label>
                              <input matInput placeholder="Name" formControlName="passengerName{{traveller}}" (keypress)="flInput($event)" maxlength="{{maxNameLength}}" autocomplete="off" onDrag="return false" onDrop="return false">
                           </mat-form-field>
                           <div *ngIf="submitted && 'passengerName'+traveller.errors && 'passengerName'+traveller.touched" class="error">
                              <small *ngIf="passengerForm.hasError('required','passengerName'+traveller)">Please enter
                              name.</small>
                              <small *ngIf="passengerForm.hasError('pattern','passengerName'+traveller)">Please enter
                              valid name.</small>
                              <small *ngIf="passengerForm.hasError('minlength','passengerName'+traveller)">Please enter
                              atleast {{minNameLength}} character.</small>
                              <small *ngIf="passengerForm.hasError('maxlength','passengerName'+traveller)">Please enter
                              atleast {{maxNameLength}} character.</small>
                           </div>
                        </div>
                        <div class="inner_input gender_sec">
                           <mat-form-field class="matField_full_width" appearance="fill">
                              <mat-label>Gender</mat-label>
                              <select matNativeControl [(ngModel)]="genderSelectArr[traveller]" (ngModelChange)="seniorCitizenArr(genderSelectArr[traveller],traveller)" formControlName="passengerGender{{traveller}}">
                              <option value="M">Male</option>
                              <option value="F">Female</option>
                              <option value="T">Transgender</option>
                              </select>
                           </mat-form-field>
                           <div *ngIf="submitted && 'passengerGender'+traveller.errors && 'passengerGender'+traveller.touched" class="error">
                              <small *ngIf="passengerForm.hasError('required','passengerGender'+traveller)">Please
                              select gender.</small>
                           </div>
                        </div>
                        <div class="inner_input age_sec">
                           <mat-form-field class="matField_full_width" appearance="fill">
                              <mat-label>Age</mat-label>
                              <input matInput placeholder="Age" formControlName="passengerAge{{traveller}}" maxlength="3" (keypress)="numberInput($event)" (keyup)="maxAgeLimitArr(traveller)" autocomplete="off" onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false">
                           </mat-form-field>
                           <div *ngIf="submitted && 'passengerAge'+traveller.errors && 'passengerAge'+traveller.touched" class="error">
                              <small *ngIf="passengerForm.hasError('required','passengerAge'+traveller)">Please
                              enter age.</small>
                              <small *ngIf="passengerForm.hasError('pattern','passengerAge'+traveller)">Age should
                              be numeric.</small>
                              <small *ngIf="passengerForm.hasError('min','passengerAge'+traveller)">{{ageValidErrorArr[traveller]}}</small>
                              <small *ngIf="passengerForm.hasError('max','passengerAge'+traveller)">{{ageValidErrorArr[traveller]}}</small>
                           </div>
                        </div>
                        <div class="inner_input">
                           <mat-form-field class="matField_full_width" appearance="fill">
                              <mat-label>Seat Preference</mat-label>
                              <select matNativeControl formControlName="passengerBerthChoice{{traveller}}">
                                 <option value="">No Preference</option>
                                 <option *ngFor="let each of applicableBerthTypes" value="{{each}}">{{masterBerth[each]}}</option>
                              </select>
                           </mat-form-field>
                        </div>

                        <div class="inner_input">
                           <mat-form-field class="matField_full_width" appearance="fill">
                              <mat-label>Country</mat-label>
                              <select matNativeControl  [(ngModel)]="defaultCountryArr[traveller]" (ngModelChange)="countrySelectAddMore(traveller)" formControlName="passengerNationality{{traveller}}">
                              <option *ngFor="let each of countries" [value]="each.countryCode"> {{each.country}}</option>
                              </select>
                           </mat-form-field>
                        </div>
                     </div>
                     </div>
                     <div class="traveler-details-info">
                        <div class="row contact-form">
                           <div class="col-12 col-md-6" *ngIf="showTravelDocumentAddMore[traveller]">
                              <mat-form-field class="matField_full_width" appearance="fill">
                              <mat-label>Travel Document</mat-label>
                                 <mat-select placeholder="" formControlName="passengerTravelDocument{{traveller}}">
                                    <mat-option value="PASSPORT"> PASSPORT/TRAVEL DOCUMENT</mat-option>
                                 </mat-select>
                              </mat-form-field>
                              <div *ngIf="submitted && passengerForm.controls['passengerTravelDocument'+traveller]['errors'] &&passengerForm.controls['passengerTravelDocument'+traveller]['touched']" class="error">
                                 <small *ngIf="passengerForm.hasError('required','passengerTravelDocument'+traveller)">Please
                                 enter travel document.</small>
                              </div>
                           </div>
                           <div class="col-md-6 col-12" *ngIf="showTravelDocumentAddMore[traveller]">
                              <mat-form-field class="matField_full_width" appearance="fill">
                              <mat-label>Passport No</mat-label>
                                 <input matInput placeholder="" formControlName="passengerTravelDocCardNo{{traveller}}" maxlength="{{maxPassportLength}}" autocomplete="off" onDrag="return false" onDrop="return false" (keypress)="specialcharInput($event)" (keyup)="convertToUpperCase($event)">
                              </mat-form-field>
                              <div *ngIf="submitted && passengerForm.controls['passengerTravelDocCardNo'+traveller]['errors'] &&passengerForm.controls['passengerTravelDocCardNo'+traveller]['touched']" class="error">
                                 <small *ngIf="passengerForm.hasError('required','passengerTravelDocCardNo'+traveller)">Please
                                 enter passport number.</small>
                                 <small *ngIf="passengerForm.hasError('minlength','passengerTravelDocCardNo'+traveller)">Please
                                 enter atleast {{minPassportLength}} characters.</small>
                                 <small *ngIf="passengerForm.hasError('pattern','passengerTravelDocCardNo'+traveller)">Please
                                 enter valid passport number.</small>
                              </div>
                           </div>
                        </div>
                        <div class="row contact-form" *ngIf="showTravelDocumentAddMore[traveller]">
                           <div class="col-md-6">
                              <mat-form-field class="matField_full_width" appearance="fill">
                                 <mat-label>Date of Birth(DD-MM-YYYY)</mat-label>
                                 <input matInput [matDatepicker]="picker2" disabled formControlName="foreignPassengerDOB{{traveller}}" [min]="calenderminDate" [max]="calendermaxDate">
                                 <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                 <mat-datepicker #picker2 disabled="false"></mat-datepicker>
                              </mat-form-field>
                           </div>
                        </div>
                        <div class="row contact-form">
                           <div class="col-12 col-md-6" *ngIf="foodChoiceEnabled">
                              <mat-form-field class="matField_full_width" appearance="fill">
                                 <mat-label>Meal Preference</mat-label>
                                 <mat-select placeholder="" formControlName="passengerMealPreference{{traveller}}">
                                    <mat-option *ngFor="let each of foodDetails" [value]="each"> {{masterFood[each]}}
                                    </mat-option>
                                 </mat-select>
                              </mat-form-field>
                              <div *ngIf="submitted && passengerForm.controls['passengerMealPreference'+traveller]['errors']" class="error">
                                 <small *ngIf="passengerForm.controls['passengerMealPreference'+traveller]['errors']['required']">Food
                                 Choice is required.</small>
                              </div>
                           </div>
                           <div class="col-12 col-md-6" *ngIf="seniorCitizenEnabledArr[traveller] && seniorCitizenApplicableArr[traveller]">
                              <mat-form-field class="matField_full_width" appearance="fill">
                                 <mat-label>Senior Citizen Concession</mat-label>
                                 <mat-select placeholder="" formControlName="passengerSeniorCitizen{{traveller}}">
                                    <mat-option value="1"> Avail Concession </mat-option>
                                    <mat-option value="2"> Forgo 50% Concession </mat-option>
                                    <mat-option value="3"> Forgo full Concession </mat-option>
                                 </mat-select>
                              </mat-form-field>
                              <div *ngIf="submitted && passengerForm.controls['passengerSeniorCitizen'+traveller]['errors']" class="error">
                                 <small *ngIf="passengerForm.controls['passengerSeniorCitizen'+traveller]['errors']['required']">Please select Senior citizen concession.</small>
                              </div>
                           </div>
                        </div>
                        <p *ngIf="optChildBerthStatusArr[traveller]"> <label class="checkbox">Opt Child Berth
                           <input type="checkbox" (click)="optChildBerth($event)" [checked]="ladiesQuotaTrue"
                           formControlName="optChildBerth{{traveller}}" id="optChildBerth{{traveller}}" >
                           <span class="checkmark"></span>
                           </label>
                        </p>
                        <p *ngIf="optBedRollStatus"> <label class="checkbox">Opt Bed Roll
                           <input type="checkbox" (change)="optBedRoll($event,i)"
                              formControlName="optBedRoll{{traveller}}">
                           <span class="checkmark"></span>
                           </label>
                        </p>
                     </div>             
                                
                </ng-container> 
                
                </div>

                <div *ngIf="childrenArrayM && childrenArrayM.length > 0">
                      <ng-container  *ngFor="let traveller of childrenArrayM; index as i; trackBy: trackByTraveller;let last = last;" >
                        <p class="my-2">Infant {{i+1}} 
                            <span class="remove-traveller" (click)="removeChild(traveller,-1)" ><i class="material-icons" style="color: #007bff;position: relative;top: -7px;">close</i> </span>
                        </p>
                              <div class="travel_details contact-form edit_traveller_sec">
                                <div class="inner_input">
                                    <mat-form-field class="matField_full_width" appearance="fill">
                                        <mat-label>Name</mat-label>
                                         <input matInput placeholder="Name" formControlName="childName{{traveller}}" (keypress)="flInput($event)" maxlength="{{maxNameLength}}" autocomplete="off" onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false">
                                    </mat-form-field>
                                     <div *ngIf="submitted && passengerForm.controls['childName'+traveller]['errors'] && passengerForm.controls['childName'+traveller]['touched'] " class="error">
                                                        <small *ngIf="passengerForm.hasError('required','childName'+traveller)">Please enter
                              name.</small>
                                                        <small *ngIf="passengerForm.hasError('pattern','childName'+traveller)">Please enter valid
                              name.</small>
                                                        <small *ngIf="passengerForm.hasError('minlength','childName'+traveller)">Please enter atleast
                              {{minNameLength}} character.</small>
                                                    </div>
                                </div>
                                <div class="inner_input gender_sec">
                                  <mat-form-field class="matField_full_width" appearance="fill">
                                        <mat-label>Gender</mat-label>
                                        <select matNativeControl formControlName="childGender{{traveller}}">
                                          <option value="M">Male</option>
                                          <option value="F">Female</option>
                                         <option value="T">Transgender</option> 
                                        </select>
                                      </mat-form-field>
                                     <div *ngIf="submitted && passengerForm.controls['childGender'+traveller]['errors'] && passengerForm.controls['childGender'+traveller]['touched']" class="error">
                                                                <small *ngIf="passengerForm.hasError('required','childGender'+traveller)">Please select
                                  gender.</small>
                                                            </div>
                                </div>
                                <div class="inner_input ">
                                   <mat-form-field class="matField_full_width" appearance="fill">
                                        <mat-label>Age</mat-label>
                                        <select matNativeControl formControlName="childAge{{traveller}}">
                                          <option value="0">Below One Year</option>
                                          <option value="1">One year</option>
                                          <option value="2">Two years</option>
                                           <option value="3">Three years</option>
                                            <option value="4">Four years</option>
                                        </select>
                                      </mat-form-field>
                                     <div *ngIf="submitted && passengerForm.controls['childAge'+traveller]['errors'] && passengerForm.controls['childAge'+traveller]['touched']" class="error">
                                                                <small *ngIf="passengerForm.hasError('required','childAge'+traveller)">Please select
                                  age.</small>
                                                            </div>  
                                </div>
                                
                            </div>
                             </ng-container>
                </div>

                
            </div>
            
            
             <div class="my-4">
                <div class="row">
                    <div class="col-6">
                        <div class="w-50">
                            <a class="btn btn-outline radius_8 btn_outline_a" (click)="manualAddTraveller(1)" >Add New Traveller</a>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="w-50 float-right">
                            <a class="btn btn-outline radius_8 btn_outline_a"  (click)="manualAddTraveller(2)">Add New Infant</a>
                        </div>
                    </div>
                </div>
             </div>
        </div>
        <div>
        
        
            <div class="contact-details " *ngIf="showDestAddressBox">
                <div class="contact-header">
                   <h5><b class="des_title">Your Destination Address</b></h5>
                   <!-- <p>Your ticket and PNR number will be sent to</p> -->
                </div>
                <div class="row contact-form">
                   <div class="col-lg-3 col-md-3 col-12">
                      <mat-form-field class="matField_full_width" appearance="fill">
                        <mat-label>Address 1 *</mat-label>
                         <input matInput placeholder="Enter Address1" formControlName="destAddressOne" autocomplete="nope">
                      </mat-form-field>
                      <div *ngIf="(submitted && passengerForm.controls.destAddressOne.errors) || (passengerForm.controls.destAddressOne.touched)" class="error">
                         <small *ngIf="passengerForm.hasError('required','destAddressOne')">Please enter address 1</small>
                         <small *ngIf="passengerForm.hasError('pattern','destAddressOne')">Please enter a valid address</small>
                      </div>
                   </div>
                   <div class="col-lg-3 col-md-3 col-12">
                      <mat-form-field class="matField_full_width" appearance="fill">
                        <mat-label>Address 2 (Optional)</mat-label>
                         <input matInput placeholder="Enter Address2" formControlName="destAddressTwo" autocomplete="nope">
                      </mat-form-field>
                      <div *ngIf="(submitted && passengerForm.controls.destAddressTwo.errors) || (passengerForm.controls.destAddressTwo.touched)" class="error">
                         <small *ngIf="passengerForm.hasError('pattern','destAddressTwo')">Please enter a valid address</small>
                      </div>
                   </div>
                   <div class="col-lg-3 col-md-3 col-12">
                      <mat-form-field class="matField_full_width" appearance="fill">
                        <mat-label>Address 3 (Optional) </mat-label>
                         <input matInput placeholder="Enter Address3" formControlName="destAddressThree" autocomplete="nope">
                      </mat-form-field>
                      <div *ngIf="(submitted && passengerForm.controls.destAddressThree.errors) || (passengerForm.controls.destAddressThree.touched)" class="error">
                         <small *ngIf="passengerForm.hasError('pattern','destAddressThree')">Please enter a valid address</small>
                      </div>
                   </div>
                   <div class="col-lg-3 col-md-3 col-12">
                      <mat-form-field class="matField_full_width" appearance="fill">
                        <mat-label>PIN *</mat-label>
                         <input matInput placeholder="Enter Pin" formControlName="destAddressPin" maxlength="6" (keypress)="numberInput($event)" autocomplete="off" onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false" (keyup)="getDestCity($event)">
                      </mat-form-field>
                      <div *ngIf="(submitted && passengerForm.controls.destAddressPin.errors) || (passengerForm.controls.destAddressPin.touched)" class="error">
                         <small *ngIf="passengerForm.hasError('required','destAddressPin')">Please enter PIN code.</small>
                         <small *ngIf="passengerForm.hasError('minlength','destAddressPin')">Please enter a valid PIN code.</small>
                      </div>
                      <div *ngIf="destpincodeError" class="error">
                         <small>{{destpincodeError}}</small>
                      </div>
                   </div>
                   <div class="col-lg-3 col-md-3 col-12">
                      <mat-form-field class="matField_full_width" appearance="fill">
                        <mat-label>State * </mat-label>
                         <input matInput placeholder="" formControlName="destAddressState" autocomplete="nope" [(ngModel)]="destState" readonly value={{destState}}>
                      </mat-form-field>
                      <div *ngIf="(submitted && passengerForm.controls.destAddressState.errors) || (passengerForm.controls.destAddressState.touched)" class="error">
                         <small *ngIf="passengerForm.hasError('required','destAddressState')">Please select a state.</small>
                      </div>
                   </div>
                   <div class="col-lg-3 col-md-3 col-12">
                      <mat-form-field class="matField_full_width" appearance="fill">
                        <mat-label>Select city * </mat-label>
                         <mat-select placeholder="" formControlName="destAddressCity" autocomplete="nope" [(ngModel)]="destAddressCity">
                         <mat-option *ngFor="let city of destCityList" [value]="city" (onSelectionChange)="getcitypostoffice(city)"> {{city}} </mat-option>
                         </mat-select>
                      </mat-form-field>
                      <div *ngIf="(submitted && passengerForm.controls.destAddressCity.errors) || (passengerForm.controls.destAddressCity.touched)" class="error">
                         <small *ngIf="passengerForm.hasError('required','destAddressCity')">Please select a city.</small>
                      </div>
                   </div>
                   <div class="col-lg-3 col-md-3 col-12">
                      <mat-form-field class="matField_full_width" appearance="fill">
                        <mat-label>Post Office * </mat-label>
                         <mat-select placeholder="" formControlName="destAddressPost" autocomplete="nope">
                            <mat-option *ngFor="let post of postofficeList" [value]="post"> {{post}} </mat-option>
                         </mat-select>
                      </mat-form-field>
                      <div *ngIf="(submitted && passengerForm.controls.destAddressPost.errors) || (passengerForm.controls.destAddressPost.touched)" class="error">
                         <small *ngIf="passengerForm.hasError('required','destAddressPost')">Please select a post office.</small>
                      </div>
                   </div>
                </div>
             </div>

        
        
        
        
        
        
            <div class="contact_sec">
                <div class="mb-3">
                    <h4 class="title">Contact details</h4>
                    <p class="note_text">Your booking details will be sent here.</p>
                </div>
                <div class="row contact-form">
                    <div class="col-sm-6 col-12">
                        <div class="">
                            <mat-form-field class="matField_full_width" appearance="fill">
                                <mat-label>Email</mat-label>
                                <input matInput formControlName="passengerEmail" name="passengerEmail" id="passengerEmail" (keypress)="AvoidSpace($event)" autocomplete="off" >
                            </mat-form-field>
                            <div *ngIf="(submitted && passengerForm.controls.passengerEmail.errors) || (passengerForm.controls.passengerEmail.touched)" class="error">
                                                <small *ngIf="passengerForm.hasError('required','passengerEmail')">Please enter email
                          address.</small>
                                                <small *ngIf="passengerForm.hasError('pattern','passengerEmail')">Please enter a valid email id.
                        </small>
                                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-12">
                        <div class="">
                            <mat-form-field class="matField_full_width" appearance="fill">
                                <mat-label>Mobile Number</mat-label>
                                <input matInput formControlName="passengerMobile" (keypress)="numberInput($event)" autocomplete="off" maxlength="10" >
                            </mat-form-field>
                              <div *ngIf="(submitted && passengerForm.controls.passengerMobile.errors) || (passengerForm.controls.passengerMobile.touched)" class="error">
                                                <small *ngIf="passengerForm.hasError('required','passengerMobile')">Please enter mobile
                          number.</small>
                                                <small *ngIf="passengerForm.hasError('minlength','passengerMobile')">Please enter min 10
                          Digits.</small>
                                                <small *ngIf="passengerForm.hasError('pattern','passengerMobile')">Please enter a valid ten
                          digits mobile number.</small>
                                             
                                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="toggle_switch d-flex align-items-center" *ngIf="whatsappFeature==1">
                        <span class="">Send my booking information through <span><i class="fa fa-whatsapp pr-1" aria-hidden="true"></i></span>WhatsApp</span>
                        <div class="switch">
                         <input type="checkbox" id="whatsappFlag" checked formControlName="whatsappFlag" name="whatsappFlag" value="true">
                           <label for="whatsappFlag"></label>
                         </div>
                     </div>
                </div>
                <div>
                
                
                
                
                <div class="">
                    <p class="mt-3"> <label class="checkbox">Additional Preferences (Optional)
                    <input type="checkbox" (click)="autoUpgrade($event)" formControlName="AdditionalPreference">
                    <span class="checkmark"></span>
                    </label>
                    </p>
                <div class="gst-optional-data" *ngIf="addshow">
                <div class="">
                <div>
                <p> <label class="checkbox">Consider for Auto Upgradation
                <input type="checkbox" formControlName="passengerAutoUpgradation" value="0">
                <span class="checkmark"></span>
                </label>
                </p>
                </div>
                <div *ngIf="vikalpInSpecialTrainsAccomFlag" class="">
                <p> <label class="checkbox">Opted for VIKALP
                <input type="checkbox" formControlName="vikalpInSpecialTrainsAccomFlag">
                <span class="checkmark"></span>
                </label>
                </p>
                </div>
                <div class="add-title">Reservation choice</div>
                <div class="res-area">
                <label for="res-none" class="radio">
                <input type="radio" formControlName="passengerReservationCh" name="passengerReservationCh"
                value="99" class="hidden" id="res-none" [checked]="true"
                (change)="passengerReservationChoiceFun($event)" />
                <span class="label"></span>
                <span class="res-option">None</span>
                </label>
                <label for="res-all" class="radio">
                <input type="radio" formControlName="passengerReservationCh" name="passengerReservationCh"
                value="1" class="hidden" id="res-all" (change)="passengerReservationChoiceFun($event)" />
                <span class="label"></span>
                <span class="res-option">Book only if all berths are alloted in same coach</span>
                </label>
                <label for="res-one" class="radio">
                <input type="radio" formControlName="passengerReservationCh" name="passengerReservationCh"
                value="2" class="hidden" id="res-one" (change)="passengerReservationChoiceFun($event)" />
                <span class="label"></span>
                <span class="res-option">Book only if atleast 1 lower berth is allotted</span>
                </label>
                <label for="res-two" class="radio">
                <input type="radio" formControlName="passengerReservationCh" name="passengerReservationCh"
                value="3" class="hidden" id="res-two" (change)="passengerReservationChoiceFun($event)" />
                <span class="label"></span>
                <span class="res-option">Book only if 2 lower berths are allotted</span>
                </label>
                <label for="res-three" class="radio">
                <input type="radio" formControlName="passengerReservationCh" name="passengerReservationCh"
                value="4" class="hidden" id="res-three" (change)="passengerReservationChoiceFun($event)" />
                <span class="label"></span>
                <span class="res-option">Book only if tickets are confirmed</span>
                </label>

                <div class="col-12 contact-form">
                <mat-form-field  class="matField_full_width" appearance="fill">
                    <mat-label>Coach Preference</mat-label>
                    <input matInput (keypress)="AvoidSpace($event);specialcharInput($event)" placeholder="Enter Coach No" (keyup)="convertToUpperCase($event)" formControlName="coachId" autocomplete="off" maxlength="4">
                </mat-form-field>
                </div>
                <div *ngIf="(submitted && passengerForm.controls['coachId']['errors']) || passengerForm.controls['coachId']['touched']" class="error">
                <small *ngIf="passengerForm.hasError('pattern','coachId')" class="pl-3">Please enter valid coach
                number.</small>
                <small *ngIf="passengerForm.hasError('minlength','coachId')" class="pl-3">Please enter atleast 2
                characters.</small>
                <small *ngIf="passengerForm.hasError('maxlength','coachId')" class="pl-3">Please enter maximum 4
                characters.</small>
                </div>

                </div>
                <div class="imp-note">
                <p><span class="note-one"> IMPORTANT </span> <span class="note-two"> The booking will fail if
                the specified berth choice or coach number is not available.</span> </p>
                </div>

                </div>
                </div>
                </div>
                
                
            
                    <div class="gst_sec">
                        <div class="mb-3">
                            <h4 class="title">GST number for business travel (Optional)</h4>
                            <p class="note_text">To claim credit of GST charged by airlines / SmartBuy, please enter your companyâ€™s GST number</p>
                        </div>
                        <div class="col-sm-5 gst-form pl-0 col-12">
                            <mat-form-field class="matField_full_width" appearance="fill">
                                <mat-label>GST Number</mat-label>
                                <input matInput placeholder="" formControlName="gstNumber" name="gstNumber" id="gstNumber" minlength="15" maxlength="15" autocomplete="off" (keypress)="AvoidSpace($event)" (keypress)="specialcharInputAddress($event)" (keyup)="convertToUpperCase($event);" (input)="gstNumberCheck($event)" >
                            </mat-form-field>
                             <div *ngIf="submitted && passengerForm.controls.gstNumber.errors && passengerForm.controls.gstNumber.touched" class="error">
                                <small *ngIf="passengerForm.controls.gstNumber.errors.required">Please enter gst number.</small>
                                <small *ngIf="passengerForm.controls.gstNumber.errors.pattern">Please enter valid gst
                                number.</small>
                            </div>
                        </div>
                    </div>
                    
                    
                    <div class="gst-optional-data row contact-form" *ngIf="gstshow">
                        <div class=" col-md-8">
                           <ng-container *ngIf="getGSTShow">
                              <div class="message-trav">
                                 <button type="button" class="travel-title btn" (click)="openmodal(content)">Choose from Saved GSTs</button>
                              </div>
                           </ng-container>
                        </div>
                        <ng-template #content let-modal>
                           <div class="modal-header modal-inside-header">
                              <h5 class="modal-title">Choose from Saved GSTs</h5>
                           </div>
                           <div class="modal-body">
                              <div class="col-lg-12 col-md-6 col-12">
                                 <p> <label class="checkbox" *ngFor="let data of GSTList | slice:0:5;let GSTIndex = index">{{data.gstName}}
                                    <input type="radio" name="GSTList" (change)="fillupGSTDetailOnCheck($event,data,GSTIndex)" [checked]="gstmodalcheckedvalue[GSTIndex]">
                                    <span class="checkmark"></span>
                                    </label>
                                 </p>
                                 <ng-container *ngIf="isGstExpanded">
                                    <ng-container *ngFor="let gstexpandedItem of GSTList; let i = index">
                                       <p *ngIf="i > 5">
                                          <label class="checkbox">{{gstexpandedItem.gstName}}
                                          <input type="radio" name="GSTList" (change)="fillupGSTDetailOnCheck($event,gstexpandedItem,i)" [checked]="gstmodalcheckedvalue[i]">
                                          <span class="checkmark"></span>
                                          </label>
                                       </p>
                                    </ng-container>
                                 </ng-container>
                                 <p *ngIf="GSTList.length > 5">
                                    <label class="checkbox pl-0">
                                    <a (click)="gstExpandItems()">
                                    {{!isGstExpanded ? 'View More &#x25BC;' : 'View Less &#x25B2;'}}
                                    </a>
                                    </label>
                                 </p>
                              </div>
                           </div>
                           <div class="modal-footer">
                              <button type="button" class="btn-c btn-primary" (click)="gstReset()">Reset</button>
                              <button type="button" class="btn-c btn-primary" (click)="modal.close()">Close</button>
                           </div>
                        </ng-template>
                        <div class="col-lg-6 col-md-6 col-12">
                           <mat-form-field  class="matField_full_width" appearance="fill">
                            <mat-label>Business Name</mat-label>
                              <input matInput placeholder="" formControlName="gstBusinessName" name="gstBusinessName" id="gstBusinessName" maxlength="30" autocomplete="off" (keypress)="specialcharInputAddress($event)">
                           </mat-form-field>
                           <div *ngIf="submitted && passengerForm.controls.gstBusinessName.errors" class="error">
                              <small *ngIf="passengerForm.controls.gstBusinessName.errors.required">Please enter business
                              name.</small>
                              <small *ngIf="passengerForm.controls.gstBusinessName.errors.pattern">Please enter valid name.</small>
                           </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-12">
                           <mat-form-field  class="matField_full_width" appearance="fill">
                            <mat-label>Business Address</mat-label>
                              <input matInput placeholder="" formControlName="gstAddress" name="gstAddress" id="gstAddress" maxlength="100" (keypress)="specialcharInputAddress($event)" autocomplete="off">
                           </mat-form-field>
                           <div *ngIf="submitted && passengerForm.controls.gstAddress.errors" class="error">
                              <small *ngIf="passengerForm.controls.gstAddress.errors.required">Please enter business
                              address.</small>
                              <small *ngIf="passengerForm.controls.gstAddress.errors.pattern">Please enter valid address.No
                              special characters allowed except / - ,</small>
                           </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-12">
                           <mat-form-field  class="matField_full_width" appearance="fill">
                            <mat-label>Pincode</mat-label>
                              <input matInput placeholder="" formControlName="gstPincode" name="gstPincode" id="gstPincode" (keypress)="AvoidSpace($event);numberInput($event)" (keyup)="getCityResidence($event)" minlength="6" maxlength="6" autocomplete="nope">
                           </mat-form-field>
                           <div *ngIf="submitted && passengerForm.controls.gstPincode.errors" class="error">
                              <small *ngIf="passengerForm.controls.gstPincode.errors.required">Please enter pincode.</small>
                              <small *ngIf="passengerForm.controls.gstPincode.errors.minlength">Please enter 6 digits [0-9]
                              pincode.</small>
                           </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-12">
                           <mat-form-field  class="matField_full_width" appearance="fill">
                            <mat-label>City / Town</mat-label>
                              <mat-select placeholder="" formControlName="gstCity" [(value)]="citySelect" [(ngModel)]="citySelect">
                              <mat-option *ngFor="let each of cityList" [value]="each"> {{each}} </mat-option>
                              </mat-select>
                           </mat-form-field>
                           <div *ngIf="submitted && passengerForm.controls.gstCity.errors" class="error">
                              <small *ngIf="passengerForm.controls.gstCity.errors.required">Please enter city name.</small>
                              <small *ngIf="passengerForm.controls.gstCity.errors.pattern">Please enter valid city
                              name. </small>
                           </div>
                        </div>
                        <div class="col-lg-6 col-md-6 col-12">
                           <mat-form-field  class="matField_full_width" appearance="fill">
                            <mat-label>State</mat-label>
                              <input matInput placeholder="" formControlName="gstState" name="gstState" id="gstState" (keypress)="flInput($event)" maxlength="20" autocomplete="off" [(ngModel)]="state" readonly="stateCheck" value={{state}}>
                           </mat-form-field>
                           <div *ngIf="submitted && passengerForm.controls.gstState.errors" class="error">
                              <small *ngIf="passengerForm.controls.gstState.errors.required">Please enter state name.</small>
                              <small *ngIf="passengerForm.controls.gstState.errors.pattern">Please enter valid state
                              name.</small>
                           </div>
                        </div>
                        <div class="col-lg-12 col-md-6 col-12" *ngIf="getGSTShow">
                           <p>
                              <label class="checkbox"><b>Save this GST</b>
                              <input type="checkbox" checked value="true" formControlName="saveGST"  id="gst_storage" >
                              <span class="checkmark"></span>
                              </label>
                           </p>
                           <span class="save_consent">I give consent to Reward360 to store personal information. Please <a href="javascript:;" (click)="saveGSTConsent()" >click here</a> for more information.</span>
                        </div>
                     </div>
                    
                    
                </div>
            </div>
        </div>
    </div>      
</div>

<div class="bottom_fareStrip">
    <div class="d-none d-sm-block">
        <div class="info">
            <div class="inner_item">
                <p class="trainNum">{{trainnumber}}</p>
                <p class="trainName">{{trainName}}</p>
            </div>
            <div class="inner_item">
                <div class="trainTimeInfo">
                        
                    <div class="fromStn">
                        <p>{{traveldate | date:'EEE, dd MMM'}} <span class="trainCode"> {{scheduletime}} </span> </p>
                        <p class="airportName">{{fromstnDesc}}</p>
                    </div>
                    <div class="px-3 text-center stripLine">
                        <hr  class="my-2 w-30-m" />
                    </div>
                    <div class="timeShow">
                        <p>{{travelDuration}}</p>
                    </div>
                    <div class="px-3 text-center stripLine">
                        <hr  class="my-2 w-30-m" />
                    </div>
                    <div class="toStn">
                        <p>  <span class="trainCode"> {{arrivalTime}}</span> {{journeyArrivalDate | date:'EEE, dd MMM'}}</p>
                        <p class="airportName">{{tostnDesc}}</p>
                    </div>
                   
                </div>
            </div>
            <div class="inner_item">
               <div class="d-flex seat_info">
                    <div class="text-right">
                        <p class="trainSeat" *ngIf="travellersArray.length==0">1 x  {{masterClasses[enqClass]}} ({{enqClass}})</p>
                        <p class="trainSeat" *ngIf="travellersArray.length > 0">{{travellersArray.length}} x  {{masterClasses[enqClass]}} ({{enqClass}})</p>
                        <p class="trainTag">Seat Selected</p>
                    </div>
                    <div>
                        <span class="v_line"></span>
                    </div>
                    <div>
                        <p class="price_sec"><span class="price">â‚¹{{(totalCollectibleAmount-0)+(pgCharges-0) | number : '1.2-2'}}</span> <!--<span class="pl-2 emi_text">EMI @ <b>â‚¹234</b>/month</span>--></p>
                        <p class="" style="color:#bbb"><span class="slashPrice"  *ngIf="coupon_amount>0.00">â‚¹{{(totalCollectibleAmountFromPartnerResponse-0)+(pgCharges-0) | number : '1.2-2'}} </span> <span class="pl-2 offerTag"  *ngIf="coupon_amount>0.00">{{((coupon_amount / totalCollectibleAmountFromPartnerResponse) * 100) | number : '1.0-0' }} % Off</span> <span *ngIf="coupon_amount>0.00"> | </span><a href="javascript:void(0)" class="fare_btn" (click)="openBottomSheet()">View fare details</a></p>
                    </div>
               </div>
            </div>
            <div class="inner_item">
                <div>
                    <button class="btn btn_primary_a radius_8" style="text-transform: capitalize;">Continue</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Mlite Code -->
    <div class="d-block d-sm-none">
        <div class="info_m">
            <div class="inner_item">
                <p class="trainCode">{{trainnumber}} | {{masterQuota[quota]}} | {{masterClasses[enqClass]}} ({{enqClass}}) </p>
                <p class="place">{{fromstnDesc}} to {{tostnDesc}}</p>
                <p class="price_sec my-2"><span class="price">â‚¹{{(totalCollectibleAmount-0)+(pgCharges-0) | number : '1.2-2'}}</span> <!--<span class="pl-2 emi_text">EMI @ <b>â‚¹234</b>/month</span>--><span class="slashPrice"  *ngIf="coupon_amount>0.00">â‚¹{{(totalCollectibleAmountFromPartnerResponse-0)+(pgCharges-0) | number : '1.2-2'}} </span> <span class="pl-2 offerTag"  *ngIf="coupon_amount>0.00">{{((coupon_amount / totalCollectibleAmountFromPartnerResponse) * 100) | number : '1.0-0' }} % Off</span> <span *ngIf="coupon_amount>0.00"> | </span> | <a href="javascript:void(0)" (click)="openBottomSheet()" class="fare_btn">View fare details</a></p>
            </div>
            <div class="inner_item">
                <div>
                    <button class="btn btn-primary radius_8" style="text-transform: capitalize;">Continue</button>
                </div>
            </div>
        </div>
    </div>
</div>
    </form>
  
</div>

<!--Review Section-->
<div *ngIf="steps==2" >
<!-- Review Booking code starts  -->
  <form [formGroup]="passengerForm" ngxScrollToFirstInvalid (ngSubmit)="passengerReview()" name="passengerForm">
<div >
    <div  class="container mpt-135">
        <p  class="mt-4 back_text" (click)="goBackSteps(1)"><span><i  aria-hidden="true" class="fa fa-arrow-left pr-2"></i></span><span>Go Back</span></p>
     </div>

    <div class="container iti_cnt">
        <div>
            <h5 class="title">Booking review</h5>
        </div>
        
        <div class="">
            <div class="train_sec_info">
                <div class="row mb-3">
                    <div class="col-10">
                        <p ><span class="train_name">{{trainName}}</span> <span class="num_sec">{{trainnumber}} | {{masterQuota[quota]}} | {{masterClasses[enqClass]}} ({{enqClass}})</span></p>
                    </div>
                    <div class="col-2 text-right">
                        <div>
                            <a href="javascript:;"  (click)="goBackSteps(1)"><img src="{{cdnUrl}}images/smartbuy/icons/edit_icon.svg"></a>
                        </div>
                    </div>
                </div>
                <div class="">
                    <div class="trainTimeInfo">
                    
                        <div class="fromStn">
                            <p>{{scheduletime}} <span class="trainCode"> {{traveldate | date:'EEE, dd MMM'}} </span> </p>
                            <p class="airportName">{{fromstnDesc}} </p>
                        </div>
                        <div class="px-3 text-center">
                            <hr  class="my-2 w-30-m" />
                        </div>
                        <div class="timeShow">
                            <p>{{travelDuration}}</p>
                           <p [attr.data-target]="'#irctc-jun-data'" (click) = "getSchedule(trainnumber)" data-toggle="modal">Show Route</p>
                        </div>
                        <div class="px-3 text-center">
                            <hr  class="my-2 w-30-m" />
                        </div>
                        <div class="toStn">
                            <p>  <span class="trainCode"> {{journeyArrivalDate | date:'EEE, dd MMM'}} </span> {{arrivalTime}} </p>
                            <p class="airportName">{{tostnDesc}}</p>
                        </div>
                       
                    </div>
                </div>
                <div class="">
                    <div class="border_top">
                        <div class="row pt-10">
                            <div class="col-6">
                                <p class="lab_text">Boarding Station</p>
                            </div>
                            <div class="col-6">
                                <p class="board_stn">{{boardingstnName}} <span><a href="javascript:;"  (click)="goBackSteps(1)">Change</a></span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <div class="irctc_edit">
                <div class="part_one">
                    <p class="lab_text">IRCTC Username</p>
                    <p><span class="irc_id pr-3">{{IRCTCUserId}}</span><span class="f-12"><a href="javascript:;"  (click)="goBackSteps(1)">Use another ID</a></span></p>
                </div>
                <div class="part_two">
                    <p class="note_text"> Note:</p>
                    <p class="nrm_text">Please make sure that you remember your IRCTC password as you need to confirm 
                        you booking. Incase you donâ€™t, you can reset your password <a href="javascript:;" (click)="resetPassword()">here</a></p>
                </div>
            </div>
        </div>
        <div>
            <div class="board_sec mb-3">
                <div class="">
                    <h4 class="title">Traveller details 
                        <span>
                           <span>{{passengerItineraryDetails.passengerList.length}} adult(s)<span *ngIf="passengerItineraryDetails.infantList.length>0">, {{passengerItineraryDetails.infantList.length}} child</span></span> <a href="javascript:;"  (click)="goBackSteps(1)" class="pl-2"><img src="{{cdnUrl}}images/smartbuy/icons/edit_icon.svg"></a>
                        </span>
                    </h4>
                </div>
                <div class="selectTravelers_sec">
                    <div>
                        <ul class="travellers_list">
                            <p class="title_pass pb-10">Adults</p>
                                <div class="table-responsive">
                                    <table class="table table-borderless pass_list_table">
                                        <thead>
                                        <tr>
                                            <th scope="col">Name</th>
                                            <th scope="col">Gender</th>
                                            <th scope="col">Age</th>
                                            <th scope="col">Meal Type</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr *ngFor="let adultPassenger of passengerItineraryDetails.passengerList; let i = index">
                                        <td> {{adultPassenger.passengerName}}</td>
                                        <td> {{adultPassenger.passengerGender}}</td>
                                        <td>{{adultPassenger.passengerAge}} Years</td>
                                        <td *ngIf="adultPassenger.foodChoiceEnabled" > {{adultPassenger.foodChoiceEnabled}}</td>
                                        <td *ngIf="!adultPassenger.foodChoiceEnabled" > NA</td>
                                      </tr>
                                        </tbody>
                                    </table>
                                </div>
                        </ul>
                         <ul class="travellers_list" *ngIf="passengerItineraryDetails.infantList && passengerItineraryDetails.infantList.length > 0" >
                            <p class="title_pass pb-10">Child</p>
                            <div class="table-responsive">
                                <table class="table table-borderless pass_list_table">
                                    <thead>
                                      <tr>
                                        <th scope="col">Name</th>
                                        <th scope="col">Gender</th>
                                        <th scope="col">Age</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                     <tr *ngFor="let infantPassenger of passengerItineraryDetails.infantList; let i = index">
                                        <td>{{infantPassenger.name}}</td>
                                        <td> {{infantPassenger.gender}}</td>
                                        <td>{{infantPassenger.age}}Years</td>
                                      </tr>
                                    </tbody>
                                  </table>
                              </div>
                        </ul>

                    </div>
                </div>
            </div>
        </div>
        <div>

                      <div class="my-4">
                <div class="row">
                    <div class="col-6">
                        <div class="w-50">
                            <a class="btn btn-outline radius_8 btn_outline_a" (click)="goBackSteps(1)" >Add New Traveller</a>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="w-50 float-right">
                            <a class="btn btn-outline radius_8 btn_outline_a"  (click)="goBackSteps(1)">Add New Infant</a>
                        </div>
                    </div>
                </div>
             </div>    
             
        </div>
        <div>
            <div class="contact_sec">
                <div class="mb-3">
                    <h4 class="title">Contact details <span class="sub_text">(for all communication)</span></h4>
                    <!-- <p class="note_text">Your booking details will be sent here.</p> -->
                </div>
                <div class=" selectTravelers_sec">
                    <div class="row">
                        <div class="col-5">
                            <p class="rev_title">Email</p>
                            <p class="rev_value">{{passengerItineraryDetails.contactDetails.email}}</p>
                        </div>
                        <div class="col-5">
                            <p class="rev_title">Mobile Number</p>
                            <p class="rev_value">{{passengerItineraryDetails.contactDetails.mobile}}</p>
                        </div>
                    </div>
                    <div>
                        <p class="send_msg">
                            <label class="checkbox">Send my booking information through <span><i class="fa fa-whatsapp px-1" aria-hidden="true"></i></span> whatsapp
                                <input  type="checkbox"  [checked] = "passengerItineraryDetails.contactDetails.whatsappFlag==1"   disabled > <span  class="checkmark"></span>
                            </label>
                        </p>
                    </div>
                </div>
                <div>
                    <div class="my-4" *ngIf="isFlexipayEligibleFlag">
                        <div>
                            <img src="{{cdnUrl}}images/sb_img/bannertrain.png" class="img-fluid" alt="Flex iPay">
                        </div>
                     </div>
                </div>
                <div>
                    <div class="">
                        <h4 class="title">Additional information
                            <span>
                                 <a href="javascript:;" (click)="goBackSteps(1)" class="pl-2"><img src="{{cdnUrl}}images/smartbuy/icons/edit_icon.svg"></a>
                            </span>
                        </h4>
                    </div>
                    <div class="selectTravelers_sec">
                        <div class="row" *ngIf="passengerItineraryDetails.autoUpgradationSelected=='true'">
                           <div class="col-6">
                                <p class="revAddinfo_title">Consider for auto upgradation</p>
                           </div>
                           <div class="col-6">
                                <p class="revAddinfo_value">Selected </p>
                           </div>   
                        </div>
                        <div class="row"  *ngIf="passengerItineraryDetails.reservationChoice !=99">
                            <div class="col-6">
                                 <p class="revAddinfo_title">Reservation choice</p>
                            </div>
                            <div class="col-6">
                                <p class="revAddinfo_value" *ngIf="passengerItineraryDetails.reservationChoice ==1">Book only if all berths are alloted in same coach</p>
                                <p class="revAddinfo_value" *ngIf="passengerItineraryDetails.reservationChoice ==2">Book only if atleast 1 lower berth is allotted</p>
                                <p class="revAddinfo_value" *ngIf="passengerItineraryDetails.reservationChoice ==3" >Book only if 2 lower berths are allotted</p>
                                <p class="revAddinfo_value" *ngIf="passengerItineraryDetails.reservationChoice ==4">Book only if tickets are confirmed</p>
                            </div>   
                         </div>
                         <div class="row" *ngIf="passengerItineraryDetails.coachId">
                            <div class="col-6">
                                 <p class="revAddinfo_title">Coach Preference</p>
                            </div>
                            <div class="col-6">
                                 <p class="revAddinfo_value">{{passengerItineraryDetails.coachId}}</p>
                            </div>   
                         </div>
                         <div class="row">
                            <div class="col-6">
                                 <p class="revAddinfo_title">Destination Address</p>
                            </div>
                            <div class="col-6">
                                 <p class="revAddinfo_value">{{passengerItineraryDetails.tktAddress.address}}, {{passengerItineraryDetails.tktAddress.city}}, {{passengerItineraryDetails.tktAddress.stateName}}- {{passengerItineraryDetails.tktAddress.pinCode}} </p> 
                            </div>   
                         </div>
                         <div class="row" *ngIf="travelInsuranceOpted">
                            <div class="col-6">
                                 <p class="revAddinfo_title">Travel Insurance @â‚¹0.42/person</p>
                            </div>
                            <div class="col-6">
                                 <p class="revAddinfo_value">Selected <br/>
                                    <span class="revTotalInsu">Total â‚¹0.42x{{((travellersArray.length))}} = â‚¹{{travel_ins_charge}}</span> </p>
                            </div>   
                         </div>
                    </div>
                </div>
                <div>
                    <div class="points_sec">
                        <div class="title">
                            Use your points to get instant discount
                        </div>
                        <div>
                            <div class="table-responsive">
                                <table class="table table-borderless points_list_table">
                                    <thead>
                                    <tr>
                                        <th scope="col">Your credit cards</th>
                                        <th scope="col">Total points</th>
                                        <th scope="col">Redeemable points</th>
                                        <th scope="col">Redeemable amount</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td> <span><input type="radio" id="card_01" name="pontsCard_radio" value="">
                                            Â  <label for="card_01">Regalia credit card XX8912</label></span>
                                        </td>
                                        <td> 12,365 pts</td>
                                        <td>10,000 pts</td>
                                        <td class="redeem_price">â‚¹1780</td>
                                    </tr>
                                    <tr>
                                        <td> <span><input type="radio" id="card_02" name="pontsCard_radio" value="">
                                            Â  <label for="card_02">Regalia credit card XX8902</label></span>
                                        </td>
                                        <td> 12,365 pts</td>
                                        <td>10,000 pts</td>
                                        <td class="redeem_price">â‚¹500</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                
                <app-coupons (sendCouponEvent)="receiveCouponDetails($event)" [remove_Coupon]="remove_Coupon" [passTotalFare]="totalCollectibleAmount+pgCharges"
[passActualFare]="totalCollectibleAmountFromPartnerResponse" [passConvinenceFee]="convenience_fee" [passServiceId]="serviceId" 
  (sendtotalfare)="recivetotalFare($event)" [customerInfo]="customerInfo">
</app-coupons>

            </div>
        </div>
    </div>      
</div>

<div class="bottom_fareStrip">
    <div class="d-none d-sm-block">
        <div class="info">
            <div class="inner_item">
                <p class="trainNum">{{trainnumber}}</p>
                <p class="trainName">{{trainName}}</p>
            </div>
            <div class="inner_item">
                <div class="trainTimeInfo">
                        
                    <div class="fromStn">
                        <p>{{traveldate | date:'EEE, dd MMM'}} <span class="trainCode"> {{scheduletime}} </span> </p>
                        <p class="airportName">{{fromstnDesc}}</p>
                    </div>
                    <div class="px-3 text-center stripLine">
                        <hr  class="my-2 w-30-m" />
                    </div>
                    <div class="timeShow">
                        <p>{{travelDuration}}</p>
                    </div>
                    <div class="px-3 text-center stripLine">
                        <hr  class="my-2 w-30-m" />
                    </div>
                    <div class="toStn">
                        <p>  <span class="trainCode"> {{arrivalTime}}</span> {{journeyArrivalDate | date:'EEE, dd MMM'}}</p>
                        <p class="airportName">{{tostnDesc}}</p>
                    </div>
                   
                </div>
            </div>
            <div class="inner_item">
               <div class="d-flex seat_info">
                    <div class="text-right">
                        <p class="trainSeat" *ngIf="travellersArray.length==0">1 x  {{masterClasses[enqClass]}} ({{enqClass}})</p>
                        <p class="trainSeat" *ngIf="travellersArray.length > 0">{{travellersArray.length}} x  {{masterClasses[enqClass]}} ({{enqClass}})</p>
                        <p class="trainTag">Seat Selected</p>
                    </div>
                    <div>
                        <span class="v_line"></span>
                    </div>
                    <div>
                        <p class="price_sec"><span class="price">â‚¹{{(totalCollectibleAmount-0)+(pgCharges-0) | number : '1.2-2'}}</span> <!--<span class="pl-2 emi_text">EMI @ <b>â‚¹234</b>/month</span>--></p>
                        <p class="" style="color:#bbb"><span class="slashPrice"  *ngIf="coupon_amount>0.00">â‚¹{{(totalCollectibleAmountFromPartnerResponse-0)+(pgCharges-0) | number : '1.2-2'}} </span> <span class="pl-2 offerTag"  *ngIf="coupon_amount>0.00">{{((coupon_amount / totalCollectibleAmountFromPartnerResponse) * 100) | number : '1.0-0' }} % Off</span> <span *ngIf="coupon_amount>0.00"> | </span><a href="javascript:void(0)" class="fare_btn" (click)="openBottomSheet()">View fare details</a></p>
                    </div>
               </div>
            </div>
            <div class="inner_item">
                <div>
                    <button class="btn btn_primary_a radius_8" style="text-transform: capitalize;">Continue</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Mlite Code -->
    <div class="d-block d-sm-none">
        <div class="info_m">
            <div class="inner_item">
                <p class="trainCode">{{trainnumber}} | {{masterQuota[quota]}} | {{masterClasses[enqClass]}} ({{enqClass}}) </p>
                <p class="place">{{fromstnDesc}} to {{tostnDesc}}</p>
                <p class="price_sec my-2"><span class="price">â‚¹{{(totalCollectibleAmount-0)+(pgCharges-0) | number : '1.2-2'}}</span> <!--<span class="pl-2 emi_text">EMI @ <b>â‚¹234</b>/month</span>--><span class="slashPrice"  *ngIf="coupon_amount>0.00">â‚¹{{(totalCollectibleAmountFromPartnerResponse-0)+(pgCharges-0) | number : '1.2-2'}} </span> <span class="pl-2 offerTag"  *ngIf="coupon_amount>0.00">{{((coupon_amount / totalCollectibleAmountFromPartnerResponse) * 100) | number : '1.0-0' }} % Off</span> <span *ngIf="coupon_amount>0.00"> | </span> | <a href="javascript:void(0)" (click)="openBottomSheet()" class="fare_btn">View fare details</a></p>
            </div>
            <div class="inner_item">
                <div>
                    <button class="btn btn-primary radius_8" style="text-transform: capitalize;">Continue</button>
                </div>
            </div>
        </div>
    </div>
</div>
    </form>


</div>


<!--payment Section-->
<div *ngIf="steps==3" class=" container" >
<!-- New Payment Code  -->
<div>
<div  class="container mpt-135">
<p  class="mt-4 back_text" (click)="goBackSteps(2)"><span><i  aria-hidden="true" class="fa fa-arrow-left pr-2"></i></span><span>Go Back</span></p>
</div>
<app-payment *ngIf="openPaymentTab" (sendCouponEvent)="receiveCouponDetails($event)" [remove_Coupon]="remove_Coupon" [passSavedCardsData]="savedCards" [passSessionKey]="searchTrainKey" (sendflexiAmount)='reciveflexiAmount($event)' [passTotalFare]="totalCollectibleAmount+pgCharges"
[passActualFare]="totalCollectibleAmountFromPartnerResponse" [passConvinenceFee]="convenience_fee" [passServiceId]="serviceId" [passXSRFTOKEN]="XSRFTOKEN" [passIsDcemiEligibleFlag]="IsDcemiEligibleFlag" [passREWARD_MOBILE]="REWARD_MOBILE"
[passPgCharge]="pgCharges" (sendPgCharges)="receivePgCharges($event)" [passFlexipayEligibleFlag]="isFlexipayEligibleFlag" (sendtotalfare)="recivetotalFare($event)" >
</app-payment>
</div>
</div>


 <!-- Modal -->
  <div class="modal fade" id="irctc_login" tabindex="-1" role="dialog" aria-labelledby="irctc_loginTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
       <form [formGroup]="idForm" name="idForm" (ngSubmit)="submitBookingInfo()">
        <div class="modal-header border-0">
          <h5 class="modal-title" id="irctc_loginTitle">IRCTC Login</h5>
          <button type="button" class="close" data-dismiss="modal" id="irctclogin-close" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body irctcLog_body">
          <div class="form-irctc-log">
            <p class="userTitle">User Name</p>
            <mat-form-field class="matField_full_width" appearance="fill">
                <mat-label>Enter your IRCTC Authorised Partner User ID (Case Sensitive)</mat-label>
                 <input matInput placeholder="" formControlName="userID" value="{{IRCTCUserId}}" [(ngModel)]="IRCTCUserId" autocomplete="off" (keypress)="AvoidSpace($event);" autofocus>
            </mat-form-field>
                <div class="error" *ngIf="userValidError">
                <small>{{IRCTCUserError}}</small>
                </div>
                <div *ngIf="(submittedUserInfoForm && idForm.controls['userID']['errors']) || (idForm.controls.userID.touched)" class="error">
                <small *ngIf="idForm.hasError('required','userID')">Please enter IRCTC Authorised Partner user id.</small>
                <small *ngIf="idForm.hasError('minlength','userID')">Please enter atleast 2 character.</small>
                <small *ngIf="idForm.hasError('pattern','userID')">Please enter valid user id.</small>
                </div>
            <div class="forgot_link mb-3">
                <a href="">Forgot username</a>
            </div>
            <div>
                <button class="btn btn-primary radius_8" style="text-transform: capitalize;">Continue</button>
            </div>
          </div>
          <div class="external_sec">
              <p>Donâ€™t have an IRCTC account? <a (click)="registration()">Create new</a></p>
              <p>Forgot password?<a (click)="forgotUserId()"> Reset password</a></p>
          </div>
          <div>
              <div class="note_sec">
                <p class="note">Note:</p>
                <p class="nrm_text">Please make sure that you remember your IRCTC password as you need to confirm your booking.</p>
              </div>
          </div>
        </div>
       </form> 
      </div>
    </div>
  </div>
  
  
   <!-- IRCTC Stations Data In Popup Menu Start-->

    <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" id="irctc-jun-data" aria-hidden="true">
        <div class="modal-dialog modal-lg mpop-0 pop-schedule">
          <div class="modal-content irctc-view-content" *ngIf = "scheduleData">
                  <div class="col-12 irctc-header">     
                      <div class="row">
                          <div class="col-10">
                              <div class="modal-title">
                                     <!-- <div class="title">Train Route & Schedule</div> -->
                                     <div class="title"><span >{{scheduleData.trainName}}</span><span class="num">{{scheduleData.trainNumber}}</span></div>

                                     <!-- <div class="stations"><span >Bengaluru (SBC)</span><span class="px-2">-</span><span >chennai (MAS)</span></div> -->
                              </div>
                              
                          </div>
                 
                            <div class="col-2">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                            </div>
                        </div>
                        </div>
            <div class="irctc-view-body">
                <!-- for Desktop -->
                <div class="col-12 train-info d-none d-sm-block py-0">
                <div class="row">
                    <!-- <div class="col-3 text-left pr-0">
                            <div class="stations"><span >{{scheduleData.trainNumber}}</span><span class="px-2">-</span><span >{{scheduleData.trainName}}</span></div>
                    </div> -->
                    <div class="col-7 text-center pr-0">
                        <div class="row">
                            <div class="col-5">
                                <div><span class="station-name">{{scheduleData.stationList[0].stationName}} </span><span class="station-code">({{scheduleData.stationFrom}})</span></div>
                            </div>
                            <div class="col-2">
                                    <div class="text-center p0 durations position-relative">
                                        <div class="range"></div>
                                        <div class="label-gray label-pos"></div>
                                    </div>
                            </div>
                            <div class="col-5">
                                    <div><span class="station-name">{{stationsdump[seacthResult.selectedTrain.fromStnCode]}} </span><span class="station-code">({{seacthResult.selectedTrain.fromStnCode}})</span></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-2 text-right pl-0">
                        <div class="week"> 
                            <span [ngClass]="{'active': seacthResult.selectedTrain.runningSun=='Y'}">S</span>
                            <span [ngClass]="{'active': seacthResult.selectedTrain.runningMon=='Y'}">M</span>
                            <span [ngClass]="{'active': seacthResult.selectedTrain.runningTue=='Y'}">T</span>
                            <span [ngClass]="{'active': seacthResult.selectedTrain.runningWed=='Y'}">W</span>
                            <span [ngClass]="{'active': seacthResult.selectedTrain.runningThu=='Y'}">T</span>
                            <span [ngClass]="{'active': seacthResult.selectedTrain.runningFri=='Y'}">F</span>
                            <span [ngClass]="{'active': seacthResult.selectedTrain.runningSat=='Y'}">S</span>
                        </div>
                    </div>
                </div>
            </div>
            <!-- for mobile -->
                <div class="col-12 train-info d-block d-sm-none">
                    <div class="row">
                        <div class="col-6 text-left ">
                                <div class="stations"><span >{{scheduleData.trainNumber}}</span><span class="px-2">-</span><span >{{scheduleData.trainName}}</span></div>
                        </div>
                        <div class="col-6 text-right ">
                                <div class="week">
                                    <span [ngClass]="{'active': seacthResult.selectedTrain.runningSun=='Y'}">S</span>
                                    <span [ngClass]="{'active': seacthResult.selectedTrain.runningMon=='Y'}">M</span>
                                    <span [ngClass]="{'active': seacthResult.selectedTrain.runningTue=='Y'}">T</span>
                                    <span [ngClass]="{'active': seacthResult.selectedTrain.runningWed=='Y'}">W</span>
                                    <span [ngClass]="{'active': seacthResult.selectedTrain.runningThu=='Y'}">T</span>
                                    <span  [ngClass]="{'active': seacthResult.selectedTrain.runningFri=='Y'}">F</span>
                                    <span [ngClass]="{'active': seacthResult.selectedTrain.runningSat=='Y'}">S</span>
                                </div>
                            </div>
                        
                                <div class="col-12 text-center">
                                        <div class="row">
                                            <div class="col-5 text-left">
                                                <div><span class="station-name">{{scheduleData.stationList[0].stationName}}</span><span class="station-code">{{scheduleData.stationFrom}}</span></div>
                                            </div>
                                            <div class="col-2 p-0">
                                                  
                                                    <span>&#10230;</span>
                                                    
                                            </div>
                                            <div class="col-5 text-right">
                                                    <div><span class="station-name">{{stationsdump[seacthResult.selectedTrain.toStnCode]}}</span><span class="station-code">{{seacthResult.selectedTrain.toStnCode}}</span></div>
                                            </div>
                                        </div>
                                </div>
                        
                        
                    </div>
                </div>
                <div class="p-4">
                    <div class="table-responsive">
                        <table class="table info-heading">
                            <thead>
                                <tr>
                                <th scope="col">Station</th>
                                <th scope="col" class="text-center">Arrival</th>
                                <th scope="col" class="text-center">Departure</th>
                                <th scope="col" class="text-center">Halt <span class="xs-none">Time</span></th>
                                <th scope="col" class="text-center xs-none">Distance</th>
                                <th scope="col" class="text-center xs-none">Day</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr  *ngFor = "let data of scheduleData.stationList">
                                <td><div><span class="px-1">{{data.stnSerialNumber | number: '2.'}}.</span>{{data.stationName}} <span class="xs-none">({{data.stationCode}})</span></div><div class="mobile-belowData ml-4 pt-2">Day {{data.dayCount}}</div></td>
                                <td class="text-center"><div>{{data.arrivalTime}}</div><div class="mobile-belowData pt-2">{{data.distance}} KM</div></td>
                                <td class="text-center">{{data.departureTime}}</td>
                                <td class="text-center">{{data.haltTime}}</td>
                                <td class="text-center xs-none">{{data.distance}}</td>
                                <td class="text-center xs-none">Day {{data.dayCount}}</td>
                                </tr>
                                                    
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
          </div>
        </div>
      </div>

<!-- IRCTC Stations Data In Popup Menu Ends-->
