<div class="flight_mlite_process"  *ngIf="REWARD_CUSTOMERID !='0000'">
  <section class="mob-flights-listing" *ngIf="searchData && isMobile">
      <div class="container">
        <div class="row">
          <div class="col-md-12 p-0">
            <div class="mob-listing-header">
              <div class="mob-listing-header-left">
                <a href="javascript:;" (click)="triggerBack()">
                  <img src="{{cdnUrl}}/images/icons/left.png" alt="" />
                </a>
              </div>
              <div class="mob-listing-header-center">
                <h6>{{searchData.fromCity}} - {{searchData.toCity}} <span *ngIf="searchData && searchData.flightdefault=='R'"> | {{searchData.toCity}} - {{searchData.fromCity}}</span></h6>
               
              </div>
              <div class="mob-listing-header-right">

              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="details-steps-area mb-40" [ngClass]="{'mt-140': !isMobile , 'mt-4':isMobile }">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-md-6">
              <div class="details-steps-box">
                <ul class="m-0 details-steps-ul">
                  <li>
                    <a href="javascript:void(0)" [ngClass]="{'active1': completedSteps > 1 , 'active':steps==1 }"
                      (click)="moveTab(1)">
                      <span class="steps-icons"><img src="{{cdnUrl}}/images/flights_details/flight.png" alt="" /></span>
                      <span class="steps-text">Train Details</span>
                    </a>
                  </li>
                  <li>
                    <a href="javascript:void(0)" [ngClass]="{'active1': completedSteps >2  , 'active':steps==2 }"
                      (click)="moveTab(2)">
                      <span class="steps-icons"><img src="{{cdnUrl}}/images/flights_details/user.png" alt="" /></span>
                      <span class="steps-text">Traveller Details</span>
                    </a>
                  </li>
                 
                  <li>
                    <a href="javascript:void(0)" [ngClass]="{'active1': completedSteps > 3 , 'active':steps==3 }"
                      (click)="moveTab(3)">
                      <span class="steps-icons"><img src="{{cdnUrl}}/images/flights_details/review.png" alt="" /></span>
                      <span class="steps-text">Review Booking</span>
                    </a>
                  </li>
                  <li>
                    <a href="javascript:void(0)" [ngClass]="{'active1': completedSteps== 4 , 'active':steps==4 }"
                      (click)="moveTab(4)">
                      <span class="steps-icons"><img src="{{cdnUrl}}/images/flights_details/payment.png" alt="" /></span>
                      <span class="steps-text">Payment</span>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>
</div>
<main class="site-main" *ngIf="REWARD_CUSTOMERID !='0000'" >
<section class="flight-details-area mt-10">
  <!-- Mlite Sesssion Timer Code -->
  <div class="d-block d-sm-none">
    <div class="sidebar-widget session-expires-widget text-center">
      <p><img src="{{cdnUrl}}/images/icons/sestion.png" class="me-2" alt="">Booking Expires in <strong>
          <countdown [config]="{ leftTime: 900, format: 'mm:ss'}" (event)="bookingSessionExpires($event)"></countdown>
          min
        </strong></p>
    </div>
  </div>
  <input *ngIf="searchData" type="hidden" id="journery_date" value='{{searchData.departure | date:"YYYY-MM-dd"}}' />
  <div class="container">
    <div class="row">

      <!--Steps 1-->
      <div class="col-md-8" *ngIf="steps==1">
        <div class="booking-process-content" >
          <div class="booking-title-box">
            <h4>Train Details</h4>
          </div>
          
                <div class="booking-inner-box from-to-box">
            <div class="booking-inner-title">
              <div class="booking-inner-title-left" >
               Deatils
              </div>
            </div>

          </div>

          <div class="booking-inner-box from-to-box">
            <div class="booking-inner-title">
              <div class="booking-inner-title-left" >
                                       <form [formGroup]="idForm" name="idForm" (ngSubmit)="submitBookingInfo()">
                            <div class="">
                                <div class="button-wrap">
                                    <div class="traveler-details mlr-15">
                                        <div class=clearfix></div>
                                        <div class="traveler-details-info">
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <p class="travel-count">IRCTC Authorised Partner USER ID</p>
                                                    <div class="row">
                                                        <div class="col-md-6 col-12">
                                                            <mat-form-field>
                                                                <input matInput placeholder="IRCTC Authorised Partner User ID (Case Sensitive)" formControlName="userID" value="{{IRCTCUserId}}" [(ngModel)]="IRCTCUserId" autocomplete="off" (keypress)="AvoidSpace($event);" autofocus>
                                                            </mat-form-field>
                                                            <div class="error" *ngIf="userValidError">
                                                                <small>{{IRCTCUserError}}</small>
                                                            </div>
                                                            <div *ngIf="(submittedUserInfoForm && idForm.controls['userID']['errors']) || (idForm.controls.userID.touched)" class="error">
                                                                <small *ngIf="idForm.hasError('required','userID')">Please enter IRCTC Authorised Partner user id.</small>
                                                                <small *ngIf="idForm.hasError('minlength','userID')">Please enter atleast 2
                                  character.</small>
                                                                <small *ngIf="idForm.hasError('pattern','userID')">Please enter valid user id.</small>
                                                                <!-- <small *ngIf="userValidError">{{IRCTCUserError}}</small>  -->
                                                                <!-- <small *ngIf="idForm.controls['userID']['errors']['required']">Please enter IRCTC user id.</small>
                                      <small *ngIf="idForm.controls['userID']['errors']['pattern']">Please enter valid user id.</small>
                                      <small *ngIf="idForm.controls['userID']['errors']['minlength']">Please enter atleast 2 character.</small> -->
                                                            </div>



                                                        </div>
                                                        <div class="col-md-6 col-12">
                                                            <div class="irctc_link">
                                                                <a (click)="registration()" class="anchor">Create User ID</a> | <a (click)="forgotUserId()" class="anchor">Forgot User ID</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <p class="primary-msg"> <b>Note:</b> Please make sure that you remember your IRCTC Authorised Partner password as you need to confirm your booking. Incase you don't, you can
                                                <a (click)="resetPassword()" class="# anchor">Reset your password.</a> If the OTP validation is not completed at the time of registration, you could click <span class="# anchor" (click)="validateOTP()">here to validate. </span>
                                            </p>

                                            <!-- <span class="# anchor" (click)="validateOTP()">Validate OTP</span> -->
                                        </div>
                                    </div>
                                    <!--Show bording stations-->
                                    <div class="traveler-details " style="background-color: #fff;">
                                        <div class=clearfix></div>
                                        <p class="travel-count">Select boarding station</p>
                                        <div>
                                            <div class="row">
                                                <div class="col-12 col-lg-4 col-md-7">
                                                    <mat-form-field>
                                                        <mat-select placeholder="Select boarding station" formControlName="boardingStation" [(ngModel)]="defaultBoardingStation" (ngModelChange)="trainSchedlue(defaultBoardingStation)">
                                                            <mat-option *ngFor="let stationList of stationNames" [value]="stationList.stnNameCode">
                                                                {{stationList.stnNameCode}} </mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
                                                    <div *ngIf="submittedUserInfoForm && idForm.controls['boardingStation']['errors']" class="error">
                                                        <small *ngIf="idForm.controls['boardingStation']['errors']['required']">Please select
                              boarding station.</small>
                                                    </div>
                                                </div>
                                                <div class="col-12 col-lg-4 col-md-5">
                                                    <p class="train-schedule-title">
                                                        <span>Scheduled time: <span>{{scheduletime}}</span> </span>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="xs-center mt-3">
                                            <button class="btn-c btn-primary train-btn" >Continue</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
              </div>
            </div>

          </div>
          

          
          
          
        </div>
      </div>
      <!--Steps 1 Ends-->

      <!--Steps 2 Starts-->
      <div class="col-md-8" *ngIf="steps==2">
        Travel Details
        
         <form [formGroup]="passengerForm"  name="passengerForm">
                            <div class="">


                                <div class="message-trav">
                                    <button type="button" class="travel-title btn" *ngIf="saveTravllerShow" (click)=" openmodal(content)">
    Choose from Saved Travellers
    </button>
                                    <!-- <span class="ml-2 "><a href="" class="view-sec"> View All </a></span> -->
                                </div>

                                <ng-template #content let-modal>
                                    <div class="modal-header modal-inside-header">
                                        <h5 class="modal-title">Choose from Saved Travellers</h5>

                                    </div>
                                    <div class="modal-body">

                                        <div class="travel-userNames" *ngIf="saveTravllerShow">
                                            <h5 *ngIf="adulttravellerlist.length > 0">Adult List</h5>
                                            <p>
                                                <label class="checkbox" *ngFor="let data of adulttravellerlist | slice:0:5;let checkboxIndex = index">{{data.firstName}} {{data.lastName}}
        <input type="checkbox" name="travellerlist" (change)="fillupPaxOncheckbox($event,data,checkboxIndex)" [disabled]="disableCheckbox[checkboxIndex]" [checked]="modalcheckedvalue[checkboxIndex]">
        <span class="checkmark"></span>
      </label>
                                            </p>
                                            <ng-container *ngIf="isAdultExpanded">
                                                <ng-container *ngFor="let expandedItem of adulttravellerlist; let i = index">
                                                    <p *ngIf="i > 5">
                                                        <label class="checkbox">{{expandedItem.firstName}} {{expandedItem.lastName}}
            <input type="checkbox" name="travellerlist" (change)="fillupPaxOncheckbox($event,expandedItem,i)" [disabled]="disableCheckbox[i]" [checked]="modalcheckedvalue[i]">
            <span class="checkmark"></span>
          </label>
                                                    </p>
                                                </ng-container>
                                            </ng-container>
                                            <p *ngIf="adulttravellerlist.length > 5">
                                                <label class="checkbox pl-0">
      <a (click)="expandItemsAdult()">
        {{!isAdultExpanded ? 'View More &#x25BC;' : 'View Less &#x25B2;'}}
      </a>
    </label>
                                            </p>
                                            <h5 *ngIf="infanttravellerlist.length > 0">Infant List</h5>
                                            <p>
                                                <label class="checkbox" *ngFor="let data of infanttravellerlist | slice:0:5;let checkboxIndex = index">{{data.firstName}} {{data.lastName}}
        <input type="checkbox" name="childtravellerlist" (change)="fillupPaxOncheckboxChildren($event,data,checkboxIndex)" [disabled]="disableCheckboxInfant[checkboxIndex]" [checked]="modalcheckedvalueInfant[checkboxIndex]">
        <span class="checkmark"></span>
      </label>
                                            </p>
                                            <ng-container *ngIf="isInfantExpanded">
                                                <ng-container *ngFor="let expandedItem of infanttravellerlist; let i = index">
                                                    <p *ngIf="i > 5">
                                                        <label class="checkbox">{{expandedItem.firstName}} {{expandedItem.lastName}}
            <input type="checkbox" name="childtravellerlist" (change)="   fillupPaxOncheckboxChildren($event,expandedItem,i)" [disabled]="disableCheckboxInfant[i]" [checked]="modalcheckedvalueInfant[i]">
            <span class="checkmark"></span>
          </label>
                                                    </p>
                                                </ng-container>
                                            </ng-container>
                                            <p *ngIf="infanttravellerlist.length > 5">
                                                <label class="checkbox pl-0">
      <a (click)="expandItemsInfant()">
        {{!isInfantExpanded ? 'View More &#x25BC;' : 'View Less &#x25B2;'}}
      </a>
    </label>
                                            </p>


                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn-c btn-primary" (click)="travellerReset()">Reset</button>
                                        <button type="button" class="btn-c btn-primary " (click)="modal.close()">Close</button>
                                    </div>
                                </ng-template>


                                <div class="button-wrap">
                                    <!-- <div class="passenger-note">
                          <div class="float-left"> <i class="material-icons pass-icon">error_outline</i></div>
                          <div class="primary-msg">
                            <div class="">Please ensure all the details entered are as per the Govt. ID Proof.</div>
                            <div class=""> If primary passenger's ticket is cancelled, the complete ticket will be cancelled.</div>
                          </div>
                        </div> -->

                                    <div class="traveler-details" *ngIf="concessionalMsg">
                                        <div class=clearfix></div>
                                        <div class="session-exp">
                                            <img src="{{cdnUrl}}images/vector/warning.png" class="session-exp-img">
                                            <p>{{concessionalMsg}}</p>
                                        </div>

                                    </div>




                                    <ng-container id="TravellerContainer" *ngFor="let traveller of travellersArray; index as i; trackBy: trackByTraveller;let last = last;">
                                        <div class="traveler-details" id="travellerDiv{{i+1}}">
                                            <div class=clearfix></div>
                                            <p>Please enter names as mentioned on your Goverment ID proof</p>
                                            <p class="travel-count">
                                                <b>Traveller {{i+1}}</b>
                                                <span class="remove-traveller" (click)="removeTraveller(traveller)" *ngIf="travellersArray.length > 1">
                          <!-- <img src="{{cdnUrl}}images/trash.png" > -->
                          <i class="material-icons" style="color: #007bff;position: relative;
                  top: -7px;">close</i>
                        </span>
                                            </p>
                                            <!--<div class="travel-userNames" *ngIf="saveTravllerShow">
                          <p> <label class="checkbox">Save Traveller
                             <input type="checkbox"  checked value="true" formControlName="saveTraveller{{traveller}}">
                             <span class="checkmark"></span>
                           </label>
                          </p>
                      </div>-->
                                            <div class="traveler-details-info">
                                                <div class="row">
                                                    <div class="col-12 col-lg-6 col-md-6">
                                                        <mat-form-field>
                                                            <input matInput placeholder="Name" formControlName="passengerName{{traveller}}" (keypress)="flInput($event)" maxlength="{{maxNameLength}}" autocomplete="off" onDrag="return false" onDrop="return false">
                                                        </mat-form-field>
                                                        <div *ngIf="submitted && 'passengerName'+traveller.errors && 'passengerName'+traveller.touched" class="error">
                                                            <small *ngIf="passengerForm.hasError('required','passengerName'+traveller)">Please enter
                                name.</small>
                                                            <small *ngIf="passengerForm.hasError('pattern','passengerName'+traveller)">Please enter
                                valid name.</small>
                                                            <small *ngIf="passengerForm.hasError('minlength','passengerName'+traveller)">Please enter
                                atleast {{minNameLength}} character.</small>
                                                            <small *ngIf="passengerForm.hasError('maxlength','passengerName'+traveller)">Please enter
                                atleast {{maxNameLength}} character.</small>


                                                            <!-- <small *ngIf="passengerForm.controls['passengerName'+traveller]['errors']['required']">Please enter name.</small>
                                    <small *ngIf="passengerForm.controls['passengerName'+traveller]['errors']['pattern']">Please enter valid name.</small>
                                    <small *ngIf="passengerForm.controls['passengerName'+traveller]['errors']['minlength']">Please enter atleast {{minNameLength}} character.</small>
                                    <small *ngIf="passengerForm.controls['passengerName'+traveller]['errors']['maxlength']">Please enter maximum {{maxNameLength}} character.</small> -->
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="row">
                                                            <div class="col-md-6 col-6">
                                                                <mat-form-field>
                                                                    <mat-select placeholder="Gender" [(ngModel)]="genderSelectArr[traveller]" (ngModelChange)="seniorCitizenArr(genderSelectArr[traveller],traveller)" formControlName="passengerGender{{traveller}}">
                                                                        <mat-option value="M"> Male </mat-option>
                                                                        <mat-option value="F"> Female </mat-option>
                                                                        <mat-option value="T"> Transgender </mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>
                                                                <div *ngIf="submitted && 'passengerGender'+traveller.errors && 'passengerGender'+traveller.touched" class="error">
                                                                    <small *ngIf="passengerForm.hasError('required','passengerGender'+traveller)">Please
                                    select gender.</small>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6 col-6">
                                                                <mat-form-field>
                                                                    <input matInput placeholder="Age" formControlName="passengerAge{{traveller}}" maxlength="3" (keypress)="numberInput($event)" (keyup)="maxAgeLimitArr(traveller)" autocomplete="off" onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false">
                                                                </mat-form-field>
                                                                <div *ngIf="submitted && 'passengerAge'+traveller.errors && 'passengerAge'+traveller.touched" class="error">
                                                                    <small *ngIf="passengerForm.hasError('required','passengerAge'+traveller)">Please
                                    enter age.</small>
                                                                    <small *ngIf="passengerForm.hasError('pattern','passengerAge'+traveller)">Age should
                                    be numeric.</small>
                                                                    <small *ngIf="passengerForm.hasError('min','passengerAge'+traveller)">{{ageValidErrorArr[traveller]}}</small>
                                                                    <small *ngIf="passengerForm.hasError('max','passengerAge'+traveller)">{{ageValidErrorArr[traveller]}}</small>
                                                                </div>
                                                                <!-- <div *ngIf="submitted"  class="error">
                                        <small>{{ageValidErrorArr[traveller]}}</small>
                                    </div> -->

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <mat-form-field>
                                                            <mat-select placeholder="Passenger Berth Choice *" formControlName="passengerBerthChoice{{traveller}}">
                                                                <mat-option value="">No Preference</mat-option>
                                                                <mat-option *ngFor="let each of applicableBerthTypes" value="{{each}}">
                                                                    {{masterBerth[each]}} </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-12 col-md-6">
                                                        <mat-form-field>
                                                            <mat-select placeholder="Nationality" [(ngModel)]="defaultCountryArr[traveller]" (ngModelChange)="countrySelectAddMore(traveller)" formControlName="passengerNationality{{traveller}}">
                                                                <mat-option *ngFor="let each of countries" [value]="each.countryCode"> {{each.country}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                        <!-- <div *ngIf="submitted && passengerForm.controls['passengerNationality'+traveller]['errors']" class="error">
                                          <small *ngIf="passengerForm.controls['passengerNationality'+traveller]['errors']['required']">Nationality is required</small>
                                      </div> -->
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-12 col-md-6" *ngIf="showTravelDocumentAddMore[traveller]">
                                                        <mat-form-field>
                                                            <mat-select placeholder="Travel Document" formControlName="passengerTravelDocument{{traveller}}">
                                                                <mat-option value="PASSPORT"> PASSPORT/TRAVEL DOCUMENT</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                        <div *ngIf="submitted && passengerForm.controls['passengerTravelDocument'+traveller]['errors'] &&passengerForm.controls['passengerTravelDocument'+traveller]['touched']" class="error">
                                                            <small *ngIf="passengerForm.hasError('required','passengerTravelDocument'+traveller)">Please
                                enter travel document.</small>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 col-12" *ngIf="showTravelDocumentAddMore[traveller]">
                                                        <mat-form-field>
                                                            <input matInput placeholder="Passport No" formControlName="passengerTravelDocCardNo{{traveller}}" maxlength="{{maxPassportLength}}" autocomplete="off" onDrag="return false" onDrop="return false" (keypress)="specialcharInput($event)" (keyup)="convertToUpperCase($event)">
                                                        </mat-form-field>
                                                        <div *ngIf="submitted && passengerForm.controls['passengerTravelDocCardNo'+traveller]['errors'] &&passengerForm.controls['passengerTravelDocCardNo'+traveller]['touched']" class="error">
                                                            <small *ngIf="passengerForm.hasError('required','passengerTravelDocCardNo'+traveller)">Please
                                enter passport number.</small>
                                                            <small *ngIf="passengerForm.hasError('minlength','passengerTravelDocCardNo'+traveller)">Please
                                enter atleast {{minPassportLength}} characters.</small>
                                                            <small *ngIf="passengerForm.hasError('pattern','passengerTravelDocCardNo'+traveller)">Please
                                enter valid passport number.</small>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row" *ngIf="showTravelDocumentAddMore[traveller]">
                                                    <div class="col-md-6">
                                                        <mat-form-field appearance="fill">
                                                            <mat-label>Date of Birth(DD-MM-YYYY)</mat-label>
                                                            <input matInput [matDatepicker]="picker2" disabled formControlName="foreignPassengerDOB{{traveller}}" [min]="calenderminDate" [max]="calendermaxDate">
                                                            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                                            <mat-datepicker #picker2 disabled="false"></mat-datepicker>
                                                        </mat-form-field>

                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-12 col-md-6" *ngIf="foodChoiceEnabled">
                                                        <mat-form-field>
                                                            <mat-select placeholder="Meal Preference" formControlName="passengerMealPreference{{traveller}}">
                                                                <mat-option *ngFor="let each of foodDetails" [value]="each"> {{masterFood[each]}}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                        <div *ngIf="submitted && passengerForm.controls['passengerMealPreference'+traveller]['errors']" class="error">
                                                            <small *ngIf="passengerForm.controls['passengerMealPreference'+traveller]['errors']['required']">Food
                                Choice is required.</small>
                                                        </div>
                                                    </div>
                                                    <div class="col-12 col-md-6" *ngIf="seniorCitizenEnabledArr[traveller] && seniorCitizenApplicableArr[traveller]">
                                                        <mat-form-field>
                                                            <mat-select placeholder="Senior Citizen Concession" formControlName="passengerSeniorCitizen{{traveller}}">
                                                                <mat-option value="1"> Avail Concession </mat-option>
                                                                <mat-option value="2"> Forgo 50% Concession </mat-option>
                                                                <mat-option value="3"> Forgo full Concession </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                        <div *ngIf="submitted && passengerForm.controls['passengerSeniorCitizen'+traveller]['errors']" class="error">
                                                            <small *ngIf="passengerForm.controls['passengerSeniorCitizen'+traveller]['errors']['required']">Please select Senior citizen concession.</small>
                                                        </div>
                                                    </div>
                                                </div>
                                                <p *ngIf="optChildBerthStatusArr[traveller]"> <label class="checkbox">Opt Child Berth
                            <input type="checkbox" (click)="optChildBerth($event)" [checked]="ladiesQuotaTrue"
                              formControlName="optChildBerth{{traveller}}" id="optChildBerth{{traveller}}" >
                            <span class="checkmark"></span>
                          </label>
                                                </p>
                                                <p *ngIf="optBedRollStatus"> <label class="checkbox">Opt Bed Roll
                            <input type="checkbox" (change)="optBedRoll($event,i)"
                              formControlName="optBedRoll{{traveller}}">
                            <span class="checkmark"></span>
                          </label>
                                                </p>
                                            </div>
                                        </div>
                                        <!-- <p> <label class="checkbox"><span class="senior-text">Senior Citizen Concession </span>  <span class="senior-text-gray">(50% discount on base fare for travelers - Carry age proof ID during travel)</span>
                              <input type="checkbox" formControlName="seniorCitizenStatus{{traveller}}" [(ngModel)]="seniorCitizenStatusAddMore[traveller]">
                              <span class="checkmark"></span>
                            </label>
                          </p> -->
                                    </ng-container>

                                    <div class="add-traveller-section">
                                        <p (click)="addTraveller()"><i class="material-icons add-traveller-sym">add_circle_outline</i> <span class="add-text">Add New Traveller</span></p>
                                    </div>

                                    <!--CHILD SECTION -->

                                    <div class="traveler-details" id="ChildContainer" *ngFor="let child of childrenArray; index as j; trackBy: trackByChild">
                                        <div class=clearfix></div>
                                        <p>Please enter names as mentioned on your Goverment ID proof</p>
                                        <p class="travel-count"><b>Infant {{j+1}} </b> <span class="remove-traveller" (click)="removeChild(child)">
                        <!-- <img src="{{cdnUrl}}images/trash.png" > -->
                        <i class="material-icons" style="color: #007bff;position: relative;
                              top: -7px;">close</i>
                      </span></p>

                                        <!--       <div class="travel-userNames" *ngIf="saveTravllerShow">
                          <p> <label class="checkbox">Save Traveller
                             <input type="checkbox"  checked value="true" formControlName="saveTravellerInfant{{child}}">
                             <span class="checkmark"></span>
                           </label>
                          </p>
                      </div>-->

                                        <div class="traveler-details-info">
                                            <div class="row">
                                                <div class="col-12 col-lg-6 col-md-6">
                                                    <mat-form-field>
                                                        <input matInput placeholder="Name" formControlName="childName{{child}}" (keypress)="flInput($event)" maxlength="{{maxNameLength}}" autocomplete="off" onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false">
                                                    </mat-form-field>
                                                    <div *ngIf="submitted && passengerForm.controls['childName'+child]['errors'] && passengerForm.controls['childName'+child]['touched'] " class="error">
                                                        <small *ngIf="passengerForm.hasError('required','childName'+child)">Please enter
                              name.</small>
                                                        <small *ngIf="passengerForm.hasError('pattern','childName'+child)">Please enter valid
                              name.</small>
                                                        <small *ngIf="passengerForm.hasError('minlength','childName'+child)">Please enter atleast
                              {{minNameLength}} character.</small>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="row">
                                                        <div class="col-md-6 col-6">
                                                            <mat-form-field>
                                                                <mat-select placeholder="Gender" formControlName="childGender{{child}}">
                                                                    <mat-option value="M"> Male </mat-option>
                                                                    <mat-option value="F"> Female </mat-option>
                                                                    <mat-option value="T"> Transgender </mat-option>
                                                                </mat-select>
                                                            </mat-form-field>
                                                            <div *ngIf="submitted && passengerForm.controls['childGender'+child]['errors'] && passengerForm.controls['childGender'+child]['touched']" class="error">
                                                                <small *ngIf="passengerForm.hasError('required','childGender'+child)">Please select
                                  gender.</small>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6 col-6">
                                                            <mat-form-field>
                                                                <mat-select placeholder="Age" formControlName="childAge{{child}}">
                                                                    <mat-option value="0"> Below one year </mat-option>
                                                                    <mat-option value="1"> One year </mat-option>
                                                                    <mat-option value="2"> Two years </mat-option>
                                                                    <mat-option value="3"> Three years </mat-option>
                                                                    <mat-option value="4"> Four years </mat-option>
                                                                </mat-select>
                                                            </mat-form-field>
                                                            <div *ngIf="submitted && passengerForm.controls['childAge'+child]['errors'] && passengerForm.controls['childAge'+child]['touched']" class="error">
                                                                <small *ngIf="passengerForm.hasError('required','childAge'+child)">Please select
                                  age.</small>
                                                            </div>
                                                            <!-- <mat-form-field>
                                      <input matInput placeholder="Age" formControlName="childAge{{child}}" maxlength="2" (keypress)="numberInput($event);" (keyup)="maxAgeLimitChild($event,i)" autocomplete="off">
                                    </mat-form-field>
                                    <div *ngIf="submitted && passengerForm.controls['childAge'+child]['errors']" class="error">
                                        <small *ngIf="passengerForm.controls['childAge'+child]['errors']['required']">Age is required</small>
                                        <small *ngIf="passengerForm.controls['childAge'+child]['errors']['pattern']">Age should be numeric</small>
                                    </div>
                                    <div *ngIf="submitted"  class="error">
                                        <small>{{childAgeValidError[traveller]}}</small>
                                    </div> -->
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="add-traveller-section">
                                        <p (click)="addChild()" class="child-m3"><i class="material-icons add-traveller-sym">add_circle_outline</i> <span class="add-text">Add
                        Infant <span class="child-note">(Below 5 years, travel free of cost, but information is
                          mandatory)</span></span>
                                        </p>
                                    </div>

                                </div>
                                <div class="travel-userNames mt-4" *ngIf="saveTravllerShow">
                                    <p> <label class="checkbox">Save this traveller for your future travel
                           <input type="checkbox"  value="true" formControlName="saveTraveller" id="save_traveller" >
                             <span class="checkmark"></span>
                           </label>
                                    </p>
                                    <span class="save_consent">I give consent to Reward360 to store personal information. Please <a href="javascript:;" (click)="saveTravellerConsent()" >click here</a> for more information.</span>
                                </div>
                                <div class="contact-details" *ngIf="showDestAddressBox">
                                    <!--  -->
                                    <div class="contact-header">
                                        <h5><b class="f-14">Your Destination Address</b></h5>
                                        <!-- <p>Your ticket and PNR number will be sent to</p> -->
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-3 col-md-3 col-12">
                                            <mat-form-field>
                                                <input matInput placeholder="Address 1 *" formControlName="destAddressOne" autocomplete="nope">
                                            </mat-form-field>
                                            <div *ngIf="(submitted && passengerForm.controls.destAddressOne.errors) || (passengerForm.controls.destAddressOne.touched)" class="error">
                                                <small *ngIf="passengerForm.hasError('required','destAddressOne')">Please enter address 1</small>
                                                <small *ngIf="passengerForm.hasError('pattern','destAddressOne')">Please enter a valid address</small>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-12">
                                            <mat-form-field>
                                                <input matInput placeholder="Address 2 (Optional) " formControlName="destAddressTwo" autocomplete="nope">
                                            </mat-form-field>
                                            <div *ngIf="(submitted && passengerForm.controls.destAddressTwo.errors) || (passengerForm.controls.destAddressTwo.touched)" class="error">
                                                <small *ngIf="passengerForm.hasError('pattern','destAddressTwo')">Please enter a valid address</small>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-12">
                                            <mat-form-field>
                                                <input matInput placeholder="Address 3 (Optional) " formControlName="destAddressThree" autocomplete="nope">
                                            </mat-form-field>
                                            <div *ngIf="(submitted && passengerForm.controls.destAddressThree.errors) || (passengerForm.controls.destAddressThree.touched)" class="error">
                                                <small *ngIf="passengerForm.hasError('pattern','destAddressThree')">Please enter a valid address</small>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-12">
                                            <mat-form-field>
                                                <input matInput placeholder="PIN *" formControlName="destAddressPin" maxlength="6" (keypress)="numberInput($event)" autocomplete="off" onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false" (keyup)="getDestCity($event)">
                                            </mat-form-field>
                                            <div *ngIf="(submitted && passengerForm.controls.destAddressPin.errors) || (passengerForm.controls.destAddressPin.touched)" class="error">
                                                <small *ngIf="passengerForm.hasError('required','destAddressPin')">Please enter PIN code.</small>
                                                <small *ngIf="passengerForm.hasError('minlength','destAddressPin')">Please enter a valid PIN code.</small>
                                            </div>
                                            <div *ngIf="destpincodeError" class="error">
                                                <small>{{destpincodeError}}</small>
                                            </div>
                                        </div>

                                        <div class="col-lg-3 col-md-3 col-12">
                                            <mat-form-field>
                                                <input matInput placeholder="State * " formControlName="destAddressState" autocomplete="nope" [(ngModel)]="destState" readonly value={{destState}}>
                                            </mat-form-field>
                                            <div *ngIf="(submitted && passengerForm.controls.destAddressState.errors) || (passengerForm.controls.destAddressState.touched)" class="error">
                                                <small *ngIf="passengerForm.hasError('required','destAddressState')">Please select a state.</small>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-12">
                                            <mat-form-field>
                                                <mat-select placeholder="Select city * " formControlName="destAddressCity" autocomplete="nope" [(ngModel)]="destAddressCity">
                                                    <mat-option *ngFor="let city of destCityList" [value]="city" (onSelectionChange)="getcitypostoffice(city)"> {{city}} </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                            <div *ngIf="(submitted && passengerForm.controls.destAddressCity.errors) || (passengerForm.controls.destAddressCity.touched)" class="error">
                                                <small *ngIf="passengerForm.hasError('required','destAddressCity')">Please select a city.</small>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-12">
                                            <mat-form-field>
                                                <mat-select placeholder="Post Office * " formControlName="destAddressPost" autocomplete="nope">
                                                    <mat-option *ngFor="let post of postofficeList" [value]="post"> {{post}} </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                            <div *ngIf="(submitted && passengerForm.controls.destAddressPost.errors) || (passengerForm.controls.destAddressPost.touched)" class="error">
                                                <small *ngIf="passengerForm.hasError('required','destAddressPost')">Please select a post office.</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="contact-details">
                                    <div class="contact-header">
                                        <h5><b class="f-14">Contact Information</b></h5>
                                        <p>Your ticket and PNR number will be sent to</p>
                                    </div>

                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-12">
                                            <mat-form-field>
                                                <input matInput placeholder="Mobile Number" formControlName="passengerMobile" (keypress)="numberInput($event)" autocomplete="off" maxlength="10" onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false">
                                            </mat-form-field>
                                            <div *ngIf="(submitted && passengerForm.controls.passengerMobile.errors) || (passengerForm.controls.passengerMobile.touched)" class="error">
                                                <small *ngIf="passengerForm.hasError('required','passengerMobile')">Please enter mobile
                          number.</small>
                                                <small *ngIf="passengerForm.hasError('minlength','passengerMobile')">Please enter min 10
                          Digits.</small>
                                                <small *ngIf="passengerForm.hasError('pattern','passengerMobile')">Please enter a valid ten
                          digits mobile number.</small>
                                                <!-- <small *ngIf="passengerForm.controls.passengerMobile.errors.required">Please enter mobile number.</small>
                                <small *ngIf="passengerForm.controls.passengerMobile.errors.pattern">Please enter a valid ten digits mobile number.</small>
                                <small *ngIf="passengerForm.controls.passengerMobile.errors.minlength">Please enter min 10 Digits.</small> -->
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-12">
                                            <mat-form-field>
                                                <input matInput placeholder="Email Id" formControlName="passengerEmail" name="passengerEmail" id="passengerEmail" (keypress)="AvoidSpace($event)" autocomplete="off" onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false">
                                            </mat-form-field>
                                            <div *ngIf="(submitted && passengerForm.controls.passengerEmail.errors) || (passengerForm.controls.passengerEmail.touched)" class="error">
                                                <small *ngIf="passengerForm.hasError('required','passengerEmail')">Please enter email
                          address.</small>
                                                <small *ngIf="passengerForm.hasError('pattern','passengerEmail')">Please enter a valid email id.
                        </small>
                                                <!-- <small *ngIf="passengerForm.controls.passengerEmail.errors.required">Please enter email address.</small>
                                <small *ngIf="passengerForm.controls.passengerEmail.errors.pattern">Please enter a valid email id. </small> -->
                                            </div>
                                        </div>
                                        <div class="col-12 mt-3" *ngIf="whatsappFeature==1">
                                            <p> <label class="checkbox"> 
                                <span class="wapp-text"><img src="{{cdnUrl}}images/whatsapp.svg" alt="whatsapp icon" class="mx-2">
                                    <span class="wappcontent">Send booking details and updates on above WhatsApp Number</span></span>
                                  <input type="checkbox" checked formControlName="whatsappFlag" name="whatsappFlag" value="true">
                                  <span class="checkmark wappcheck" ></span>
                                </label>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <!--Travel insurance section begins-->
                                <!--<div class="contact-details">
                        <div class="contact-header">
                          <h5><b class="f-14">Travel Insurance</b></h5>
                          <p>Do you want to take Travel Insurance (Rs.0.49/person)</p>
                        </div>
                        <div class="travel-insurance">
                          <div class="row">
                            <div class="col-md-6">
                                <label for="travel_insurance_yes" class="radio">
                                    <input type="radio" name="irctc_travel_insurance" (change)="travelInsuranceOptedFun($event)" value="1" class="hidden" id="travel_insurance_yes"/>
                                    <span class="label"></span>
                                    <span class="res-option">Yes and I accept the <a href="{{domainRedirect}}data/InsuranceTermCondition.pdf" target="_blank">Terms & Conditions</a></span>
                                </label>
                            </div>
                            <div class="col-md-6">
                                <label for="travel_insurance_no" class="radio">
                                    <input type="radio" name="irctc_travel_insurance" (change)="travelInsuranceOptedFun($event)" value="0" class="hidden" id="travel_insurance_no"/>
                                    <span class="label"></span>
                                    <span class="res-option">No</span>
                                </label>
                              </div>
                          </div>
                        </div>
                      </div>-->

                                <div class="">
                                    <p> <label class="checkbox">Additional Preferences (Optional)
                      <input type="checkbox" (click)="addToggle($event)">
                      <span class="checkmark"></span>
                    </label>
                                    </p>
                                    <div class="gst-optional-data" *ngIf="addshow">
                                        <div class="">
                                            <div>
                                                <p> <label class="checkbox">Consider for Auto Upgradation
                            <input type="checkbox" formControlName="passengerAutoUpgradation">
                            <span class="checkmark"></span>
                          </label>
                                                </p>
                                            </div>
                                            <div *ngIf="vikalpInSpecialTrainsAccomFlag" class="">
                                                <p> <label class="checkbox">Opted for VIKALP
                            <input type="checkbox" formControlName="vikalpInSpecialTrainsAccomFlag">
                            <span class="checkmark"></span>
                          </label>
                                                </p>
                                            </div>
                                            <div class="add-title">Reservation choice</div>
                                            <div class="res-area">
                                                <label for="res-none" class="radio">
                          <input type="radio" formControlName="passengerReservationCh" name="passengerReservationCh"
                            value="99" class="hidden" id="res-none" [checked]="true"
                            (change)="passengerReservationChoiceFun($event)" />
                          <span class="label"></span>
                          <span class="res-option">None</span>
                        </label>
                                                <label for="res-all" class="radio">
                          <input type="radio" formControlName="passengerReservationCh" name="passengerReservationCh"
                            value="1" class="hidden" id="res-all" (change)="passengerReservationChoiceFun($event)" />
                          <span class="label"></span>
                          <span class="res-option">Book only if all berths are alloted in same coach</span>
                        </label>
                                                <label for="res-one" class="radio">
                          <input type="radio" formControlName="passengerReservationCh" name="passengerReservationCh"
                            value="2" class="hidden" id="res-one" (change)="passengerReservationChoiceFun($event)" />
                          <span class="label"></span>
                          <span class="res-option">Book only if atleast 1 lower berth is allotted</span>
                        </label>
                                                <label for="res-two" class="radio">
                          <input type="radio" formControlName="passengerReservationCh" name="passengerReservationCh"
                            value="3" class="hidden" id="res-two" (change)="passengerReservationChoiceFun($event)" />
                          <span class="label"></span>
                          <span class="res-option">Book only if 2 lower berths are allotted</span>
                        </label>
                                                <label for="res-three" class="radio">
                          <input type="radio" formControlName="passengerReservationCh" name="passengerReservationCh"
                            value="4" class="hidden" id="res-three" (change)="passengerReservationChoiceFun($event)" />
                          <span class="label"></span>
                          <span class="res-option">Book only if tickets are confirmed</span>
                        </label>

                                                <!-- <label for="res-four" class="radio">
                                          <input type="radio" formControlName="passengerReservationCh" name="passengerReservationCh" value="5" class="hidden" id="res-four"/>
                                          <span class="label"></span>
                                          <span class="res-option">Only Confirm and In same coach</span>                                    
                                      </label> -->

                                                <!-- <label for="res-five" class="radio">
                                          <input type="radio" formControlName="passengerReservationCh" name="passengerReservationCh" value="6" class="hidden" id="res-five"  (change)="passengerReservationChoiceFun($event)"/>
                                          <span class="label"></span>
                                          <span class="res-option">Only Confirm and 1 LB</span>                                    
                                      </label> -->

                                                <!-- <label for="res-six" class="radio">
                                          <input type="radio" formControlName="passengerReservationCh" name="passengerReservationCh" value="7" class="hidden" id="res-six"  (change)="passengerReservationChoiceFun($event)"/>
                                          <span class="label"></span>
                                          <span class="res-option">Only Confirm and 2 LB</span>                                    
                                      </label> -->

                                                <div class="col-12">
                                                    <mat-form-field>
                                                        <input matInput (keypress)="AvoidSpace($event);specialcharInput($event)" placeholder="Coach Preference" (keyup)="convertToUpperCase($event)" formControlName="coachId" autocomplete="off" maxlength="4">
                                                    </mat-form-field>
                                                </div>
                                                <div *ngIf="(submitted && passengerForm.controls['coachId']['errors']) || passengerForm.controls['coachId']['touched']" class="error">
                                                    <small *ngIf="passengerForm.hasError('pattern','coachId')" class="pl-3">Please enter valid coach
                            number.</small>
                                                    <small *ngIf="passengerForm.hasError('minlength','coachId')" class="pl-3">Please enter atleast 2
                            characters.</small>
                                                    <small *ngIf="passengerForm.hasError('maxlength','coachId')" class="pl-3">Please enter maximum 4
                            characters.</small>
                                                </div>

                                            </div>
                                            <div class="imp-note">
                                                <p><span class="note-one"> IMPORTANT </span> <span class="note-two"> The booking will fail if
                            the specified berth choice or coach number is not available.</span> </p>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="agree-info">
                                    <p *ngIf="showgst">
                                        <label class="checkbox">Enter GSTIN for tax benefits (Optional)
                      <input type="checkbox" (click)="gstToggle()">
                      <span class="checkmark"></span>
                    </label>
                                        <!-- <label>
                     
                    </label> -->
                                    </p>

                                    <div class="gst-optional-data row" *ngIf="gstshow">
                                        <div class="row col-md-8">
                                            <ng-container *ngIf="getGSTShow">
                                                <div class="message-trav">
                                                    <button type="button" class="travel-title btn" (click)="openmodal(content)">Choose from Saved GSTs</button>
                                                </div>

                                            </ng-container>
                                        </div>

                                        <ng-template #content let-modal>
                                            <div class="modal-header modal-inside-header">
                                                <h5 class="modal-title">Choose from Saved GSTs</h5>

                                            </div>
                                            <div class="modal-body">
                                                <div class="col-lg-12 col-md-6 col-12">
                                                    <p> <label class="checkbox" *ngFor="let data of GSTList | slice:0:5;let GSTIndex = index">{{data.gstName}}
                            <input type="radio" name="GSTList" (change)="fillupGSTDetailOnCheck($event,data,GSTIndex)" [checked]="gstmodalcheckedvalue[GSTIndex]">
                            <span class="checkmark"></span>
                          </label>
                                                    </p>
                                                    <ng-container *ngIf="isGstExpanded">
                                                        <ng-container *ngFor="let gstexpandedItem of GSTList; let i = index">
                                                            <p *ngIf="i > 5">
                                                                <label class="checkbox">{{gstexpandedItem.gstName}}
                                    <input type="radio" name="GSTList" (change)="fillupGSTDetailOnCheck($event,gstexpandedItem,i)" [checked]="gstmodalcheckedvalue[i]">
                                    <span class="checkmark"></span>
                                  </label>
                                                            </p>
                                                        </ng-container>
                                                    </ng-container>
                                                    <p *ngIf="GSTList.length > 5">
                                                        <label class="checkbox pl-0">
                              <a (click)="gstExpandItems()">
                                {{!isGstExpanded ? 'View More &#x25BC;' : 'View Less &#x25B2;'}}
                              </a>
                            </label>
                                                    </p>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn-c btn-primary" (click)="gstReset()">Reset</button>
                                                <button type="button" class="btn-c btn-primary" (click)="modal.close()">Close</button>
                                            </div>
                                        </ng-template>


                                        <div class="col-lg-6 col-md-6 col-12">
                                            <mat-form-field>
                                                <input matInput placeholder="GST Number" formControlName="gstNumber" name="gstNumber" id="gstNumber" minlength="15" maxlength="15" autocomplete="off" (keypress)="AvoidSpace($event)" (keypress)="specialcharInputAddress($event)" (keyup)="convertToUpperCase($event);">
                                            </mat-form-field>
                                            <div *ngIf="submitted && passengerForm.controls.gstNumber.errors && passengerForm.controls.gstNumber.touched" class="error">
                                                <small *ngIf="passengerForm.controls.gstNumber.errors.required">Please enter gst number.</small>
                                                <small *ngIf="passengerForm.controls.gstNumber.errors.pattern">Please enter valid gst
                          number.</small>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-12">
                                            <mat-form-field>
                                                <input matInput placeholder="Business Name" formControlName="gstBusinessName" name="gstBusinessName" id="gstBusinessName" maxlength="30" autocomplete="off" (keypress)="specialcharInputAddress($event)">
                                            </mat-form-field>
                                            <div *ngIf="submitted && passengerForm.controls.gstBusinessName.errors" class="error">
                                                <small *ngIf="passengerForm.controls.gstBusinessName.errors.required">Please enter business
                          name.</small>
                                                <small *ngIf="passengerForm.controls.gstBusinessName.errors.pattern">Please enter valid name.</small>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-12">
                                            <mat-form-field>
                                                <input matInput placeholder="Business Address" formControlName="gstAddress" name="gstAddress" id="gstAddress" maxlength="100" (keypress)="specialcharInputAddress($event)" autocomplete="off">
                                            </mat-form-field>
                                            <div *ngIf="submitted && passengerForm.controls.gstAddress.errors" class="error">
                                                <small *ngIf="passengerForm.controls.gstAddress.errors.required">Please enter business
                          address.</small>
                                                <small *ngIf="passengerForm.controls.gstAddress.errors.pattern">Please enter valid address.No
                          special characters allowed except / - ,</small>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-12">
                                            <mat-form-field>
                                                <input matInput placeholder="Pincode" formControlName="gstPincode" name="gstPincode" id="gstPincode" (keypress)="AvoidSpace($event);numberInput($event)" (keyup)="getCityResidence($event)" minlength="6" maxlength="6" autocomplete="nope">
                                            </mat-form-field>
                                            <div *ngIf="submitted && passengerForm.controls.gstPincode.errors" class="error">
                                                <small *ngIf="passengerForm.controls.gstPincode.errors.required">Please enter pincode.</small>
                                                <small *ngIf="passengerForm.controls.gstPincode.errors.minlength">Please enter 6 digits [0-9]
                          pincode.</small>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-12">
                                            <mat-form-field>
                                                <mat-select placeholder="City / Town" formControlName="gstCity" [(value)]="citySelect" [(ngModel)]="citySelect">
                                                    <mat-option *ngFor="let each of cityList" [value]="each"> {{each}} </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                            <div *ngIf="submitted && passengerForm.controls.gstCity.errors" class="error">
                                                <small *ngIf="passengerForm.controls.gstCity.errors.required">Please enter city name.</small>
                                                <small *ngIf="passengerForm.controls.gstCity.errors.pattern">Please enter valid city
                          name. </small>
                                            </div>
                                        </div>

                                        <div class="col-lg-6 col-md-6 col-12">
                                            <mat-form-field>
                                                <input matInput placeholder="State" formControlName="gstState" name="gstState" id="gstState" (keypress)="flInput($event)" maxlength="20" autocomplete="off" [(ngModel)]="state" readonly="stateCheck" value={{state}}>
                                            </mat-form-field>
                                            <div *ngIf="submitted && passengerForm.controls.gstState.errors" class="error">
                                                <small *ngIf="passengerForm.controls.gstState.errors.required">Please enter state name.</small>
                                                <small *ngIf="passengerForm.controls.gstState.errors.pattern">Please enter valid state
                          name.</small>
                                            </div>
                                        </div>
                                        <div class="col-lg-12 col-md-6 col-12" *ngIf="getGSTShow">
                                            <p>
                                                <label class="checkbox"><b>Save this GST</b>
                              <input type="checkbox" checked value="true" formControlName="saveGST"  id="gst_storage" >
                              <span class="checkmark"></span>
                            </label>
                                            </p>
                                            <span class="save_consent">I give consent to Reward360 to store personal information. Please <a href="javascript:;" (click)="saveGSTConsent()" >click here</a> for more information.</span>
                                        </div>
                                    </div>

                                </div>



                                <p>
                                    <label class="checkbox">I agree to the <a href="{{domainRedirect}}irctc_TnC" target="_blank">Terms &
                      Conditions</a> and <a href="{{domainRedirect}}irctc_privacy_policy" target="_blank">Privacy
                      Policy</a>
                    <!-- <input type="checkbox" formControlName="passengerAgree" name="passengerAgree"> -->
                    <input type="checkbox" formControlName="passengerAgree">
                    <span class="checkmark"></span></label>
                                </p>
                                <div *ngIf="submitted && passengerForm.controls['passengerAgree']['errors']" class="error">
                                    <small *ngIf="passengerForm.controls['passengerAgree']['errors']['required'] || passengerForm.controls['passengerAgree']['errors']['pattern']">Please accept Terms and Conditions.</small>
                                </div>
                            </div>

       
                        </form>
      </div>
      <!--Step2 Ends-->
      <!--Step3 Starts-->
      <div class="col-md-8" *ngIf="steps==3">
      
     Review Booking
       
      </div>
      <!--Step3 Ends-->

      <!--Steps 4-->
      <div class="col-md-8" *ngIf="steps==4">
        <div class="booking-process-content" *ngIf="totalCollectibleAmount">
          <div class="booking-title-box">
            <h4>Payment</h4>
          </div>

          <app-payment (sendCouponEvent)="receiveCouponDetails($event)" [remove_Coupon]="remove_Coupon"
            [passSavedCardsData]="savedCards" [passSessionKey]="searchTrainKey"
            (sendflexiAmount)='reciveflexiAmount($event)' [passTotalFare]="totalCollectibleAmount"
            [passActualFare]="totalCollectibleAmountFromPartnerResponse" [passConvinenceFee]="convenience_fee"
            [passServiceId]="serviceId" [passXSRFTOKEN]="XSRFTOKEN" [passIsDcemiEligibleFlag]="IsDcemiEligibleFlag"
            [passREWARD_MOBILE]="REWARD_MOBILE" [passFlexipayEligibleFlag]="isFlexipayEligibleFlag"
            (sendtotalfare)="recivetotalFare($event)" [passflexiFare]="sendflexiFare">
          </app-payment>
        </div>
      </div>
      <!--Step4 Ends-->

      <div class="col-md-4" *ngIf="totalCollectibleAmount">
        <!-- <app-fare-summary></app-fare-summary> -->
        <div class="default-sidebar">
          <div class="d-none d-sm-block">
            <div class="sidebar-widget session-expires-widget">
              <p><img src="{{cdnUrl}}/images/icons/sestion.png" class="me-2" alt="">Booking Expires in <strong>
                  <countdown [config]="{ leftTime: 900, format: 'mm:ss'}" (event)="bookingSessionExpires($event)">
                  </countdown> min
                </strong></p>
            </div>
            <div class="sidebar-widget fare-summary-widget">
              <div class="widget-title">
                <h4>Fare Summary</h4>
                <img  src="{{cdnUrl}}/images/smartbuy/partner/svg/irctc.svg"        alt="IRCTC">
              </div>
              <div class="widget-content">
                <ul class="widget-list clearfix">
                  <li class="fare-list-item">
                    <div class="fare-list-box">
                      <div class="fare-list-left">
                        <div (click)="isCollapseShow('BaseFare')">
                          <div data-bs-toggle="collapse" class="collapse_text" href="#base-collpase" role="button" aria-expanded="false"
                            aria-controls="base-collpase"  >

                            <img class="me-2" src="{{cdnUrl}}/images/icons/expand.png"
                              alt=""  *ngIf="!isCollapseBasefare" >

                              <img class="me-2" src="{{cdnUrl}}/images/icons/remove.png"
                              alt="" *ngIf="isCollapseBasefare" >

                            Ticket Fare</div>

                        </div>
                      </div>
                      <div class="fare-list-right">
                        <p> {{(totalTicketFare-0) | number : '1.2-2'}}</p>
                      </div>

                    </div>
                    <!--<div *ngIf="AdtBaseFare>0">
                      <div class="collapse base_fare_collapse" id="base-collpase">
                        <div class="row ">
                          <div class="col-md-11 offset-md-1">

                            <div class="row collapse_row" *ngIf="AdtBaseFare>0">
                              <div class="col-8 fare-list-left">
                                 <p>Adult(s) ({{AdtQuantity}} X  {{AdtBaseFare | number}})</p>
                              </div>
                              <div class="col-4 fare-list-right">
                                 <p> {{AdtBaseFare * AdtQuantity | number}}</p>
                              </div>
                           </div>
                          </div>
                        </div>
                        </div>
                      </div>-->

                  </li>
                  
                  <ng-container  >
                  <li class="fare-list-item">
                    <div class="fare-list-box">
                      <div class="fare-list-left">
                        <p>Travel Insurance Charges (Incl. GST)
                        </p>
                      </div>
                      <div class="fare-list-right">
                        <p>&#8377; {{((travel_ins_charge-0)+(travel_ins_charge_tax-0)) | number : '1.2-2'}}</p>
                      </div>
                    </div>
                  </li>
                <li class="fare-list-item">
                <div class="fare-list-box">
                <div class="fare-list-left">
                <p>Convenience fee (Incl. of GST)
                </p>
                </div>
                <div class="fare-list-right">
                <p>&#8377; {{(wp_charge-0)+(wp_charge_tax-0) | number : '1.2-2'}}</p>
                </div>
                </div>
                </li>
                
                <li class="fare-list-item" *ngIf="campiagn_agent_charges==0">
                <div class="fare-list-box">
                <div class="fare-list-left">
                <p>SmartBuy Charges (Incl. of GST)</p>
                </div>
                <div class="fare-list-right">
                <p>&#8377; <b class="value-free">Rs. {{agent_charges | number : '1.2-2'}}</b> <span class="text-free">FREE</span></p>
                </div>
                </div>
                </li>
                  
                  
                               <li class="fare-list-item" *ngIf="campiagn_agent_charges < agent_charges && campiagn_agent_charges != 0">
                <div class="fare-list-box">
                <div class="fare-list-left">
                <p>SmartBuy Charges (Incl. of GST)</p>
                </div>
                <div class="fare-list-right">
                <p>&#8377; <b class="value-free">Rs. {{agent_charges | number : '1.2-2'}}</b> <span class="text-free">Rs. {{campiagn_agent_charges | number : '1.2-2'}}</span></p>
                </div>
                </div>
                </li>
                  
                               <li class="fare-list-item"  *ngIf="campiagn_agent_charges == agent_charges">
                <div class="fare-list-box">
                <div class="fare-list-left">
                <p>SmartBuy Charges (Incl. of GST)</p>
                </div>
                <div class="fare-list-right">
                <p>&#8377; <b class="value-free">Rs. {{agent_charges | number : '1.2-2'}}</b> </p>
                </div>
                </div>
                </li>


                         <li class="fare-list-item" *ngIf="pgCharges>0.00">
                <div class="fare-list-box">
                <div class="fare-list-left">
                <p>PG Charges</p>
                </div>
                <div class="fare-list-right">
                <p>&#8377; <b class="value-free">Rs. {{pgCharges | number : '1.2-2'}}</b> </p>
                </div>
                </div>
                </li>



                  <li class="fare-list-item" *ngIf="coupon_amount>0.00">
                    <div class="fare-list-box">
                      <div class="fare-list-left" data-bs-toggle="collapse" class="collapse_text" href="#coupon-collpase" role="button" aria-expanded="false" aria-controls="coupon-collpase"(click)="isCollapseShow('discount')">

                        <p>
                          <img class="me-2" src="{{cdnUrl}}/images/icons/expand.png"
                          alt=""  *ngIf="!isCollapseDiscount" >

                          <img class="me-2" src="{{cdnUrl}}/images/icons/remove.png"
                          alt="" *ngIf="isCollapseDiscount" >
                          Discounts
                        </p>
                      </div>
                      <div class="fare-list-right">
                        <p class="text-green">- &#8377; {{coupon_amount}}</p>
                      </div>
                    </div>

                    <div >
                      <div class="collapse base_fare_collapse" id="coupon-collpase">
                        <div class="row ">
                          <div class="col-md-11 offset-md-1">

                            <div class="row collapse_row">
                              <div class="col-5 fare-list-left">
                                 <p>Coupoun Code</p>
                              </div>
                              <div class="col-7 fare-list-right">
                                 <p>{{coupon_code}}</p>
                              </div>
                           </div>


                          </div>
                        </div>
                        </div>

                      </div>


                  </li>


                      <li class="fare-list-item" *ngIf="flexipaysummry">
                <div class="fare-list-box">
                <div class="fare-list-left">
                <p>FlexiPay Discount</p>
                </div>
                <div class="fare-list-right">
                <p>&#8377; <b class="value-free">Rs. {{flexiDiscount | number : '1.2-2'}}</b> </p>
                </div>
                </div>
                </li>

                  <li class="fare-list-item">
                    <div class="fare-list-box pt-30">
                      <div class="fare-list-left">
                        <h6 class="fw_7">Grand Total</h6>
                      </div>
                      <div class="fare-list-right" >
                        <h6 class="fw_7"> {{(totalCollectibleAmount-0)+(pgCharges-0) | number : '1.2-2'}}</h6>
                         <p class="payment-text pt-1"><sup>*</sup>PG charges as applicable.</p>
                      </div>
                          
                    </div>
                  </li>
           </ng-container>
                </ul>
              </div>
            </div>
            <div class="continue-widget mb-20">
 
              <a href="javascript:void(0);" class="button-style w-100" (click)="createTrainItinerary()"
                *ngIf="steps==2">Continue</a>
              <a href="javascript:void(0);" class="button-style w-100" (click)="opencovidconfirmationDialog()"
                *ngIf="steps==3">Continue</a>
             
            </div>
          </div>
          <div *ngIf="steps==4 && !isMobile">
     <app-coupons (sendCouponEvent)="receiveCouponDetails($event)" [passSessionKey]="searchBusKey" [orderReferenceNumber]="orderReferenceNumber" [remove_Coupon]="remove_Coupon"
                [passTotalFare]="totalFare" [passActualFare]="intialTotalFare"
                [passConvinenceFee]="convenience_fee" passServiceToken="Bus" [passPartnerToken]="partnerToken"
                (sendtotalfare)="recivetotalFare($event)" [customerInfo]="customerInfo">
              </app-coupons>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>
<!-- ------------------------------
          >>> Modal bookingprocess
      ---------------------------------->
<div class="modal bookingprocess" id="infoprocess" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body " style="padding: 25px;" *ngIf="searchData">
        <div class="bookingprocess-items">
          <div class="bookingprocess-title text-center mb-30">
            <h5><strong>We are processing your booking. <br> Please wait...</strong></h5>
          </div>
          <div class="bookingprocess-content">
            <div class="bookingprocess-flight">
              <h6>{{searchData.fromCity}},{{searchData.fromContry}} ({{searchData.flightfrom}})</h6>
              <p class="mt-10">{{searchData.departure | date:'dd.MM.yyyy'}} - <span>{{searchData.adults}}
                  Adult,</span> <span *ngIf="searchData.child != '0'">{{searchData.child}} Child,</span> <span
                  *ngIf="searchData.infants != '0'">{{searchData.infants}} Infants,</span>
                {{searchData.flightclass == "B" ? "Business":null || searchData.flightclass == "E" ? "Economy":null || searchData.flightclass == "F" ? "First":null  || searchData.flightclass == "P" ? "Premium":null}}
              </p>
              <h6>{{searchData.toCity}},{{searchData.toContry}} ({{searchData.flightto}})</h6>
            </div>
            <div class="bookingprocess-processbar">
              <div class="progress">
                <div class="progress-bar" role="progressbar" attr.aria-valuenow="{{loaderValue}}" aria-valuemin="0"
                  aria-valuemax="100" [ngStyle]="{'max-width':loaderValue +'%'}">
                  <span class="title"> &nbsp; </span>
                </div>
              </div>
            </div>
          </div>
          <div class="refresh-text text-center pt-2">
            <p>Please don't click or refresh the page</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade bookingprocess" id="bookingprocessFailed" data-bs-backdrop="static" data-bs-keyboard="false"
  tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body " style="padding: 25px;">
        <div class="bookingprocess-items">
          <div class="bookingprocess-content">
            An Error occurred during fetching details. Do Not Worry! <br><br> Click on Retry
          </div>
          <div class="refresh-text text-center pt-2">
            <button type="button" class="btn btn-primary" (click)="triggerBack()">Retry</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="modal fade bookingprocess" id="bookingprocessPriceChange" data-bs-backdrop="static"
  data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body " style="padding: 25px;">
        <div class="bookingprocess-items">
          <div class="bookingprocess-title text-center mb-30">
            <h5><strong>Fare has changed</strong></h5>
          </div>
          <div class="bookingprocess-content p-20 border-0 m-0">
            <p>The fare of the itinerary you have chosen has changed</p>
            <div><b>Old Price</b> : {{old_fare}}</div>
            <hr>
            <div>
              <div class="row">
                <div class="col-6">
                  <b>New Price</b>
                </div>
                <div class="col-6 text-end">
                  <b class="new_fare_flight">{{new_fare}}</b>
                </div>
              </div>
            </div>
          </div>
          <div class="refresh-text text-center pt-2">
            <button type="button" class="btn btn-primary" (click)="continueWithNewFare(continueWithNewFareInterval)">Continue with New
              Fare</button>
          </div>
          <div class="refresh-text text-center pt-2">
            <button type="button" class="btn" (click)="triggerBack()">Choose Different Itinerary</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Mlite Footer Price Section  -->
<div class="d-block d-sm-none">
  <div class="footer-sticky-mlite">
    <div>
      <div class="apply_fare row">
       <!--  <p *ngIf="steps<5" class="w-75"></p> -->
          <div class="col-6 text-left">
              <p *ngIf="steps==5"><a href="javascript:;" type="button" class="" data-bs-toggle="modal"
                  data-bs-target="#applyCoupon_mlite">Apply Coupon</a></p>
          </div>
          <div class="col-6 text-right">
              <p><a href="javascript:;" type="button" class="" data-bs-toggle="modal"
                  data-bs-target="#fareSummary_mlite">Fare Summary</a></p>
          </div>
      </div>
      <div class="price_sec">
        <div class="row">
          <div class="col-5">
            <div class="">
              <h6 class="price">{{totalCollectibleAmount|number}}</h6>
              <p class="emi" *ngIf="TotalFare > EMIAvailableLimit">EMI @
                {{calculateEMI(totalCollectibleAmount)|number: '.2'}}/month</p>

            </div>
          </div>
          <div class="col-7">
            <div>
              <a href="javascript:void(0);" class="button-style btn_pay" (click)="sendFlightDetails()"
                *ngIf="steps==1">Continue</a>
              <a href="javascript:void(0);" class="button-style btn_pay" (click)="continueTravellerDetails()"
                *ngIf="steps==2">Continue</a>
              <a href="javascript:void(0);" class="button-style btn_pay" (click)="continueSeatSelection()"
                *ngIf="steps==3">Continue</a>
              <a href="javascript:void(0);" class="button-style btn_pay" (click)="continueReviewBooking()"
                *ngIf="steps==4">Continue</a>
              <a href="javascript:void(0);" class="button-style btn_pay" (click)="continuePayment()"
                *ngIf="steps==5">Continue</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Mlite Apply Coupon Popup -->
<div class="modal coupon_mlite_popup" id="applyCoupon_mlite" tabindex="-1" aria-labelledby="applyCoupon_mliteLabel"
  aria-hidden="true" *ngIf="steps==5 && isMobile">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Coupon Code</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" >
 <app-coupons (sendCouponEvent)="receiveCouponDetails($event)" [passSessionKey]="searchBusKey" [orderReferenceNumber]="orderReferenceNumber" [remove_Coupon]="remove_Coupon"
                [passTotalFare]="totalFare" [passActualFare]="intialTotalFare"
                [passConvinenceFee]="convenience_fee" passServiceToken="Bus" [passPartnerToken]="partnerToken"
                (sendtotalfare)="recivetotalFare($event)" [customerInfo]="customerInfo">
              </app-coupons>
      </div>
      <!-- <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
              </div> -->
    </div>
  </div>
</div>

<!-- Mlite Fare Summary Popup -->
<div class="modal coupon_mlite_popup" id="fareSummary_mlite" tabindex="-1" aria-labelledby="fareSummary_mliteLabel"
  aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header pb-0">
        <h5 class="modal-title">Fare Summary</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body pt-0">
        <div>
          <img *ngIf="selectedOnwardVendor"
            src="{{cdnUrl}}images/flight_partners/{{selectedOnwardVendor.partnerName}}.png"
            alt="{{selectedOnwardVendor.partnerName}}">
        </div>
        <div class="widget-content">
          <ul class="widget-list clearfix">
            <li class="fare-list-item">
              <div class="fare-list-box">
                <div class="fare-list-left">
                  <p>
                    <img class="me-2" src="{{cdnUrl}}/images/icons/add.png" alt="">
                    Base Fare
                  </p>
                </div>
                <div class="fare-list-right">
                  <p>&#8377;{{BaseFare|number}}</p>
                </div>
              </div>
            </li>
            <li class="fare-list-item">
              <div class="fare-list-box">
                <div class="fare-list-left">
                  <p>
                    <img class="me-2" src="{{cdnUrl}}/images/icons/add.png" alt="">
                    Taxes and Fees
                  </p>
                </div>
                <div class="fare-list-right">
                  <p>&#8377;{{Tax |number}}</p>
                </div>
              </div>
            </li>

            <li class="fare-list-item" *ngIf="partnerConvFee>0.00 && steps > 3 ">
              <div class="fare-list-box">
                <div class="fare-list-left">
                  <p>
                    <img class="me-2" src="{{cdnUrl}}/images/icons/add.png" alt="">
                    {{selectedOnwardVendor.partnerName}} Convenience Fee
                  </p>
                </div>
                <div class="fare-list-right">
                  <p>&#8377;{{partnerConvFee |number}}</p>
                </div>
              </div>
            </li>
            <li class="fare-list-item" *ngIf="enableVAS==1 && vas_amount>0.00">
              <div class="fare-list-box">
                <div class="fare-list-left">
                  <p>
                    <img class="me-2" src="{{cdnUrl}}/images/icons/add.png" alt="">
                    Baggage/Seat/Meals
                  </p>
                </div>
                <div class="fare-list-right">
                  <p>&#8377;{{vas_amount}}</p>
                </div>
              </div>
            </li>
            <li class="fare-list-item" *ngIf="coupon_amount>0.00">
              <div class="fare-list-box">
                <div class="fare-list-left">
                  <p>
                    <img class="me-2" src="{{cdnUrl}}/images/icons/add.png" alt="">
                    Discounts
                  </p>
                </div>
                <div class="fare-list-right">
                  <p class="text-green">-&#8377;{{coupon_amount}}</p>
                </div>
              </div>
            </li>
            <li class="fare-list-item">
              <div class="fare-list-box pt-30">
                <div class="fare-list-left">
                  <h6 class="fw_7">Grand Total </h6>
                </div>
                <div class="fare-list-right" *ngIf="steps < 4">
                  <h6 class="fw_7">{{totalCollectibleAmount-partnerConvFee|number}}</h6>
                  <p class="opacity_05" *ngIf="totalCollectibleAmount-partnerConvFee > EMIAvailableLimit">EMI @
                    {{calculateEMI(totalCollectibleAmount-partnerConvFee)|number: '.2'}}/month</p>
                </div>

                <div class="fare-list-right" *ngIf="steps > 3">
                  <h6 class="fw_7">{{totalCollectibleAmount|number}}</h6>
                  <p class="opacity_05" *ngIf="TotalFare > EMIAvailableLimit">EMI @
                    {{calculateEMI(totalCollectibleAmount)|number: '.2'}}/month</p>
                </div>

              </div>
            </li>
          </ul>
        </div>
      </div>
      <!-- <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
              </div> -->
    </div>
  </div>
</div>


<div class="modal fade bookingprocess" id="bookingprocessExpires" data-bs-backdrop="static" data-bs-keyboard="false"
  tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body " style="padding: 25px;">
        <div class="bookingprocess-items">
          <div class="" id="after-expiry">
            <div class="">
              <div class="text-center ">
                <div><img src="{{cdnUrl}}images/alert.png" /></div>
              </div>
              <div class="session-title text-center ">
                <h2>Sorry!</h2>
              </div>
              <div class="alert-box-msg  plr50"> This session has expired due to inactivity</div>
            </div>
            <div class="">
              <div class="continue-btn-div">
                <button type="button" data-bs-dismiss="modal" class="btn btn-normal btn-animated btn-session-expired"
                  (click)="triggerBack()"><span>Start over</span></button>
              </div>
            </div>
          </div>


        </div>
      </div>
    </div>
  </div>
</div>

</main>
<div class="modal fade bookingprocess" id="bookingprocessFailed1" data-bs-backdrop="static" data-bs-keyboard="false"
tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered">
  <div class="modal-content">
    <div class="modal-body " style="padding: 25px;">
      <div class="bookingprocess-items">
        <div class="bookingprocess-content">
          An Error occurred during fetching details. Do Not Worry! <br><br> Click on Retry
        </div>
        <div class="refresh-text text-center pt-2">
          <button type="button" class="btn btn-primary" (click)="goBack()">Retry</button>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
