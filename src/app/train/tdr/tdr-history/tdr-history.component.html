<div  class="list-back-title"> 
    <div class="row">
      <div class="col-11"> <a href="{{domainRedirect}}manage_orders"><i class="fa fa-angle-left backOrder_sym"
      aria-hidden="true"></i><span class="font-weight-bold ml-4">Trains Booking History</span></a></div>
    </div>
 </div>

<div class="container train-tdr-section">
  <div class="d-none d-sm-block">
      <div class="manage_account m-0">
        <div>
          <h4 class="cus_name">Welcome {{REWARD_FIRSTNAME}}</h4>
        </div>
     </div>
      <div class="mbt20 row">
        <div class="col-md-12 w-bb">
          <div>
            <ul class="nav nav-tabs tabs-left manage_account_tabs">
              <div class="tab_title">
                <div class="row">
                
                <div class="col-md-12 text-left">
                <h4 class="title_name">
                 <a href="{{domainRedirect}}manage_orders"><i class="fa fa-angle-left" aria-hidden="true"></i></a> Trains Booking History</h4></div>
              
                </div>
              </div>
            </ul>
          </div>
        </div>
      </div>
    </div>
    
    
    <div class="col-12 train-btn-group my-4" >
        <a *ngIf = "!isguestUser" href="{{domainRedirect}}train_orders" class="btn btnTdr-default btn-sm  mr-3">Booking History</a>
        <a *ngIf = "!isguestUser" href="{{domainRedirect}}train_cancellation_history" class="btn btnTdr-default btn-sm  mr-3">Cancellation History</a>
        <a *ngIf = "!isguestUser" href="{{domainRedirect}}train_failed_orders" class="btn btnTdr-default btn-sm  mr-3">Failed History</a>
        <a routerLink="/{{domainPath}}/train/filetdr" class="btn  btnTdr-default btn-sm mr-3" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{exact:true}">File TDR</a>
    <a routerLink="/{{domainPath}}/train/tdrhistory" class="btn  btnTdr-active-{{domainName}} btn-sm mr-3" [routerLinkActive]="['active']" [routerLinkActiveOptions]="{exact:true}">TDR History</a>
      </div>

     <div class="bookedTicketHistory-section-{{domainName}}">
      <div class="title-book">
        TDR History
        </div>
         <div class="content-search">
          <!-- <form id="searchform"> -->
            <div class="row">
                <div class="col-md-12 pl-5 pr-5 pt-4">
                    <div class="row">
                      <div class="col-md-6">
                        <div class="row mb-2">
                          <label class="col-md-4 pt-2">PNR Number :</label>
                          <div class="col-md-8"> 
                            <input maxlength="10" (keypress)="numberOnly($event)" id="searchpnr" class="form-control" type="tel"></div>
                        </div>
                        <div class="row mb-2">
                          <label class="col-md-4 pt-2">From :</label>
                          <div class="col-md-8"> <input (keypress)="specialcharInput($event)"  id="searchfrmstn"  class="form-control" type="text"></div>
                        </div>
                        <!-- <div class="row mb-2">
                          <label class="col-md-4 pt-2">OrderID :</label>
                          <div class="col-md-8"> <input  class="form-control" id="refernceID"></div>
                        </div> -->
                      </div>
                      <div class="col-md-6">
                        <div class="row mb-2">
                          <label class="col-md-4 pt-2">Transaction ID :</label>
                          <div class="col-md-8"> <input maxlength="15" (keypress)="numberOnly($event)" id="searchtsID" class="form-control" type="text"></div>
                        </div>
                        <div class="row mb-2">
                          <label class="col-md-4 pt-2">To :</label>
                          <div class="col-md-8"> <input (keypress)="specialcharInput($event)"  id="searchtostn"  class="form-control" type="text"></div>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <div class="row mb-2">
                          <label class="col-md-4 pt-4">From Date :</label> 
                          <div class="col-md-8">
                            <mat-form-field floatLabel="never">
                              <input id="searchtdate" #fromdateInput matInput placeholder="DD/MM/YYYY" [matDatepicker]="dp3" [(ngModel)]="dateToPass" (ngModelChange)="getfromdate()"  disabled>
                              <mat-datepicker-toggle matSuffix [for]="dp3"></mat-datepicker-toggle>
                              <mat-datepicker #dp3 disabled="false"></mat-datepicker>
                            </mat-form-field>
                          
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="row mb-2">
                          <label class="col-md-4 pt-4">To Date :</label> 
                          <div class="col-md-8">
                            <mat-form-field floatLabel="never">
                              <input id="searchjdate" #todatenput matInput [min]="fromDate" placeholder="DD/MM/YYYY" [matDatepicker]="dp4" disabled>
                              <mat-datepicker-toggle matSuffix [for]="dp4"></mat-datepicker-toggle>
                              <mat-datepicker #dp4 disabled="false" ></mat-datepicker>
                            </mat-form-field>
                          
                          </div>
                        </div>
                      </div>
                      <div class="col-md-12">
                          <div class="row mb-2">
                            <div class="col-md-12 text-md-right">
                              <button type="submit" id="search_submit" class="w-btn-submit">Submit</button> &nbsp;&nbsp;
                              <button type="submit" class="w-btn-danger" (click)='reset()'>Reset</button>
                            </div>
                          </div>
                      </div>
                    </div>
                </div>
            </div>
          <!-- </form> -->
         </div>
     </div>
      <!-- <form id="searchform" [formGroup]="searchForm">
          <label>PNR Number: <input formControlName="pnrNumber" id="searchpnr" class="form-control" type="tel" placeholder="PNR NUmber"></label>
          <label>Transcation ID: <input formControlName="transactionID" id="searchtsID" class="form-control" type="text" placeholder="Transcation ID"></label>
         <label> From:<input  id="searchfrmstn"  class="form-control" type="text"></label>
         <label>To:<input   id="searchtostn"  class="form-control" type="text"></label>
         <label>OrderID:<input  class="form-control" id="refernceID"></label>
         <label>From Journey Date:
            <mat-form-field>
                <input id="searchjdate" style="width:50%" matInput [matDatepicker]="picker" placeholder="Choose a date">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
         </label>
         <label>To Journey Date:
            <mat-form-field>
                <input id="searchtdate"  style="width:50%" matInput [matDatepicker]="picker2" placeholder="Choose a date">
                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                <mat-datepicker #picker2></mat-datepicker>
              </mat-form-field>
         </label>


      </form> -->
<!-- 
      <mat-form-field>
          <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter" autocomplete="off">
        </mat-form-field> -->

      <!-- <table mat-table [dataSource]="dataSource" matSort>

          
                <ng-container matColumnDef="tdr_fileddate">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>TDR Filling Date</th>
                    <td mat-cell *matCellDef="let element"> {{element.tdr_fileddate | date}} </td>
                  </ng-container>
          
          <ng-container matColumnDef="pnr_no">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> PNR Number </th>
            <td mat-cell *matCellDef="let element"> {{element.pnr_no}} </td>
          </ng-container>
           
          <ng-container matColumnDef="transaction_id">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Transcation ID </th>
              <td mat-cell *matCellDef="let element"> {{element.transaction_id}} </td>
            </ng-container>
        
          
          <ng-container matColumnDef="from_station">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> From Station </th>
            <td mat-cell *matCellDef="let element"> {{element.from_station}} </td>
          </ng-container>
        
          
          <ng-container matColumnDef="to_station">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> To Station </th>
            <td mat-cell *matCellDef="let element"> {{element.to_station}} </td>
          </ng-container>
        
         
          <ng-container matColumnDef="tdrstatus">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> TDR Status </th>
            <td mat-cell *matCellDef="let element"> {{element.tdrstatus}} </td>
          </ng-container>
        
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        <mat-paginator
  [pageSizeOptions]="[5, 10, 20]"
  showFirstLastButtons
></mat-paginator> -->

<div class="bookedTickets-section-{{domainName}}">
  <div class="title-book">
    TDR Tickets
    </div>
    <div class="table-responsive">
      <table  class="display" style="width:100%" id="historyTable">
        <thead>
        <tr>
          <th>TDR Filing Date</th>
          <th>PNR Number</th>
          <th>Train no</th>
          <th>From</th>
          <th>TDR Reason Code</th>
          <th>TDR Status</th>
        </tr>
        </thead>
        <!-- <tbody>
        <tr *ngFor="let data of tdrHistoryData">
          <td>{{data.pnr_no}}</td>
          <td>{{data.transaction_id}}</td>
          <td>{{data.from_station}}</td>
          <td>{{data.to_station}}</td>
          <td>{{data.order_ref_num}}</td>
          <td>{{data.journey_date}}</td>
        </tr>
        
        </tbody> -->
        
      </table>
    </div>
</div>
<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#fff" type="ball-running-dots" [fullScreen] = "true"><p style="color: white" > Loading... </p></ngx-spinner>
      </div>
